<!DOCTYPE html SYSTEM "about:legacy-compat">
<html lang="en-US" data-preset="contrast" data-primary-color="#E8488B"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="UTF-8"><meta name="built-on" content="2025-06-08T20:10:45.64505623"><title>Mapeamento de Atributos ER para Relacional | Database Management Systems: A Complete Guide</title><script type="application/json" id="virtual-toc-data">[{"id":"tipos-de-atributos","level":0,"title":"Tipos de Atributos","anchor":"#tipos-de-atributos"},{"id":"restri-es-e-valida-es","level":0,"title":"Restrições e Validações","anchor":"#restri-es-e-valida-es"},{"id":"padr-es-de-implementa-o","level":0,"title":"Padrões de Implementação","anchor":"#padr-es-de-implementa-o"},{"id":"otimiza-es","level":0,"title":"Otimizações","anchor":"#otimiza-es"},{"id":"exemplos-pr-ticos","level":0,"title":"Exemplos Práticos","anchor":"#exemplos-pr-ticos"},{"id":"considera-es-importantes","level":0,"title":"Considerações Importantes","anchor":"#considera-es-importantes"},{"id":"conclus-o","level":0,"title":"Conclusão","anchor":"#conclus-o"}]</script><script type="application/json" id="topic-shortcuts"></script><link href="https://resources.jetbrains.com/writerside/apidoc/6.22.0-b776/app.css" rel="stylesheet"><link href="static/custom.css" rel="stylesheet"><link rel="icon" type="image/svg" sizes="16x16" href="images/logo-primary.svg"><meta name="image" content=""><!-- Open Graph --><meta property="og:title" content="Mapeamento de Atributos ER para Relacional | Database Management Systems: A Complete Guide"><meta property="og:description" content=""><meta property="og:image" content=""><meta property="og:site_name" content="Database Management Systems: A Complete Guide Help"><meta property="og:type" content="website"><meta property="og:locale" content="en_US"><meta property="og:url" content="writerside-documentation/er-mapping-attributes.html"><!-- End Open Graph --><!-- Twitter Card --><meta name="twitter:card" content="summary_large_image"><meta name="twitter:site" content=""><meta name="twitter:title" content="Mapeamento de Atributos ER para Relacional | Database Management Systems: A Complete Guide"><meta name="twitter:description" content=""><meta name="twitter:creator" content=""><meta name="twitter:image:src" content=""><!-- End Twitter Card --><!-- Schema.org WebPage --><script type="application/ld+json">{
    "@context": "http://schema.org",
    "@type": "WebPage",
    "@id": "writerside-documentation/er-mapping-attributes.html#webpage",
    "url": "writerside-documentation/er-mapping-attributes.html",
    "name": "Mapeamento de Atributos ER para Relacional | Database Management Systems: A Complete Guide",
    "description": "",
    "image": "",
    "inLanguage":"en-US"
}</script><!-- End Schema.org --><!-- Schema.org WebSite --><script type="application/ld+json">{
    "@type": "WebSite",
    "@id": "writerside-documentation/#website",
    "url": "writerside-documentation/",
    "name": "Database Management Systems: A Complete Guide Help"
}</script><!-- End Schema.org --></head><body data-id="er-mapping-attributes" data-main-title="Mapeamento de Atributos ER para Relacional" data-article-props="{&quot;seeAlsoStyle&quot;:&quot;links&quot;}" data-template="article" data-breadcrumbs="data-modeling.md|Modelagem de Dados///logical-modeling.md|Modelagem Lógica///relational-model.md|Modelo Relacional///er-to-relational.md|Transformação ER para Relacional"><div class="wrapper"><main class="panel _main"><header class="panel__header"><div class="container"><h3>Database Management Systems: A Complete Guide  Help</h3><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="inactive"><h1 data-toc="er-mapping-attributes" id="er-mapping-attributes.md">Mapeamento de Atributos ER para Relacional</h1><section class="chapter"><h2 id="tipos-de-atributos" data-toc="tipos-de-atributos">Tipos de Atributos</h2><section class="chapter"><h3 id="1-atributos-simples" data-toc="1-atributos-simples">1. Atributos Simples</h3><svg aria-roledescription="er" role="graphics-document document" viewBox="0 0 170.0706024169922 148" style="max-width: 170.0706024169922px;" xmlns="http://www.w3.org/2000/svg" width="100%" id="mermaid"><g></g><defs><marker orient="auto" markerHeight="240" markerWidth="190" refY="7" refX="0" id="MD_PARENT_START"><path d="M 18,7 L9,13 L1,7 L9,1 Z"></path></marker></defs><defs><marker orient="auto" markerHeight="28" markerWidth="20" refY="7" refX="19" id="MD_PARENT_END"><path d="M 18,7 L9,13 L1,7 L9,1 Z"></path></marker></defs><defs><marker orient="auto" markerHeight="18" markerWidth="18" refY="9" refX="0" id="ONLY_ONE_START"><path d="M9,0 L9,18 M15,0 L15,18" fill="none" stroke="gray"></path></marker></defs><defs><marker orient="auto" markerHeight="18" markerWidth="18" refY="9" refX="18" id="ONLY_ONE_END"><path d="M3,0 L3,18 M9,0 L9,18" fill="none" stroke="gray"></path></marker></defs><defs><marker orient="auto" markerHeight="18" markerWidth="30" refY="9" refX="0" id="ZERO_OR_ONE_START"><circle r="6" cy="9" cx="21" fill="white" stroke="gray"></circle><path d="M9,0 L9,18" fill="none" stroke="gray"></path></marker></defs><defs><marker orient="auto" markerHeight="18" markerWidth="30" refY="9" refX="30" id="ZERO_OR_ONE_END"><circle r="6" cy="9" cx="9" fill="white" stroke="gray"></circle><path d="M21,0 L21,18" fill="none" stroke="gray"></path></marker></defs><defs><marker orient="auto" markerHeight="36" markerWidth="45" refY="18" refX="18" id="ONE_OR_MORE_START"><path d="M0,18 Q 18,0 36,18 Q 18,36 0,18 M42,9 L42,27" fill="none" stroke="gray"></path></marker></defs><defs><marker orient="auto" markerHeight="36" markerWidth="45" refY="18" refX="27" id="ONE_OR_MORE_END"><path d="M3,9 L3,27 M9,18 Q27,0 45,18 Q27,36 9,18" fill="none" stroke="gray"></path></marker></defs><defs><marker orient="auto" markerHeight="36" markerWidth="57" refY="18" refX="18" id="ZERO_OR_MORE_START"><circle r="6" cy="18" cx="48" fill="white" stroke="gray"></circle><path d="M0,18 Q18,0 36,18 Q18,36 0,18" fill="none" stroke="gray"></path></marker></defs><defs><marker orient="auto" markerHeight="36" markerWidth="57" refY="18" refX="39" id="ZERO_OR_MORE_END"><circle r="6" cy="18" cx="9" fill="white" stroke="gray"></circle><path d="M21,18 Q39,0 57,18 Q39,36 21,18" fill="none" stroke="gray"></path></marker></defs><g transform="translate(20,20 )" id="entity-PRODUTO-70eb484a-58b0-5b48-bc22-e6fb8866a664"><rect height="108" width="130.07060050964355" y="0" x="0" class="er entityBox"></rect><text transform="translate(65.03530025482178,12)" style="dominant-baseline: middle; text-anchor: middle; font-size: 12px;" y="0" x="0" id="text-entity-PRODUTO-70eb484a-58b0-5b48-bc22-e6fb8866a664" class="er entityLabel">PRODUTO</text><rect height="21" width="45.28125" y="24" x="0" class="er attributeBoxOdd"></rect><text transform="translate(5,34.5)" style="dominant-baseline: middle; font-size: 10.2px;" y="0" x="0" id="text-entity-PRODUTO-70eb484a-58b0-5b48-bc22-e6fb8866a664-attr-1-type" class="er entityLabel">string</text><rect height="21" width="60.970367431640625" y="24" x="45.28125" class="er attributeBoxOdd"></rect><text transform="translate(50.28125,34.5)" style="dominant-baseline: middle; font-size: 10.2px;" y="0" x="0" id="text-entity-PRODUTO-70eb484a-58b0-5b48-bc22-e6fb8866a664-attr-1-name" class="er entityLabel">codigo</text><rect height="21" width="23.81898307800293" y="24" x="106.25161743164062" class="er attributeBoxOdd"></rect><text transform="translate(111.25161743164062,34.5)" style="dominant-baseline: middle; font-size: 10.2px;" y="0" x="0" id="text-entity-PRODUTO-70eb484a-58b0-5b48-bc22-e6fb8866a664-attr-1-key" class="er entityLabel">PK</text><rect height="21" width="45.28125" y="45" x="0" class="er attributeBoxEven"></rect><text transform="translate(5,55.5)" style="dominant-baseline: middle; font-size: 10.2px;" y="0" x="0" id="text-entity-PRODUTO-70eb484a-58b0-5b48-bc22-e6fb8866a664-attr-2-type" class="er entityLabel">string</text><rect height="21" width="60.970367431640625" y="45" x="45.28125" class="er attributeBoxEven"></rect><text transform="translate(50.28125,55.5)" style="dominant-baseline: middle; font-size: 10.2px;" y="0" x="0" id="text-entity-PRODUTO-70eb484a-58b0-5b48-bc22-e6fb8866a664-attr-2-name" class="er entityLabel">nome</text><rect height="21" width="23.81898307800293" y="45" x="106.25161743164062" class="er attributeBoxEven"></rect><text transform="translate(111.25161743164062,55.5)" style="dominant-baseline: middle; font-size: 10.2px;" y="0" x="0" id="text-entity-PRODUTO-70eb484a-58b0-5b48-bc22-e6fb8866a664-attr-2-key" class="er entityLabel"></text><rect height="21" width="45.28125" y="66" x="0" class="er attributeBoxOdd"></rect><text transform="translate(5,76.5)" style="dominant-baseline: middle; font-size: 10.2px;" y="0" x="0" id="text-entity-PRODUTO-70eb484a-58b0-5b48-bc22-e6fb8866a664-attr-3-type" class="er entityLabel">decimal</text><rect height="21" width="60.970367431640625" y="66" x="45.28125" class="er attributeBoxOdd"></rect><text transform="translate(50.28125,76.5)" style="dominant-baseline: middle; font-size: 10.2px;" y="0" x="0" id="text-entity-PRODUTO-70eb484a-58b0-5b48-bc22-e6fb8866a664-attr-3-name" class="er entityLabel">preco</text><rect height="21" width="23.81898307800293" y="66" x="106.25161743164062" class="er attributeBoxOdd"></rect><text transform="translate(111.25161743164062,76.5)" style="dominant-baseline: middle; font-size: 10.2px;" y="0" x="0" id="text-entity-PRODUTO-70eb484a-58b0-5b48-bc22-e6fb8866a664-attr-3-key" class="er entityLabel"></text><rect height="21" width="45.28125" y="87" x="0" class="er attributeBoxEven"></rect><text transform="translate(5,97.5)" style="dominant-baseline: middle; font-size: 10.2px;" y="0" x="0" id="text-entity-PRODUTO-70eb484a-58b0-5b48-bc22-e6fb8866a664-attr-4-type" class="er entityLabel">int</text><rect height="21" width="60.970367431640625" y="87" x="45.28125" class="er attributeBoxEven"></rect><text transform="translate(50.28125,97.5)" style="dominant-baseline: middle; font-size: 10.2px;" y="0" x="0" id="text-entity-PRODUTO-70eb484a-58b0-5b48-bc22-e6fb8866a664-attr-4-name" class="er entityLabel">quantidade</text><rect height="21" width="23.81898307800293" y="87" x="106.25161743164062" class="er attributeBoxEven"></rect><text transform="translate(111.25161743164062,97.5)" style="dominant-baseline: middle; font-size: 10.2px;" y="0" x="0" id="text-entity-PRODUTO-70eb484a-58b0-5b48-bc22-e6fb8866a664-attr-4-key" class="er entityLabel"></text></g></svg><section class="chapter"><h4 id="implementa-o" data-toc="implementa-o">Implementa&ccedil;&atilde;o</h4><div class="code-block" data-lang="sql">
CREATE TABLE Produto (
    codigo VARCHAR(20) PRIMARY KEY,
    nome VARCHAR(100) NOT NULL,
    preco DECIMAL(10,2) NOT NULL,
    quantidade INTEGER DEFAULT 0
);
</div></section></section><section class="chapter"><h3 id="2-atributos-compostos" data-toc="2-atributos-compostos">2. Atributos Compostos</h3><svg aria-roledescription="er" role="graphics-document document" viewBox="0 0 192.54388427734375 211" style="max-width: 192.54388427734375px;" xmlns="http://www.w3.org/2000/svg" width="100%" id="mermaid"><g></g><defs><marker orient="auto" markerHeight="240" markerWidth="190" refY="7" refX="0" id="MD_PARENT_START"><path d="M 18,7 L9,13 L1,7 L9,1 Z"></path></marker></defs><defs><marker orient="auto" markerHeight="28" markerWidth="20" refY="7" refX="19" id="MD_PARENT_END"><path d="M 18,7 L9,13 L1,7 L9,1 Z"></path></marker></defs><defs><marker orient="auto" markerHeight="18" markerWidth="18" refY="9" refX="0" id="ONLY_ONE_START"><path d="M9,0 L9,18 M15,0 L15,18" fill="none" stroke="gray"></path></marker></defs><defs><marker orient="auto" markerHeight="18" markerWidth="18" refY="9" refX="18" id="ONLY_ONE_END"><path d="M3,0 L3,18 M9,0 L9,18" fill="none" stroke="gray"></path></marker></defs><defs><marker orient="auto" markerHeight="18" markerWidth="30" refY="9" refX="0" id="ZERO_OR_ONE_START"><circle r="6" cy="9" cx="21" fill="white" stroke="gray"></circle><path d="M9,0 L9,18" fill="none" stroke="gray"></path></marker></defs><defs><marker orient="auto" markerHeight="18" markerWidth="30" refY="9" refX="30" id="ZERO_OR_ONE_END"><circle r="6" cy="9" cx="9" fill="white" stroke="gray"></circle><path d="M21,0 L21,18" fill="none" stroke="gray"></path></marker></defs><defs><marker orient="auto" markerHeight="36" markerWidth="45" refY="18" refX="18" id="ONE_OR_MORE_START"><path d="M0,18 Q 18,0 36,18 Q 18,36 0,18 M42,9 L42,27" fill="none" stroke="gray"></path></marker></defs><defs><marker orient="auto" markerHeight="36" markerWidth="45" refY="18" refX="27" id="ONE_OR_MORE_END"><path d="M3,9 L3,27 M9,18 Q27,0 45,18 Q27,36 9,18" fill="none" stroke="gray"></path></marker></defs><defs><marker orient="auto" markerHeight="36" markerWidth="57" refY="18" refX="18" id="ZERO_OR_MORE_START"><circle r="6" cy="18" cx="48" fill="white" stroke="gray"></circle><path d="M0,18 Q18,0 36,18 Q18,36 0,18" fill="none" stroke="gray"></path></marker></defs><defs><marker orient="auto" markerHeight="36" markerWidth="57" refY="18" refX="39" id="ZERO_OR_MORE_END"><circle r="6" cy="18" cx="9" fill="white" stroke="gray"></circle><path d="M21,18 Q39,0 57,18 Q39,36 21,18" fill="none" stroke="gray"></path></marker></defs><g transform="translate(20,20 )" id="entity-FUNCIONARIO-7a22ad77-f12b-571d-a83b-148fa4755f06"><rect height="171" width="152.54388809204102" y="0" x="0" class="er entityBox"></rect><text transform="translate(76.27194404602051,12)" style="dominant-baseline: middle; text-anchor: middle; font-size: 12px;" y="0" x="0" id="text-entity-FUNCIONARIO-7a22ad77-f12b-571d-a83b-148fa4755f06" class="er entityLabel">FUNCIONARIO</text><rect height="21" width="35.36581993103027" y="24" x="0" class="er attributeBoxOdd"></rect><text transform="translate(5,34.5)" style="dominant-baseline: middle; font-size: 10.2px;" y="0" x="0" id="text-entity-FUNCIONARIO-7a22ad77-f12b-571d-a83b-148fa4755f06-attr-1-type" class="er entityLabel">string</text><rect height="21" width="93.35908508300781" y="24" x="35.36581993103027" class="er attributeBoxOdd"></rect><text transform="translate(40.36581993103027,34.5)" style="dominant-baseline: middle; font-size: 10.2px;" y="0" x="0" id="text-entity-FUNCIONARIO-7a22ad77-f12b-571d-a83b-148fa4755f06-attr-1-name" class="er entityLabel">id</text><rect height="21" width="23.81898307800293" y="24" x="128.7249050140381" class="er attributeBoxOdd"></rect><text transform="translate(133.7249050140381,34.5)" style="dominant-baseline: middle; font-size: 10.2px;" y="0" x="0" id="text-entity-FUNCIONARIO-7a22ad77-f12b-571d-a83b-148fa4755f06-attr-1-key" class="er entityLabel">PK</text><rect height="21" width="35.36581993103027" y="45" x="0" class="er attributeBoxEven"></rect><text transform="translate(5,55.5)" style="dominant-baseline: middle; font-size: 10.2px;" y="0" x="0" id="text-entity-FUNCIONARIO-7a22ad77-f12b-571d-a83b-148fa4755f06-attr-2-type" class="er entityLabel">string</text><rect height="21" width="93.35908508300781" y="45" x="35.36581993103027" class="er attributeBoxEven"></rect><text transform="translate(40.36581993103027,55.5)" style="dominant-baseline: middle; font-size: 10.2px;" y="0" x="0" id="text-entity-FUNCIONARIO-7a22ad77-f12b-571d-a83b-148fa4755f06-attr-2-name" class="er entityLabel">nome</text><rect height="21" width="23.81898307800293" y="45" x="128.7249050140381" class="er attributeBoxEven"></rect><text transform="translate(133.7249050140381,55.5)" style="dominant-baseline: middle; font-size: 10.2px;" y="0" x="0" id="text-entity-FUNCIONARIO-7a22ad77-f12b-571d-a83b-148fa4755f06-attr-2-key" class="er entityLabel"></text><rect height="21" width="35.36581993103027" y="66" x="0" class="er attributeBoxOdd"></rect><text transform="translate(5,76.5)" style="dominant-baseline: middle; font-size: 10.2px;" y="0" x="0" id="text-entity-FUNCIONARIO-7a22ad77-f12b-571d-a83b-148fa4755f06-attr-3-type" class="er entityLabel">string</text><rect height="21" width="93.35908508300781" y="66" x="35.36581993103027" class="er attributeBoxOdd"></rect><text transform="translate(40.36581993103027,76.5)" style="dominant-baseline: middle; font-size: 10.2px;" y="0" x="0" id="text-entity-FUNCIONARIO-7a22ad77-f12b-571d-a83b-148fa4755f06-attr-3-name" class="er entityLabel">endereco_rua</text><rect height="21" width="23.81898307800293" y="66" x="128.7249050140381" class="er attributeBoxOdd"></rect><text transform="translate(133.7249050140381,76.5)" style="dominant-baseline: middle; font-size: 10.2px;" y="0" x="0" id="text-entity-FUNCIONARIO-7a22ad77-f12b-571d-a83b-148fa4755f06-attr-3-key" class="er entityLabel"></text><rect height="21" width="35.36581993103027" y="87" x="0" class="er attributeBoxEven"></rect><text transform="translate(5,97.5)" style="dominant-baseline: middle; font-size: 10.2px;" y="0" x="0" id="text-entity-FUNCIONARIO-7a22ad77-f12b-571d-a83b-148fa4755f06-attr-4-type" class="er entityLabel">string</text><rect height="21" width="93.35908508300781" y="87" x="35.36581993103027" class="er attributeBoxEven"></rect><text transform="translate(40.36581993103027,97.5)" style="dominant-baseline: middle; font-size: 10.2px;" y="0" x="0" id="text-entity-FUNCIONARIO-7a22ad77-f12b-571d-a83b-148fa4755f06-attr-4-name" class="er entityLabel">endereco_numero</text><rect height="21" width="23.81898307800293" y="87" x="128.7249050140381" class="er attributeBoxEven"></rect><text transform="translate(133.7249050140381,97.5)" style="dominant-baseline: middle; font-size: 10.2px;" y="0" x="0" id="text-entity-FUNCIONARIO-7a22ad77-f12b-571d-a83b-148fa4755f06-attr-4-key" class="er entityLabel"></text><rect height="21" width="35.36581993103027" y="108" x="0" class="er attributeBoxOdd"></rect><text transform="translate(5,118.5)" style="dominant-baseline: middle; font-size: 10.2px;" y="0" x="0" id="text-entity-FUNCIONARIO-7a22ad77-f12b-571d-a83b-148fa4755f06-attr-5-type" class="er entityLabel">string</text><rect height="21" width="93.35908508300781" y="108" x="35.36581993103027" class="er attributeBoxOdd"></rect><text transform="translate(40.36581993103027,118.5)" style="dominant-baseline: middle; font-size: 10.2px;" y="0" x="0" id="text-entity-FUNCIONARIO-7a22ad77-f12b-571d-a83b-148fa4755f06-attr-5-name" class="er entityLabel">endereco_cidade</text><rect height="21" width="23.81898307800293" y="108" x="128.7249050140381" class="er attributeBoxOdd"></rect><text transform="translate(133.7249050140381,118.5)" style="dominant-baseline: middle; font-size: 10.2px;" y="0" x="0" id="text-entity-FUNCIONARIO-7a22ad77-f12b-571d-a83b-148fa4755f06-attr-5-key" class="er entityLabel"></text><rect height="21" width="35.36581993103027" y="129" x="0" class="er attributeBoxEven"></rect><text transform="translate(5,139.5)" style="dominant-baseline: middle; font-size: 10.2px;" y="0" x="0" id="text-entity-FUNCIONARIO-7a22ad77-f12b-571d-a83b-148fa4755f06-attr-6-type" class="er entityLabel">string</text><rect height="21" width="93.35908508300781" y="129" x="35.36581993103027" class="er attributeBoxEven"></rect><text transform="translate(40.36581993103027,139.5)" style="dominant-baseline: middle; font-size: 10.2px;" y="0" x="0" id="text-entity-FUNCIONARIO-7a22ad77-f12b-571d-a83b-148fa4755f06-attr-6-name" class="er entityLabel">endereco_estado</text><rect height="21" width="23.81898307800293" y="129" x="128.7249050140381" class="er attributeBoxEven"></rect><text transform="translate(133.7249050140381,139.5)" style="dominant-baseline: middle; font-size: 10.2px;" y="0" x="0" id="text-entity-FUNCIONARIO-7a22ad77-f12b-571d-a83b-148fa4755f06-attr-6-key" class="er entityLabel"></text><rect height="21" width="35.36581993103027" y="150" x="0" class="er attributeBoxOdd"></rect><text transform="translate(5,160.5)" style="dominant-baseline: middle; font-size: 10.2px;" y="0" x="0" id="text-entity-FUNCIONARIO-7a22ad77-f12b-571d-a83b-148fa4755f06-attr-7-type" class="er entityLabel">string</text><rect height="21" width="93.35908508300781" y="150" x="35.36581993103027" class="er attributeBoxOdd"></rect><text transform="translate(40.36581993103027,160.5)" style="dominant-baseline: middle; font-size: 10.2px;" y="0" x="0" id="text-entity-FUNCIONARIO-7a22ad77-f12b-571d-a83b-148fa4755f06-attr-7-name" class="er entityLabel">endereco_cep</text><rect height="21" width="23.81898307800293" y="150" x="128.7249050140381" class="er attributeBoxOdd"></rect><text transform="translate(133.7249050140381,160.5)" style="dominant-baseline: middle; font-size: 10.2px;" y="0" x="0" id="text-entity-FUNCIONARIO-7a22ad77-f12b-571d-a83b-148fa4755f06-attr-7-key" class="er entityLabel"></text></g></svg><section class="chapter"><h4 id="m-todo-1-decomposi-o" data-toc="m-todo-1-decomposi-o">M&eacute;todo 1: Decomposi&ccedil;&atilde;o</h4><div class="code-block" data-lang="sql">
CREATE TABLE Funcionario (
    id VARCHAR(20) PRIMARY KEY,
    nome VARCHAR(100) NOT NULL,
    endereco_rua VARCHAR(100),
    endereco_numero VARCHAR(10),
    endereco_cidade VARCHAR(50),
    endereco_estado CHAR(2),
    endereco_cep VARCHAR(8)
);
</div></section><section class="chapter"><h4 id="m-todo-2-nova-entidade" data-toc="m-todo-2-nova-entidade">M&eacute;todo 2: Nova Entidade</h4><div class="code-block" data-lang="sql">
CREATE TABLE Funcionario (
    id VARCHAR(20) PRIMARY KEY,
    nome VARCHAR(100) NOT NULL
);

CREATE TABLE Endereco (
    funcionario_id VARCHAR(20) PRIMARY KEY,
    rua VARCHAR(100),
    numero VARCHAR(10),
    cidade VARCHAR(50),
    estado CHAR(2),
    cep VARCHAR(8),
    FOREIGN KEY (funcionario_id) REFERENCES Funcionario(id)
);
</div></section></section><section class="chapter"><h3 id="3-atributos-multivalorados" data-toc="3-atributos-multivalorados">3. Atributos Multivalorados</h3><svg aria-roledescription="er" role="graphics-document document" viewBox="0 0 156.30714416503906 148" style="max-width: 156.30714416503906px;" xmlns="http://www.w3.org/2000/svg" width="100%" id="mermaid"><g></g><defs><marker orient="auto" markerHeight="240" markerWidth="190" refY="7" refX="0" id="MD_PARENT_START"><path d="M 18,7 L9,13 L1,7 L9,1 Z"></path></marker></defs><defs><marker orient="auto" markerHeight="28" markerWidth="20" refY="7" refX="19" id="MD_PARENT_END"><path d="M 18,7 L9,13 L1,7 L9,1 Z"></path></marker></defs><defs><marker orient="auto" markerHeight="18" markerWidth="18" refY="9" refX="0" id="ONLY_ONE_START"><path d="M9,0 L9,18 M15,0 L15,18" fill="none" stroke="gray"></path></marker></defs><defs><marker orient="auto" markerHeight="18" markerWidth="18" refY="9" refX="18" id="ONLY_ONE_END"><path d="M3,0 L3,18 M9,0 L9,18" fill="none" stroke="gray"></path></marker></defs><defs><marker orient="auto" markerHeight="18" markerWidth="30" refY="9" refX="0" id="ZERO_OR_ONE_START"><circle r="6" cy="9" cx="21" fill="white" stroke="gray"></circle><path d="M9,0 L9,18" fill="none" stroke="gray"></path></marker></defs><defs><marker orient="auto" markerHeight="18" markerWidth="30" refY="9" refX="30" id="ZERO_OR_ONE_END"><circle r="6" cy="9" cx="9" fill="white" stroke="gray"></circle><path d="M21,0 L21,18" fill="none" stroke="gray"></path></marker></defs><defs><marker orient="auto" markerHeight="36" markerWidth="45" refY="18" refX="18" id="ONE_OR_MORE_START"><path d="M0,18 Q 18,0 36,18 Q 18,36 0,18 M42,9 L42,27" fill="none" stroke="gray"></path></marker></defs><defs><marker orient="auto" markerHeight="36" markerWidth="45" refY="18" refX="27" id="ONE_OR_MORE_END"><path d="M3,9 L3,27 M9,18 Q27,0 45,18 Q27,36 9,18" fill="none" stroke="gray"></path></marker></defs><defs><marker orient="auto" markerHeight="36" markerWidth="57" refY="18" refX="18" id="ZERO_OR_MORE_START"><circle r="6" cy="18" cx="48" fill="white" stroke="gray"></circle><path d="M0,18 Q18,0 36,18 Q18,36 0,18" fill="none" stroke="gray"></path></marker></defs><defs><marker orient="auto" markerHeight="36" markerWidth="57" refY="18" refX="39" id="ZERO_OR_MORE_END"><circle r="6" cy="18" cx="9" fill="white" stroke="gray"></circle><path d="M21,18 Q39,0 57,18 Q39,36 21,18" fill="none" stroke="gray"></path></marker></defs><g transform="translate(20,20 )" id="entity-PESSOA-3eb1f5c5-c873-5619-994f-0655251d1d43"><rect height="108" width="116.30714416503906" y="0" x="0" class="er entityBox"></rect><text transform="translate(58.15357208251953,12)" style="dominant-baseline: middle; text-anchor: middle; font-size: 12px;" y="0" x="0" id="text-entity-PESSOA-3eb1f5c5-c873-5619-994f-0655251d1d43" class="er entityLabel">PESSOA</text><rect height="21" width="40.91003608703613" y="24" x="0" class="er attributeBoxOdd"></rect><text transform="translate(5,34.5)" style="dominant-baseline: middle; font-size: 10.2px;" y="0" x="0" id="text-entity-PESSOA-3eb1f5c5-c873-5619-994f-0655251d1d43-attr-1-type" class="er entityLabel">string</text><rect height="21" width="51.578125" y="24" x="40.91003608703613" class="er attributeBoxOdd"></rect><text transform="translate(45.91003608703613,34.5)" style="dominant-baseline: middle; font-size: 10.2px;" y="0" x="0" id="text-entity-PESSOA-3eb1f5c5-c873-5619-994f-0655251d1d43-attr-1-name" class="er entityLabel">cpf</text><rect height="21" width="23.81898307800293" y="24" x="92.48816108703613" class="er attributeBoxOdd"></rect><text transform="translate(97.48816108703613,34.5)" style="dominant-baseline: middle; font-size: 10.2px;" y="0" x="0" id="text-entity-PESSOA-3eb1f5c5-c873-5619-994f-0655251d1d43-attr-1-key" class="er entityLabel">PK</text><rect height="21" width="40.91003608703613" y="45" x="0" class="er attributeBoxEven"></rect><text transform="translate(5,55.5)" style="dominant-baseline: middle; font-size: 10.2px;" y="0" x="0" id="text-entity-PESSOA-3eb1f5c5-c873-5619-994f-0655251d1d43-attr-2-type" class="er entityLabel">string</text><rect height="21" width="51.578125" y="45" x="40.91003608703613" class="er attributeBoxEven"></rect><text transform="translate(45.91003608703613,55.5)" style="dominant-baseline: middle; font-size: 10.2px;" y="0" x="0" id="text-entity-PESSOA-3eb1f5c5-c873-5619-994f-0655251d1d43-attr-2-name" class="er entityLabel">nome</text><rect height="21" width="23.81898307800293" y="45" x="92.48816108703613" class="er attributeBoxEven"></rect><text transform="translate(97.48816108703613,55.5)" style="dominant-baseline: middle; font-size: 10.2px;" y="0" x="0" id="text-entity-PESSOA-3eb1f5c5-c873-5619-994f-0655251d1d43-attr-2-key" class="er entityLabel"></text><rect height="21" width="40.91003608703613" y="66" x="0" class="er attributeBoxOdd"></rect><text transform="translate(5,76.5)" style="dominant-baseline: middle; font-size: 10.2px;" y="0" x="0" id="text-entity-PESSOA-3eb1f5c5-c873-5619-994f-0655251d1d43-attr-3-type" class="er entityLabel">string[]</text><rect height="21" width="51.578125" y="66" x="40.91003608703613" class="er attributeBoxOdd"></rect><text transform="translate(45.91003608703613,76.5)" style="dominant-baseline: middle; font-size: 10.2px;" y="0" x="0" id="text-entity-PESSOA-3eb1f5c5-c873-5619-994f-0655251d1d43-attr-3-name" class="er entityLabel">telefones</text><rect height="21" width="23.81898307800293" y="66" x="92.48816108703613" class="er attributeBoxOdd"></rect><text transform="translate(97.48816108703613,76.5)" style="dominant-baseline: middle; font-size: 10.2px;" y="0" x="0" id="text-entity-PESSOA-3eb1f5c5-c873-5619-994f-0655251d1d43-attr-3-key" class="er entityLabel"></text><rect height="21" width="40.91003608703613" y="87" x="0" class="er attributeBoxEven"></rect><text transform="translate(5,97.5)" style="dominant-baseline: middle; font-size: 10.2px;" y="0" x="0" id="text-entity-PESSOA-3eb1f5c5-c873-5619-994f-0655251d1d43-attr-4-type" class="er entityLabel">string[]</text><rect height="21" width="51.578125" y="87" x="40.91003608703613" class="er attributeBoxEven"></rect><text transform="translate(45.91003608703613,97.5)" style="dominant-baseline: middle; font-size: 10.2px;" y="0" x="0" id="text-entity-PESSOA-3eb1f5c5-c873-5619-994f-0655251d1d43-attr-4-name" class="er entityLabel">emails</text><rect height="21" width="23.81898307800293" y="87" x="92.48816108703613" class="er attributeBoxEven"></rect><text transform="translate(97.48816108703613,97.5)" style="dominant-baseline: middle; font-size: 10.2px;" y="0" x="0" id="text-entity-PESSOA-3eb1f5c5-c873-5619-994f-0655251d1d43-attr-4-key" class="er entityLabel"></text></g></svg><section class="chapter"><h4 id="implementa-o" data-toc="implementa-o">Implementa&ccedil;&atilde;o</h4><div class="code-block" data-lang="sql">
CREATE TABLE Pessoa (
    cpf VARCHAR(11) PRIMARY KEY,
    nome VARCHAR(100) NOT NULL
);

CREATE TABLE Telefone_Pessoa (
    pessoa_cpf VARCHAR(11),
    telefone VARCHAR(20),
    tipo VARCHAR(20),
    PRIMARY KEY (pessoa_cpf, telefone),
    FOREIGN KEY (pessoa_cpf) REFERENCES Pessoa(cpf)
);

CREATE TABLE Email_Pessoa (
    pessoa_cpf VARCHAR(11),
    email VARCHAR(100),
    principal BOOLEAN DEFAULT false,
    PRIMARY KEY (pessoa_cpf, email),
    FOREIGN KEY (pessoa_cpf) REFERENCES Pessoa(cpf)
);
</div></section></section><section class="chapter"><h3 id="4-atributos-derivados" data-toc="4-atributos-derivados">4. Atributos Derivados</h3><svg aria-roledescription="er" role="graphics-document document" viewBox="0 0 212.22145080566406 148" style="max-width: 212.22145080566406px;" xmlns="http://www.w3.org/2000/svg" width="100%" id="mermaid"><g></g><defs><marker orient="auto" markerHeight="240" markerWidth="190" refY="7" refX="0" id="MD_PARENT_START"><path d="M 18,7 L9,13 L1,7 L9,1 Z"></path></marker></defs><defs><marker orient="auto" markerHeight="28" markerWidth="20" refY="7" refX="19" id="MD_PARENT_END"><path d="M 18,7 L9,13 L1,7 L9,1 Z"></path></marker></defs><defs><marker orient="auto" markerHeight="18" markerWidth="18" refY="9" refX="0" id="ONLY_ONE_START"><path d="M9,0 L9,18 M15,0 L15,18" fill="none" stroke="gray"></path></marker></defs><defs><marker orient="auto" markerHeight="18" markerWidth="18" refY="9" refX="18" id="ONLY_ONE_END"><path d="M3,0 L3,18 M9,0 L9,18" fill="none" stroke="gray"></path></marker></defs><defs><marker orient="auto" markerHeight="18" markerWidth="30" refY="9" refX="0" id="ZERO_OR_ONE_START"><circle r="6" cy="9" cx="21" fill="white" stroke="gray"></circle><path d="M9,0 L9,18" fill="none" stroke="gray"></path></marker></defs><defs><marker orient="auto" markerHeight="18" markerWidth="30" refY="9" refX="30" id="ZERO_OR_ONE_END"><circle r="6" cy="9" cx="9" fill="white" stroke="gray"></circle><path d="M21,0 L21,18" fill="none" stroke="gray"></path></marker></defs><defs><marker orient="auto" markerHeight="36" markerWidth="45" refY="18" refX="18" id="ONE_OR_MORE_START"><path d="M0,18 Q 18,0 36,18 Q 18,36 0,18 M42,9 L42,27" fill="none" stroke="gray"></path></marker></defs><defs><marker orient="auto" markerHeight="36" markerWidth="45" refY="18" refX="27" id="ONE_OR_MORE_END"><path d="M3,9 L3,27 M9,18 Q27,0 45,18 Q27,36 9,18" fill="none" stroke="gray"></path></marker></defs><defs><marker orient="auto" markerHeight="36" markerWidth="57" refY="18" refX="18" id="ZERO_OR_MORE_START"><circle r="6" cy="18" cx="48" fill="white" stroke="gray"></circle><path d="M0,18 Q18,0 36,18 Q18,36 0,18" fill="none" stroke="gray"></path></marker></defs><defs><marker orient="auto" markerHeight="36" markerWidth="57" refY="18" refX="39" id="ZERO_OR_MORE_END"><circle r="6" cy="18" cx="9" fill="white" stroke="gray"></circle><path d="M21,18 Q39,0 57,18 Q39,36 21,18" fill="none" stroke="gray"></path></marker></defs><g transform="translate(20,20 )" id="entity-PEDIDO-79609d0a-2a15-5826-829f-bc409be443d0"><rect height="108" width="172.22144889831543" y="0" x="0" class="er entityBox"></rect><text transform="translate(86.11072444915771,12)" style="dominant-baseline: middle; text-anchor: middle; font-size: 12px;" y="0" x="0" id="text-entity-PEDIDO-79609d0a-2a15-5826-829f-bc409be443d0" class="er entityLabel">PEDIDO</text><rect height="21" width="45.28125" y="24" x="0" class="er attributeBoxOdd"></rect><text transform="translate(5,34.5)" style="dominant-baseline: middle; font-size: 10.2px;" y="0" x="0" id="text-entity-PEDIDO-79609d0a-2a15-5826-829f-bc409be443d0-attr-1-type" class="er entityLabel">string</text><rect height="21" width="51.84912109375" y="24" x="45.28125" class="er attributeBoxOdd"></rect><text transform="translate(50.28125,34.5)" style="dominant-baseline: middle; font-size: 10.2px;" y="0" x="0" id="text-entity-PEDIDO-79609d0a-2a15-5826-829f-bc409be443d0-attr-1-name" class="er entityLabel">numero</text><rect height="21" width="23.81898307800293" y="24" x="97.13037109375" class="er attributeBoxOdd"></rect><text transform="translate(102.13037109375,34.5)" style="dominant-baseline: middle; font-size: 10.2px;" y="0" x="0" id="text-entity-PEDIDO-79609d0a-2a15-5826-829f-bc409be443d0-attr-1-key" class="er entityLabel">PK</text><rect height="21" width="51.2720947265625" y="24" x="120.94935417175293" class="er attributeBoxOdd"></rect><text transform="translate(125.94935417175293,34.5)" style="dominant-baseline: middle; font-size: 10.2px;" y="0" x="0" id="text-entity-PEDIDO-79609d0a-2a15-5826-829f-bc409be443d0-attr-1-comment" class="er entityLabel"></text><rect height="21" width="45.28125" y="45" x="0" class="er attributeBoxEven"></rect><text transform="translate(5,55.5)" style="dominant-baseline: middle; font-size: 10.2px;" y="0" x="0" id="text-entity-PEDIDO-79609d0a-2a15-5826-829f-bc409be443d0-attr-2-type" class="er entityLabel">decimal</text><rect height="21" width="51.84912109375" y="45" x="45.28125" class="er attributeBoxEven"></rect><text transform="translate(50.28125,55.5)" style="dominant-baseline: middle; font-size: 10.2px;" y="0" x="0" id="text-entity-PEDIDO-79609d0a-2a15-5826-829f-bc409be443d0-attr-2-name" class="er entityLabel">subtotal</text><rect height="21" width="23.81898307800293" y="45" x="97.13037109375" class="er attributeBoxEven"></rect><text transform="translate(102.13037109375,55.5)" style="dominant-baseline: middle; font-size: 10.2px;" y="0" x="0" id="text-entity-PEDIDO-79609d0a-2a15-5826-829f-bc409be443d0-attr-2-key" class="er entityLabel"></text><rect height="21" width="51.2720947265625" y="45" x="120.94935417175293" class="er attributeBoxEven"></rect><text transform="translate(125.94935417175293,55.5)" style="dominant-baseline: middle; font-size: 10.2px;" y="0" x="0" id="text-entity-PEDIDO-79609d0a-2a15-5826-829f-bc409be443d0-attr-2-comment" class="er entityLabel"></text><rect height="21" width="45.28125" y="66" x="0" class="er attributeBoxOdd"></rect><text transform="translate(5,76.5)" style="dominant-baseline: middle; font-size: 10.2px;" y="0" x="0" id="text-entity-PEDIDO-79609d0a-2a15-5826-829f-bc409be443d0-attr-3-type" class="er entityLabel">decimal</text><rect height="21" width="51.84912109375" y="66" x="45.28125" class="er attributeBoxOdd"></rect><text transform="translate(50.28125,76.5)" style="dominant-baseline: middle; font-size: 10.2px;" y="0" x="0" id="text-entity-PEDIDO-79609d0a-2a15-5826-829f-bc409be443d0-attr-3-name" class="er entityLabel">desconto</text><rect height="21" width="23.81898307800293" y="66" x="97.13037109375" class="er attributeBoxOdd"></rect><text transform="translate(102.13037109375,76.5)" style="dominant-baseline: middle; font-size: 10.2px;" y="0" x="0" id="text-entity-PEDIDO-79609d0a-2a15-5826-829f-bc409be443d0-attr-3-key" class="er entityLabel"></text><rect height="21" width="51.2720947265625" y="66" x="120.94935417175293" class="er attributeBoxOdd"></rect><text transform="translate(125.94935417175293,76.5)" style="dominant-baseline: middle; font-size: 10.2px;" y="0" x="0" id="text-entity-PEDIDO-79609d0a-2a15-5826-829f-bc409be443d0-attr-3-comment" class="er entityLabel"></text><rect height="21" width="45.28125" y="87" x="0" class="er attributeBoxEven"></rect><text transform="translate(5,97.5)" style="dominant-baseline: middle; font-size: 10.2px;" y="0" x="0" id="text-entity-PEDIDO-79609d0a-2a15-5826-829f-bc409be443d0-attr-4-type" class="er entityLabel">decimal</text><rect height="21" width="51.84912109375" y="87" x="45.28125" class="er attributeBoxEven"></rect><text transform="translate(50.28125,97.5)" style="dominant-baseline: middle; font-size: 10.2px;" y="0" x="0" id="text-entity-PEDIDO-79609d0a-2a15-5826-829f-bc409be443d0-attr-4-name" class="er entityLabel">total</text><rect height="21" width="23.81898307800293" y="87" x="97.13037109375" class="er attributeBoxEven"></rect><text transform="translate(102.13037109375,97.5)" style="dominant-baseline: middle; font-size: 10.2px;" y="0" x="0" id="text-entity-PEDIDO-79609d0a-2a15-5826-829f-bc409be443d0-attr-4-key" class="er entityLabel"></text><rect height="21" width="51.2720947265625" y="87" x="120.94935417175293" class="er attributeBoxEven"></rect><text transform="translate(125.94935417175293,97.5)" style="dominant-baseline: middle; font-size: 10.2px;" y="0" x="0" id="text-entity-PEDIDO-79609d0a-2a15-5826-829f-bc409be443d0-attr-4-comment" class="er entityLabel">Derivado</text></g></svg><section class="chapter"><h4 id="implementa-o" data-toc="implementa-o">Implementa&ccedil;&atilde;o</h4><div class="code-block" data-lang="sql">
CREATE TABLE Pedido (
    numero VARCHAR(20) PRIMARY KEY,
    subtotal DECIMAL(10,2) NOT NULL,
    desconto DECIMAL(10,2) DEFAULT 0,
    -- total é calculado: subtotal - desconto
    CHECK (desconto &gt;= 0 AND desconto &lt;= subtotal)
);

CREATE VIEW Pedido_Com_Total AS
SELECT 
    numero,
    subtotal,
    desconto,
    (subtotal - desconto) as total
FROM Pedido;
</div></section></section></section><section class="chapter"><h2 id="restri-es-e-valida-es" data-toc="restri-es-e-valida-es">Restri&ccedil;&otilde;es e Valida&ccedil;&otilde;es</h2><section class="chapter"><h3 id="1-dom-nios-personalizados" data-toc="1-dom-nios-personalizados">1. Dom&iacute;nios Personalizados</h3><div class="code-block" data-lang="sql">
CREATE DOMAIN Email AS VARCHAR(100)
    CHECK (VALUE ~ '^[A-Za-z0-9._%+-]+@[A-Za-z0-9.-]+\.[A-Za-z]{2,}$');

CREATE DOMAIN CPF AS VARCHAR(11)
    CHECK (VALUE ~ '^\d{11}$');

CREATE TABLE Cliente (
    cpf CPF PRIMARY KEY,
    email Email,
    nome VARCHAR(100) NOT NULL
);
</div></section><section class="chapter"><h3 id="2-restri-es-de-valor" data-toc="2-restri-es-de-valor">2. Restri&ccedil;&otilde;es de Valor</h3><div class="code-block" data-lang="sql">
CREATE TABLE Produto (
    codigo VARCHAR(20) PRIMARY KEY,
    nome VARCHAR(100) NOT NULL,
    preco DECIMAL(10,2),
    estoque INTEGER,
    CONSTRAINT check_preco_positivo CHECK (preco &gt; 0),
    CONSTRAINT check_estoque_nao_negativo CHECK (estoque &gt;= 0)
);
</div></section><section class="chapter"><h3 id="3-valores-default" data-toc="3-valores-default">3. Valores Default</h3><div class="code-block" data-lang="sql">
CREATE TABLE Usuario (
    id SERIAL PRIMARY KEY,
    nome VARCHAR(100) NOT NULL,
    ativo BOOLEAN DEFAULT true,
    data_cadastro TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    tentativas_login INTEGER DEFAULT 0
);
</div></section></section><section class="chapter"><h2 id="padr-es-de-implementa-o" data-toc="padr-es-de-implementa-o">Padr&otilde;es de Implementa&ccedil;&atilde;o</h2><section class="chapter"><h3 id="1-atributos-de-auditoria" data-toc="1-atributos-de-auditoria">1. Atributos de Auditoria</h3><div class="code-block" data-lang="sql">
CREATE TABLE Entidade (
    id VARCHAR(20) PRIMARY KEY,
    -- outros atributos
    criado_em TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    criado_por VARCHAR(50),
    alterado_em TIMESTAMP,
    alterado_por VARCHAR(50)
);

CREATE TRIGGER atualiza_auditoria
    BEFORE UPDATE ON Entidade
    FOR EACH ROW
    EXECUTE FUNCTION fn_atualiza_auditoria();
</div></section><section class="chapter"><h3 id="2-atributos-sens-veis" data-toc="2-atributos-sens-veis">2. Atributos Sens&iacute;veis</h3><div class="code-block" data-lang="sql">
CREATE TABLE Usuario (
    id SERIAL PRIMARY KEY,
    nome VARCHAR(100) NOT NULL,
    email VARCHAR(100) UNIQUE NOT NULL,
    senha_hash VARCHAR(64) NOT NULL,
    dados_sensiveis JSONB ENCRYPTED
);
</div></section><section class="chapter"><h3 id="3-atributos-json" data-toc="3-atributos-json">3. Atributos JSON</h3><div class="code-block" data-lang="sql">
CREATE TABLE Configuracao (
    id SERIAL PRIMARY KEY,
    chave VARCHAR(50) UNIQUE NOT NULL,
    valor JSONB,
    metadata JSONB DEFAULT '{}'::jsonb
);
</div></section></section><section class="chapter"><h2 id="otimiza-es" data-toc="otimiza-es">Otimiza&ccedil;&otilde;es</h2><section class="chapter"><h3 id="1-ndices" data-toc="1-ndices">1. &Iacute;ndices</h3><div class="code-block" data-lang="sql">
-- Índice para busca por texto
CREATE INDEX idx_produto_nome ON Produto USING GIN (to_tsvector('portuguese', nome));

-- Índice para JSON
CREATE INDEX idx_config_valor ON Configuracao USING GIN (valor jsonb_path_ops);

-- Índice parcial
CREATE INDEX idx_usuario_ativo ON Usuario(email) WHERE ativo = true;
</div></section><section class="chapter"><h3 id="2-compress-o" data-toc="2-compress-o">2. Compress&atilde;o</h3><div class="code-block" data-lang="sql">
CREATE TABLE Historico (
    id BIGSERIAL PRIMARY KEY,
    dados TEXT COMPRESSION lz4
)
TABLESPACE historico_tablespace;
</div></section></section><section class="chapter"><h2 id="exemplos-pr-ticos" data-toc="exemplos-pr-ticos">Exemplos Pr&aacute;ticos</h2><section class="chapter"><h3 id="sistema-de-vendas" data-toc="sistema-de-vendas">Sistema de Vendas</h3><div class="code-block" data-lang="sql">
CREATE TABLE Produto (
    codigo VARCHAR(20) PRIMARY KEY,
    nome VARCHAR(100) NOT NULL,
    descricao TEXT,
    preco_custo DECIMAL(10,2),
    preco_venda DECIMAL(10,2),
    margem_lucro DECIMAL(5,2) GENERATED ALWAYS AS (
        ((preco_venda - preco_custo) / preco_custo) * 100
    ) STORED,
    especificacoes JSONB,
    CONSTRAINT check_precos CHECK (preco_venda &gt; preco_custo)
);

CREATE TABLE Categoria (
    id SERIAL PRIMARY KEY,
    nome VARCHAR(50) UNIQUE NOT NULL,
    atributos_especificos JSONB DEFAULT '{}'::jsonb
);

CREATE TABLE Produto_Categoria (
    produto_codigo VARCHAR(20),
    categoria_id INTEGER,
    ordem INTEGER DEFAULT 1,
    PRIMARY KEY (produto_codigo, categoria_id),
    FOREIGN KEY (produto_codigo) REFERENCES Produto(codigo),
    FOREIGN KEY (categoria_id) REFERENCES Categoria(id)
);
</div></section></section><section class="chapter"><h2 id="considera-es-importantes" data-toc="considera-es-importantes">Considera&ccedil;&otilde;es Importantes</h2><section class="chapter"><h3 id="1-performance" data-toc="1-performance">1. Performance</h3><ul class="list _bullet" id="-u6mtk8_49"><li class="list__item" id="-u6mtk8_50"><p id="-u6mtk8_53">Escolha tipos de dados apropriados</p></li><li class="list__item" id="-u6mtk8_51"><p id="-u6mtk8_54">Defina &iacute;ndices estrategicamente</p></li><li class="list__item" id="-u6mtk8_52"><p id="-u6mtk8_55">Monitore o uso de atributos</p></li></ul></section><section class="chapter"><h3 id="2-manutenibilidade" data-toc="2-manutenibilidade">2. Manutenibilidade</h3><ul class="list _bullet" id="-u6mtk8_56"><li class="list__item" id="-u6mtk8_57"><p id="-u6mtk8_60">Documente decis&otilde;es de design</p></li><li class="list__item" id="-u6mtk8_58"><p id="-u6mtk8_61">Use nomes descritivos</p></li><li class="list__item" id="-u6mtk8_59"><p id="-u6mtk8_62">Mantenha consist&ecirc;ncia</p></li></ul></section><section class="chapter"><h3 id="3-seguran-a" data-toc="3-seguran-a">3. Seguran&ccedil;a</h3><ul class="list _bullet" id="-u6mtk8_63"><li class="list__item" id="-u6mtk8_64"><p id="-u6mtk8_67">Proteja dados sens&iacute;veis</p></li><li class="list__item" id="-u6mtk8_65"><p id="-u6mtk8_68">Implemente auditoria</p></li><li class="list__item" id="-u6mtk8_66"><p id="-u6mtk8_69">Valide entradas</p></li></ul></section></section><section class="chapter"><h2 id="conclus-o" data-toc="conclus-o">Conclus&atilde;o</h2><p id="-u6mtk8_70">O mapeamento eficiente de atributos &eacute; crucial para:</p><ul class="list _bullet" id="-u6mtk8_71"><li class="list__item" id="-u6mtk8_72"><p id="-u6mtk8_76">Integridade dos dados</p></li><li class="list__item" id="-u6mtk8_73"><p id="-u6mtk8_77">Performance do sistema</p></li><li class="list__item" id="-u6mtk8_74"><p id="-u6mtk8_78">Facilidade de manuten&ccedil;&atilde;o</p></li><li class="list__item" id="-u6mtk8_75"><p id="-u6mtk8_79">Seguran&ccedil;a da informa&ccedil;&atilde;o</p></li></ul></section><div class="last-modified">25 abril 2025</div><div data-feedback-placeholder="true"></div><div class="navigation-links _bottom"><a href="er-mapping-relationships.html" class="navigation-links__prev">Mapeamento de Relacionamentos ER para Relacional</a><a href="er-mapping-inheritance.html" class="navigation-links__next">Mapeamento de Heran&ccedil;a ER para Relacional</a></div></article><div id="disqus_thread"></div></div></section></main></div><script src="https://resources.jetbrains.com/writerside/apidoc/6.22.0-b776/app.js"></script></body></html>