<!DOCTYPE html SYSTEM "about:legacy-compat">
<html lang="en-US" data-preset="contrast" data-primary-color="#E8488B"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="UTF-8"><meta name="built-on" content="2025-04-25T23:35:27.282507193"><title>Tabelas Dimens&atilde;o | Database Management Systems: A Complete Guide</title><script type="application/json" id="virtual-toc-data">[{"id":"estrutura-b-sica","level":0,"title":"Estrutura Básica","anchor":"#estrutura-b-sica"},{"id":"tipos-de-dimens-es","level":0,"title":"Tipos de Dimensões","anchor":"#tipos-de-dimens-es"},{"id":"slowly-changing-dimensions-scd","level":0,"title":"Slowly Changing Dimensions (SCD)","anchor":"#slowly-changing-dimensions-scd"},{"id":"hierarquias","level":0,"title":"Hierarquias","anchor":"#hierarquias"}]</script><script type="application/json" id="topic-shortcuts"></script><link href="https://resources.jetbrains.com/writerside/apidoc/6.22.0-b776/app.css" rel="stylesheet"><link href="static/custom.css" rel="stylesheet"><link rel="icon" type="image/svg" sizes="16x16" href="images/logo-primary.svg"><meta name="image" content=""><!-- Open Graph --><meta property="og:title" content="Tabelas Dimens&atilde;o | Database Management Systems: A Complete Guide"><meta property="og:description" content=""><meta property="og:image" content=""><meta property="og:site_name" content="Database Management Systems: A Complete Guide Help"><meta property="og:type" content="website"><meta property="og:locale" content="en_US"><meta property="og:url" content="writerside-documentation/dimension-tables.html"><!-- End Open Graph --><!-- Twitter Card --><meta name="twitter:card" content="summary_large_image"><meta name="twitter:site" content=""><meta name="twitter:title" content="Tabelas Dimens&atilde;o | Database Management Systems: A Complete Guide"><meta name="twitter:description" content=""><meta name="twitter:creator" content=""><meta name="twitter:image:src" content=""><!-- End Twitter Card --><!-- Schema.org WebPage --><script type="application/ld+json">{
    "@context": "http://schema.org",
    "@type": "WebPage",
    "@id": "writerside-documentation/dimension-tables.html#webpage",
    "url": "writerside-documentation/dimension-tables.html",
    "name": "Tabelas Dimens&atilde;o | Database Management Systems: A Complete Guide",
    "description": "",
    "image": "",
    "inLanguage":"en-US"
}</script><!-- End Schema.org --><!-- Schema.org WebSite --><script type="application/ld+json">{
    "@type": "WebSite",
    "@id": "writerside-documentation/#website",
    "url": "writerside-documentation/",
    "name": "Database Management Systems: A Complete Guide Help"
}</script><!-- End Schema.org --></head><body data-id="dimension-tables" data-main-title="Tabelas Dimensão" data-article-props="{&quot;seeAlsoStyle&quot;:&quot;links&quot;}" data-template="article" data-breadcrumbs="data-modeling.md|Modelagem de Dados///dimensional-modeling.md|Modelagem Dimensional"><div class="wrapper"><main class="panel _main"><header class="panel__header"><div class="container"><h3>Database Management Systems: A Complete Guide  Help</h3><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="inactive"><h1 data-toc="dimension-tables" id="dimension-tables.md">Tabelas Dimensão</h1><section class="chapter"><h2 id="estrutura-b-sica" data-toc="estrutura-b-sica">Estrutura B&aacute;sica</h2><section class="chapter"><h3 id="1-dimens-o-produto" data-toc="1-dimens-o-produto">1. Dimens&atilde;o Produto</h3><div class="code-block" data-lang="sql">
CREATE TABLE dim_produto (
    sk_produto INT PRIMARY KEY,
    cod_produto VARCHAR(20),
    nome VARCHAR(100),
    marca VARCHAR(50),
    categoria VARCHAR(50),
    subcategoria VARCHAR(50),
    preco_base DECIMAL(10,2),
    data_inicio DATE,
    data_fim DATE,
    flag_atual CHAR(1)
);
</div></section></section><section class="chapter"><h2 id="tipos-de-dimens-es" data-toc="tipos-de-dimens-es">Tipos de Dimens&otilde;es</h2><section class="chapter"><h3 id="1-dimens-es-conformadas" data-toc="1-dimens-es-conformadas">1. Dimens&otilde;es Conformadas</h3><svg aria-roledescription="flowchart-v2" role="graphics-document document" viewBox="0 0 583.234375 174"  class="flowchart" xmlns="http://www.w3.org/2000/svg" width="583.234375" id="mermaid"><g><marker orient="auto" markerHeight="8" markerWidth="8" markerUnits="userSpaceOnUse" refY="5" refX="5" viewBox="0 0 10 10" class="marker flowchart-v2" id="mermaid_flowchart-v2-pointEnd"><path style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 0 0 L 10 5 L 0 10 z"></path></marker><marker orient="auto" markerHeight="8" markerWidth="8" markerUnits="userSpaceOnUse" refY="5" refX="4.5" viewBox="0 0 10 10" class="marker flowchart-v2" id="mermaid_flowchart-v2-pointStart"><path style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 0 5 L 10 10 L 10 0 z"></path></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5" refX="11" viewBox="0 0 10 10" class="marker flowchart-v2" id="mermaid_flowchart-v2-circleEnd"><circle style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" r="5" cy="5" cx="5"></circle></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5" refX="-1" viewBox="0 0 10 10" class="marker flowchart-v2" id="mermaid_flowchart-v2-circleStart"><circle style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" r="5" cy="5" cx="5"></circle></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5.2" refX="12" viewBox="0 0 11 11" class="marker cross flowchart-v2" id="mermaid_flowchart-v2-crossEnd"><path style="stroke-width: 2; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 1,1 l 9,9 M 10,1 l -9,9"></path></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5.2" refX="-1" viewBox="0 0 11 11" class="marker cross flowchart-v2" id="mermaid_flowchart-v2-crossStart"><path style="stroke-width: 2; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 1,1 l 9,9 M 10,1 l -9,9"></path></marker><g class="root"><g class="clusters"></g><g class="edgePaths"><path marker-end="url(#mermaid_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_A_B_0" d="M83.055,62L83.055,66.167C83.055,70.333,83.055,78.667,94.085,85.662C105.116,92.657,127.177,98.314,148.593,103.805C170.008,109.297,190.778,114.623,201.162,117.286L211.547,119.949"></path><path marker-end="url(#mermaid_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_C_B_1" d="M285.844,62L285.844,66.167C285.844,70.333,285.844,78.667,285.844,84.917C285.844,91.167,285.844,95.333,285.844,98.833C285.844,102.333,285.844,105.167,285.844,106.583L285.844,108"></path><path marker-end="url(#mermaid_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_D_B_2" d="M494.406,62L494.406,66.167C494.406,70.333,494.406,78.667,482.895,85.704C471.383,92.74,448.359,98.481,425.983,104.06C403.606,109.639,381.877,115.057,371.012,117.765L360.147,120.474"></path></g><g class="edgeLabels"><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g></g><g class="nodes"><g transform="translate(83.0546875, 35)" id="flowchart-A-10215" class="node default"><rect height="54" width="150.109375" y="-27" x="-75.0546875" data-et="node" data-id="abc" style="" class="basic label-container"></rect><g transform="translate(-45.0546875, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="90.109375"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>Fato Vendas</p></span></div></foreignObject></g></g><g transform="translate(285.84375, 139)" id="flowchart-B-10216" class="node default"><rect height="54" width="140.84375" y="-27" x="-70.421875" data-et="node" data-id="abc" style="fill:#bbf !important;stroke:#333 !important" class="basic label-container"></rect><g transform="translate(-40.421875, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="80.84375"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>Dim Tempo</p></span></div></foreignObject></g></g><g transform="translate(285.84375, 35)" id="flowchart-C-10217" class="node default"><rect height="54" width="155.46875" y="-27" x="-77.734375" data-et="node" data-id="abc" style="" class="basic label-container"></rect><g transform="translate(-47.734375, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="95.46875"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>Fato Estoque</p></span></div></foreignObject></g></g><g transform="translate(494.40625, 35)" id="flowchart-D-10219" class="node default"><rect height="54" width="161.65625" y="-27" x="-80.828125" data-et="node" data-id="abc" style="" class="basic label-container"></rect><g transform="translate(-50.828125, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="101.65625"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>Fato Compras</p></span></div></foreignObject></g></g></g></g></g></svg></section><section class="chapter"><h3 id="2-role-playing-dimensions" data-toc="2-role-playing-dimensions">2. Role-Playing Dimensions</h3><div class="code-block" data-lang="sql">
-- Exemplo de views para role-playing
CREATE VIEW dim_data_pedido AS
SELECT * FROM dim_tempo;

CREATE VIEW dim_data_entrega AS
SELECT * FROM dim_tempo;
</div></section><section class="chapter"><h3 id="3-junk-dimensions" data-toc="3-junk-dimensions">3. Junk Dimensions</h3><div class="code-block" data-lang="sql">
CREATE TABLE dim_status (
    sk_status INT PRIMARY KEY,
    status_pedido VARCHAR(20),
    status_pagamento VARCHAR(20),
    tipo_entrega VARCHAR(20),
    prioridade VARCHAR(10)
);
</div></section></section><section class="chapter"><h2 id="slowly-changing-dimensions-scd" data-toc="slowly-changing-dimensions-scd">Slowly Changing Dimensions (SCD)</h2><section class="chapter"><h3 id="1-tipo-1-sobrescrita" data-toc="1-tipo-1-sobrescrita">1. Tipo 1 (Sobrescrita)</h3><div class="code-block" data-lang="sql">
UPDATE dim_produto
SET preco_base = 29.99
WHERE sk_produto = 1001;
</div></section><section class="chapter"><h3 id="2-tipo-2-hist-rico" data-toc="2-tipo-2-hist-rico">2. Tipo 2 (Hist&oacute;rico)</h3><div class="code-block" data-lang="sql">
-- Fechando registro atual
UPDATE dim_produto
SET data_fim = CURRENT_DATE,
    flag_atual = 'N'
WHERE sk_produto = 1001
AND flag_atual = 'S';

-- Inserindo novo registro
INSERT INTO dim_produto (
    sk_produto,
    cod_produto,
    nome,
    preco_base,
    data_inicio,
    flag_atual
) VALUES (
    NEXT_SK(),
    'PROD1001',
    'Produto A',
    29.99,
    CURRENT_DATE,
    'S'
);
</div></section><section class="chapter"><h3 id="3-tipo-3-vers-o-anterior" data-toc="3-tipo-3-vers-o-anterior">3. Tipo 3 (Vers&atilde;o Anterior)</h3><div class="code-block" data-lang="sql">
ALTER TABLE dim_produto
ADD preco_anterior DECIMAL(10,2),
ADD data_alteracao_preco DATE;
</div></section></section><section class="chapter"><h2 id="hierarquias" data-toc="hierarquias">Hierarquias</h2><section class="chapter"><h3 id="1-defini-o" data-toc="1-defini-o">1. Defini&ccedil;&atilde;o</h3><div class="code-block" data-lang="sql">
CREATE TABLE dim_localizacao (
    sk_localizacao INT PRIMARY KEY,
    cidade VARCHAR(50),
    estado VARCHAR(50),
    regiao VARCHAR(50),
    pais VARCHAR(50),
    continente VARCHAR(30)
);
</div></section><section class="chapter"><h3 id="2-navega-o" data-toc="2-navega-o">2. Navega&ccedil;&atilde;o</h3><div class="code-block" data-lang="sql">
-- Exemplo de drill-down
SELECT 
    l.continente,
    l.pais,
    l.regiao,
    SUM(f.valor_venda) as total_vendas
FROM fato_vendas f
JOIN dim_localizacao l ON f.sk_localizacao = l.sk_localizacao
GROUP BY ROLLUP(l.continente, l.pais, l.regiao);
</div></section></section><div class="last-modified">26 abril 2025</div><div data-feedback-placeholder="true"></div><div class="navigation-links _bottom"><a href="fact-tables.html" class="navigation-links__prev">Tabelas Fato</a><a href="data-modeling-patterns.html" class="navigation-links__next">Padr&otilde;es de Modelagem de Dados</a></div></article><div id="disqus_thread"></div></div></section></main></div><script src="https://resources.jetbrains.com/writerside/apidoc/6.22.0-b776/app.js"></script></body></html>