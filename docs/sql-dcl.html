<!DOCTYPE html SYSTEM "about:legacy-compat">
<html lang="en-US" data-preset="contrast" data-primary-color="#E8488B"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="UTF-8"><meta name="built-on" content="2025-04-25T23:35:25.006020736"><title>DCL - Linguagem de Controle de Dados | Database Management Systems: A Complete Guide</title><script type="application/json" id="virtual-toc-data">[{"id":"vis-o-geral","level":0,"title":"Visão Geral","anchor":"#vis-o-geral"},{"id":"comandos-principais","level":0,"title":"Comandos Principais","anchor":"#comandos-principais"},{"id":"padr-es-de-seguran-a","level":0,"title":"Padrões de Segurança","anchor":"#padr-es-de-seguran-a"},{"id":"boas-pr-ticas","level":0,"title":"Boas Práticas","anchor":"#boas-pr-ticas"},{"id":"cen-rios-comuns","level":0,"title":"Cenários Comuns","anchor":"#cen-rios-comuns"},{"id":"troubleshooting","level":0,"title":"Troubleshooting","anchor":"#troubleshooting"},{"id":"conclus-o","level":0,"title":"Conclusão","anchor":"#conclus-o"}]</script><script type="application/json" id="topic-shortcuts"></script><link href="https://resources.jetbrains.com/writerside/apidoc/6.22.0-b776/app.css" rel="stylesheet"><link href="static/custom.css" rel="stylesheet"><link rel="icon" type="image/svg" sizes="16x16" href="images/logo-primary.svg"><meta name="image" content=""><!-- Open Graph --><meta property="og:title" content="DCL - Linguagem de Controle de Dados | Database Management Systems: A Complete Guide"><meta property="og:description" content=""><meta property="og:image" content=""><meta property="og:site_name" content="Database Management Systems: A Complete Guide Help"><meta property="og:type" content="website"><meta property="og:locale" content="en_US"><meta property="og:url" content="writerside-documentation/sql-dcl.html"><!-- End Open Graph --><!-- Twitter Card --><meta name="twitter:card" content="summary_large_image"><meta name="twitter:site" content=""><meta name="twitter:title" content="DCL - Linguagem de Controle de Dados | Database Management Systems: A Complete Guide"><meta name="twitter:description" content=""><meta name="twitter:creator" content=""><meta name="twitter:image:src" content=""><!-- End Twitter Card --><!-- Schema.org WebPage --><script type="application/ld+json">{
    "@context": "http://schema.org",
    "@type": "WebPage",
    "@id": "writerside-documentation/sql-dcl.html#webpage",
    "url": "writerside-documentation/sql-dcl.html",
    "name": "DCL - Linguagem de Controle de Dados | Database Management Systems: A Complete Guide",
    "description": "",
    "image": "",
    "inLanguage":"en-US"
}</script><!-- End Schema.org --><!-- Schema.org WebSite --><script type="application/ld+json">{
    "@type": "WebSite",
    "@id": "writerside-documentation/#website",
    "url": "writerside-documentation/",
    "name": "Database Management Systems: A Complete Guide Help"
}</script><!-- End Schema.org --></head><body data-id="sql-dcl" data-main-title="DCL - Linguagem de Controle de Dados" data-article-props="{&quot;seeAlsoStyle&quot;:&quot;links&quot;}" data-template="article" data-breadcrumbs="sql-fundamentals.md|Fundamentos SQL"><div class="wrapper"><main class="panel _main"><header class="panel__header"><div class="container"><h3>Database Management Systems: A Complete Guide  Help</h3><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="inactive"><h1 data-toc="sql-dcl" id="sql-dcl.md">DCL - Linguagem de Controle de Dados</h1><div class="code-block" data-lang="none">
╔══════════════════════════════════════════════════════════════╗
║  SECURITY_MASTER &gt;&gt; Controle de Acesso a Dados             ║
║  INSTRUTOR: SECURITY_SPECIALIST                           ║
╚══════════════════════════════════════════════════════════════╝
</div><section class="chapter"><h2 id="vis-o-geral" data-toc="vis-o-geral">Vis&atilde;o Geral</h2><p id="k2ykeh_11">SECURITY_SPECIALIST apresenta: &quot;A Linguagem de Controle de Dados (DCL) &eacute; fundamental para gerenciar seguran&ccedil;a e acesso em bancos de dados.&quot;</p><svg aria-roledescription="flowchart-v2" role="graphics-document document" viewBox="0 0 1210.3125 278"  class="flowchart" xmlns="http://www.w3.org/2000/svg" width="1210.3125" id="mermaid"><g><marker orient="auto" markerHeight="8" markerWidth="8" markerUnits="userSpaceOnUse" refY="5" refX="5" viewBox="0 0 10 10" class="marker flowchart-v2" id="mermaid_flowchart-v2-pointEnd"><path style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 0 0 L 10 5 L 0 10 z"></path></marker><marker orient="auto" markerHeight="8" markerWidth="8" markerUnits="userSpaceOnUse" refY="5" refX="4.5" viewBox="0 0 10 10" class="marker flowchart-v2" id="mermaid_flowchart-v2-pointStart"><path style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 0 5 L 10 10 L 10 0 z"></path></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5" refX="11" viewBox="0 0 10 10" class="marker flowchart-v2" id="mermaid_flowchart-v2-circleEnd"><circle style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" r="5" cy="5" cx="5"></circle></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5" refX="-1" viewBox="0 0 10 10" class="marker flowchart-v2" id="mermaid_flowchart-v2-circleStart"><circle style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" r="5" cy="5" cx="5"></circle></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5.2" refX="12" viewBox="0 0 11 11" class="marker cross flowchart-v2" id="mermaid_flowchart-v2-crossEnd"><path style="stroke-width: 2; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 1,1 l 9,9 M 10,1 l -9,9"></path></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5.2" refX="-1" viewBox="0 0 11 11" class="marker cross flowchart-v2" id="mermaid_flowchart-v2-crossStart"><path style="stroke-width: 2; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 1,1 l 9,9 M 10,1 l -9,9"></path></marker><g class="root"><g class="clusters"></g><g class="edgePaths"><path marker-end="url(#mermaid_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_A_B_0" d="M541.746,40.573L477.813,48.311C413.88,56.049,286.014,71.524,222.081,81.346C158.148,91.167,158.148,95.333,158.148,98.833C158.148,102.333,158.148,105.167,158.148,106.583L158.148,108"></path><path marker-end="url(#mermaid_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_A_C_1" d="M587.793,62L587.793,66.167C587.793,70.333,587.793,78.667,587.793,84.917C587.793,91.167,587.793,95.333,587.793,98.833C587.793,102.333,587.793,105.167,587.793,106.583L587.793,108"></path><path marker-end="url(#mermaid_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_A_D_2" d="M633.84,40.525L698.401,48.27C762.962,56.016,892.085,71.508,956.646,81.337C1021.207,91.167,1021.207,95.333,1021.207,98.833C1021.207,102.333,1021.207,105.167,1021.207,106.583L1021.207,108"></path><path marker-end="url(#mermaid_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_B_E_3" d="M114.764,166L108.069,170.167C101.374,174.333,87.984,182.667,81.289,188.917C74.594,195.167,74.594,199.333,74.594,202.833C74.594,206.333,74.594,209.167,74.594,210.583L74.594,212"></path><path marker-end="url(#mermaid_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_B_F_4" d="M201.533,166L208.228,170.167C214.923,174.333,228.313,182.667,235.008,188.917C241.703,195.167,241.703,199.333,241.703,202.833C241.703,206.333,241.703,209.167,241.703,210.583L241.703,212"></path><path marker-end="url(#mermaid_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_C_G_5" d="M524.371,164.123L513.063,168.603C501.755,173.082,479.139,182.041,467.831,188.604C456.523,195.167,456.523,199.333,456.523,202.833C456.523,206.333,456.523,209.167,456.523,210.583L456.523,212"></path><path marker-end="url(#mermaid_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_C_H_6" d="M651.215,164.123L662.523,168.603C673.831,173.082,696.447,182.041,707.755,188.604C719.063,195.167,719.063,199.333,719.063,202.833C719.063,206.333,719.063,209.167,719.063,210.583L719.063,212"></path><path marker-end="url(#mermaid_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_D_I_7" d="M971.229,166L963.516,170.167C955.804,174.333,940.378,182.667,932.666,188.917C924.953,195.167,924.953,199.333,924.953,202.833C924.953,206.333,924.953,209.167,924.953,210.583L924.953,212"></path><path marker-end="url(#mermaid_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_D_J_8" d="M1071.185,166L1078.898,170.167C1086.61,174.333,1102.036,182.667,1109.748,188.917C1117.461,195.167,1117.461,199.333,1117.461,202.833C1117.461,206.333,1117.461,209.167,1117.461,210.583L1117.461,212"></path></g><g class="edgeLabels"><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g></g><g class="nodes"><g transform="translate(587.79296875, 35)" id="flowchart-A-9795" class="node default"><rect height="54" width="92.09375" y="-27" x="-46.046875" data-et="node" data-id="abc" style="" class="basic label-container"></rect><g transform="translate(-16.046875, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="32.09375"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>DCL</p></span></div></foreignObject></g></g><g transform="translate(158.1484375, 139)" id="flowchart-B-9796" class="node default"><rect height="54" width="116.125" y="-27" x="-58.0625" data-et="node" data-id="abc" style="" class="basic label-container"></rect><g transform="translate(-28.0625, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="56.125"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>GRANT</p></span></div></foreignObject></g></g><g transform="translate(587.79296875, 139)" id="flowchart-C-9798" class="node default"><rect height="54" width="126.84375" y="-27" x="-63.421875" data-et="node" data-id="abc" style="" class="basic label-container"></rect><g transform="translate(-33.421875, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="66.84375"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>REVOKE</p></span></div></foreignObject></g></g><g transform="translate(1021.20703125, 139)" id="flowchart-D-9800" class="node default"><rect height="54" width="114.375" y="-27" x="-57.1875" data-et="node" data-id="abc" style="" class="basic label-container"></rect><g transform="translate(-27.1875, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="54.375"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>ROLES</p></span></div></foreignObject></g></g><g transform="translate(74.59375, 243)" id="flowchart-E-9802" class="node default"><rect height="54" width="133.1875" y="-27" x="-66.59375" data-et="node" data-id="abc" style="" class="basic label-container"></rect><g transform="translate(-36.59375, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="73.1875"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>Privilégios</p></span></div></foreignObject></g></g><g transform="translate(241.703125, 243)" id="flowchart-F-9804" class="node default"><rect height="54" width="101.03125" y="-27" x="-50.515625" data-et="node" data-id="abc" style="" class="basic label-container"></rect><g transform="translate(-20.515625, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="41.03125"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>Roles</p></span></div></foreignObject></g></g><g transform="translate(456.5234375, 243)" id="flowchart-G-9806" class="node default"><rect height="54" width="228.609375" y="-27" x="-114.3046875" data-et="node" data-id="abc" style="" class="basic label-container"></rect><g transform="translate(-84.3046875, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="168.609375"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>Remoção de Privilégios</p></span></div></foreignObject></g></g><g transform="translate(719.0625, 243)" id="flowchart-H-9808" class="node default"><rect height="54" width="196.46875" y="-27" x="-98.234375" data-et="node" data-id="abc" style="" class="basic label-container"></rect><g transform="translate(-68.234375, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="136.46875"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>Remoção de Roles</p></span></div></foreignObject></g></g><g transform="translate(924.953125, 243)" id="flowchart-I-9810" class="node default"><rect height="54" width="115.3125" y="-27" x="-57.65625" data-et="node" data-id="abc" style="" class="basic label-container"></rect><g transform="translate(-27.65625, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="55.3125"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>Criação</p></span></div></foreignObject></g></g><g transform="translate(1117.4609375, 243)" id="flowchart-J-9812" class="node default"><rect height="54" width="169.703125" y="-27" x="-84.8515625" data-et="node" data-id="abc" style="" class="basic label-container"></rect><g transform="translate(-54.8515625, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="109.703125"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>Gerenciamento</p></span></div></foreignObject></g></g></g></g></g></svg></section><section class="chapter"><h2 id="comandos-principais" data-toc="comandos-principais">Comandos Principais</h2><section class="chapter"><h3 id="1-grant" data-toc="1-grant">1. GRANT</h3><p id="k2ykeh_16">PERMISSION_MASTER explica: &quot;Concede privil&eacute;gios a usu&aacute;rios e roles&quot;</p><div class="code-block" data-lang="sql">
-- Privilégios básicos
GRANT SELECT, INSERT ON tabela TO usuario;

-- Todos os privilégios
GRANT ALL PRIVILEGES ON DATABASE banco TO admin;

-- Privilégios específicos
GRANT UPDATE(salario) ON funcionarios TO rh_manager;
</div></section><section class="chapter"><h3 id="2-revoke" data-toc="2-revoke">2. REVOKE</h3><p id="k2ykeh_18">ACCESS_CONTROLLER demonstra: &quot;Remove privil&eacute;gios concedidos&quot;</p><div class="code-block" data-lang="sql">
-- Revogar privilégios específicos
REVOKE INSERT, UPDATE ON produtos FROM usuario;

-- Revogar todos os privilégios
REVOKE ALL PRIVILEGES ON ALL TABLES IN SCHEMA public FROM usuario;
</div></section><section class="chapter"><h3 id="3-gerenciamento-de-roles" data-toc="3-gerenciamento-de-roles">3. Gerenciamento de ROLES</h3><p id="k2ykeh_20">ROLE_MASTER apresenta: &quot;Organiza privil&eacute;gios em grupos l&oacute;gicos&quot;</p><div class="code-block" data-lang="sql">
-- Criar role
CREATE ROLE analistas;

-- Atribuir privilégios à role
GRANT SELECT ON ALL TABLES IN SCHEMA analytics TO analistas;

-- Atribuir role a usuário
GRANT analistas TO usuario;
</div></section></section><section class="chapter"><h2 id="padr-es-de-seguran-a" data-toc="padr-es-de-seguran-a">Padr&otilde;es de Seguran&ccedil;a</h2><p id="k2ykeh_22">SECURITY_ARCHITECT compartilha padr&otilde;es essenciais:</p><section class="chapter"><h3 id="1-princ-pio-do-menor-privil-gio" data-toc="1-princ-pio-do-menor-privil-gio">1. Princ&iacute;pio do Menor Privil&eacute;gio</h3><div class="code-block" data-lang="sql">
-- Criar role com privilégios mínimos
CREATE ROLE app_read;
GRANT SELECT ON tabela1, tabela2 TO app_read;
GRANT USAGE ON SCHEMA public TO app_read;

-- Revogar privilégios desnecessários
REVOKE ALL ON ALL TABLES IN SCHEMA public FROM PUBLIC;
</div></section><section class="chapter"><h3 id="2-hierarquia-de-roles" data-toc="2-hierarquia-de-roles">2. Hierarquia de Roles</h3><div class="code-block" data-lang="sql">
-- Estrutura hierárquica
CREATE ROLE junior_dev;
CREATE ROLE senior_dev;
CREATE ROLE tech_lead;

GRANT junior_dev TO senior_dev;
GRANT senior_dev TO tech_lead;
</div></section><section class="chapter"><h3 id="3-seguran-a-em-n-vel-de-coluna" data-toc="3-seguran-a-em-n-vel-de-coluna">3. Seguran&ccedil;a em N&iacute;vel de Coluna</h3><div class="code-block" data-lang="sql">
-- Restringir acesso a colunas sensíveis
GRANT SELECT (nome, email) ON usuarios TO suporte;
REVOKE SELECT (senha_hash) ON usuarios FROM suporte;
</div></section></section><section class="chapter"><h2 id="boas-pr-ticas" data-toc="boas-pr-ticas">Boas Pr&aacute;ticas</h2><p id="k2ykeh_29">SECURITY_GUARDIAN compartilha diretrizes:</p><section class="chapter"><h3 id="1-auditoria" data-toc="1-auditoria">1. Auditoria</h3><div class="code-block" data-lang="sql">
-- Criar tabela de auditoria
CREATE TABLE audit_log (
    id SERIAL PRIMARY KEY,
    usuario TEXT,
    acao TEXT,
    tabela TEXT,
    data TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);

-- Trigger para auditoria
CREATE TRIGGER audit_changes
AFTER INSERT OR UPDATE OR DELETE ON dados_sensiveis
FOR EACH ROW EXECUTE FUNCTION log_changes();
</div></section><section class="chapter"><h3 id="2-revis-o-regular" data-toc="2-revis-o-regular">2. Revis&atilde;o Regular</h3><div class="code-block" data-lang="sql">
-- Consultar privilégios existentes
SELECT grantee, privilege_type, table_name
FROM information_schema.role_table_grants
WHERE table_schema = 'public';

-- Verificar membros de roles
SELECT rolname, member
FROM pg_roles r
JOIN pg_auth_members m ON r.oid = m.roleid;
</div></section><section class="chapter"><h3 id="3-rota-o-de-credenciais" data-toc="3-rota-o-de-credenciais">3. Rota&ccedil;&atilde;o de Credenciais</h3><div class="code-block" data-lang="sql">
-- Alterar senha de usuário
ALTER USER aplicacao_user WITH PASSWORD 'novo_password_seguro';

-- Revogar e reconectar sessões
SELECT pg_terminate_backend(pid) 
FROM pg_stat_activity 
WHERE usename = 'aplicacao_user';
</div></section></section><section class="chapter"><h2 id="cen-rios-comuns" data-toc="cen-rios-comuns">Cen&aacute;rios Comuns</h2><p id="k2ykeh_36">IMPLEMENTATION_EXPERT apresenta solu&ccedil;&otilde;es pr&aacute;ticas:</p><section class="chapter"><h3 id="1-ambiente-de-desenvolvimento" data-toc="1-ambiente-de-desenvolvimento">1. Ambiente de Desenvolvimento</h3><div class="code-block" data-lang="sql">
-- Setup inicial
CREATE ROLE dev_team;
GRANT CONNECT ON DATABASE dev_db TO dev_team;
GRANT USAGE ON SCHEMA public TO dev_team;
GRANT SELECT, INSERT, UPDATE, DELETE ON ALL TABLES IN SCHEMA public TO dev_team;
</div></section><section class="chapter"><h3 id="2-ambiente-de-produ-o" data-toc="2-ambiente-de-produ-o">2. Ambiente de Produ&ccedil;&atilde;o</h3><div class="code-block" data-lang="sql">
-- Setup de produção
CREATE ROLE app_service;
GRANT CONNECT ON DATABASE prod_db TO app_service;
GRANT USAGE ON SCHEMA public TO app_service;
GRANT SELECT, INSERT ON tabela_cliente TO app_service;
GRANT UPDATE (status, ultima_atualizacao) ON tabela_pedido TO app_service;
</div></section></section><section class="chapter"><h2 id="troubleshooting" data-toc="troubleshooting">Troubleshooting</h2><p id="k2ykeh_41">PROBLEM_SOLVER apresenta solu&ccedil;&otilde;es para problemas comuns:</p><section class="chapter"><h3 id="1-conflitos-de-privil-gios" data-toc="1-conflitos-de-privil-gios">1. Conflitos de Privil&eacute;gios</h3><div class="code-block" data-lang="sql">
-- Verificar privilégios efetivos
SELECT * FROM information_schema.role_table_grants
WHERE grantee = 'usuario_problematico';

-- Resetar privilégios
REVOKE ALL PRIVILEGES ON ALL TABLES IN SCHEMA public FROM usuario_problematico;
GRANT SELECT ON tabela_especifica TO usuario_problematico;
</div></section><section class="chapter"><h3 id="2-problemas-de-acesso" data-toc="2-problemas-de-acesso">2. Problemas de Acesso</h3><div class="code-block" data-lang="sql">
-- Diagnosticar problemas de conexão
SELECT * FROM pg_stat_activity
WHERE usename = 'usuario_problema';

-- Verificar configurações de autenticação
SELECT rolname, rolcanlogin, rolvaliduntil
FROM pg_roles
WHERE rolname = 'usuario_problema';
</div><div class="code-block" data-lang="none">
╔════════════════════════════════════════════╗
║  CHECKLIST SEGURANÇA:                     ║
║  □ Privilégios mínimos?                   ║
║  □ Roles apropriadas?                     ║
║  □ Auditoria ativa?                       ║
║  □ Senhas fortes?                         ║
║  □ Revisão regular?                       ║
╚════════════════════════════════════════════╝
</div></section></section><section class="chapter"><h2 id="conclus-o" data-toc="conclus-o">Conclus&atilde;o</h2><p id="k2ykeh_47">SECURITY_SPECIALIST conclui: &quot;O DCL &eacute; crucial para manter a seguran&ccedil;a e integridade do banco de dados. Implemente controles de acesso cuidadosamente e revise-os regularmente.&quot;</p><aside class="prompt" data-type="tip" data-title="" id="k2ykeh_48"><p id="k2ykeh_49"><span class="control" id="k2ykeh_50">Dica de Seguran&ccedil;a</span>: Mantenha um invent&aacute;rio atualizado de todos os privil&eacute;gios concedidos e revise-o periodicamente para garantir conformidade com as pol&iacute;ticas de seguran&ccedil;a.</p></aside></section><div class="last-modified">26 abril 2025</div><div data-feedback-placeholder="true"></div><div class="navigation-links _bottom"><a href="merge-statements.html" class="navigation-links__prev">MERGE: Sincronizando Dados com Precis&atilde;o</a><a href="grant-statements.html" class="navigation-links__next">GRANT: Concedendo Privil&eacute;gios</a></div></article><div id="disqus_thread"></div></div></section></main></div><script src="https://resources.jetbrains.com/writerside/apidoc/6.22.0-b776/app.js"></script></body></html>