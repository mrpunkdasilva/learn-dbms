<!DOCTYPE html SYSTEM "about:legacy-compat">
<html lang="en-US" data-preset="contrast" data-primary-color="#E8488B"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="UTF-8"><meta name="built-on" content="2025-06-08T20:10:48.267599936"><title>Mapeamento de Restri&ccedil;&otilde;es ER para Relacional | Database Management Systems: A Complete Guide</title><script type="application/json" id="virtual-toc-data">[{"id":"vis-o-geral","level":0,"title":"Visão Geral","anchor":"#vis-o-geral"},{"id":"tipos-de-restri-es","level":0,"title":"Tipos de Restrições","anchor":"#tipos-de-restri-es"},{"id":"restri-es-de-neg-cio","level":0,"title":"Restrições de Negócio","anchor":"#restri-es-de-neg-cio"},{"id":"mapeamento-de-participa-o","level":0,"title":"Mapeamento de Participação","anchor":"#mapeamento-de-participa-o"},{"id":"otimiza-es","level":0,"title":"Otimizações","anchor":"#otimiza-es"},{"id":"boas-pr-ticas","level":0,"title":"Boas Práticas","anchor":"#boas-pr-ticas"},{"id":"considera-es-de-performance","level":0,"title":"Considerações de Performance","anchor":"#considera-es-de-performance"},{"id":"conclus-o","level":0,"title":"Conclusão","anchor":"#conclus-o"}]</script><script type="application/json" id="topic-shortcuts"></script><link href="https://resources.jetbrains.com/writerside/apidoc/6.22.0-b776/app.css" rel="stylesheet"><link href="static/custom.css" rel="stylesheet"><link rel="icon" type="image/svg" sizes="16x16" href="images/logo-primary.svg"><meta name="image" content=""><!-- Open Graph --><meta property="og:title" content="Mapeamento de Restri&ccedil;&otilde;es ER para Relacional | Database Management Systems: A Complete Guide"><meta property="og:description" content=""><meta property="og:image" content=""><meta property="og:site_name" content="Database Management Systems: A Complete Guide Help"><meta property="og:type" content="website"><meta property="og:locale" content="en_US"><meta property="og:url" content="writerside-documentation/er-mapping-constraints.html"><!-- End Open Graph --><!-- Twitter Card --><meta name="twitter:card" content="summary_large_image"><meta name="twitter:site" content=""><meta name="twitter:title" content="Mapeamento de Restri&ccedil;&otilde;es ER para Relacional | Database Management Systems: A Complete Guide"><meta name="twitter:description" content=""><meta name="twitter:creator" content=""><meta name="twitter:image:src" content=""><!-- End Twitter Card --><!-- Schema.org WebPage --><script type="application/ld+json">{
    "@context": "http://schema.org",
    "@type": "WebPage",
    "@id": "writerside-documentation/er-mapping-constraints.html#webpage",
    "url": "writerside-documentation/er-mapping-constraints.html",
    "name": "Mapeamento de Restri&ccedil;&otilde;es ER para Relacional | Database Management Systems: A Complete Guide",
    "description": "",
    "image": "",
    "inLanguage":"en-US"
}</script><!-- End Schema.org --><!-- Schema.org WebSite --><script type="application/ld+json">{
    "@type": "WebSite",
    "@id": "writerside-documentation/#website",
    "url": "writerside-documentation/",
    "name": "Database Management Systems: A Complete Guide Help"
}</script><!-- End Schema.org --></head><body data-id="er-mapping-constraints" data-main-title="Mapeamento de Restrições ER para Relacional" data-article-props="{&quot;seeAlsoStyle&quot;:&quot;links&quot;}" data-template="article" data-breadcrumbs="data-modeling.md|Modelagem de Dados///logical-modeling.md|Modelagem Lógica///relational-model.md|Modelo Relacional///er-to-relational.md|Transformação ER para Relacional"><div class="wrapper"><main class="panel _main"><header class="panel__header"><div class="container"><h3>Database Management Systems: A Complete Guide  Help</h3><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="inactive"><h1 data-toc="er-mapping-constraints" id="er-mapping-constraints.md">Mapeamento de Restrições ER para Relacional</h1><section class="chapter"><h2 id="vis-o-geral" data-toc="vis-o-geral">Vis&atilde;o Geral</h2><svg aria-roledescription="mindmap" role="graphics-document document" viewBox="5 5 681.487060546875 391.38360595703125" style="max-width: 681.487060546875px;" xmlns="http://www.w3.org/2000/svg" width="100%" id="mermaid"><g></g><g class="mindmap-edges"><path class="edge section-edge-0 edge-depth-1" d="M 474.4505639924796,194.29170519426563 L 484.31124157525835,165.1825668939766 L494.1719191580371,136.07342859368757"></path><path class="edge section-edge-0 edge-depth-1" d="M 484.52810250950847,206.6865919403852 L 547.7617222909453,198.99112722700474 L610.9953420723821,191.29566251362428"></path><path class="edge section-edge-0 edge-depth-1" d="M 479.0874523452018,220.148047704977 L 501.25404335510666,247.47504836419296 L523.4206343650114,274.80204902340887"></path><path class="edge section-edge-0 edge-depth-0" d="M 330.0945763297788,203.44156783997576 L 392.3711902113987,205.69851068395351 L454.6478040930186,207.95545352793127"></path><path class="edge section-edge-1 edge-depth-1" d="M 248.85882778087367,296.4816015660171 L 235.93897429093306,325.62234394100045 L223.01912080099245,354.7630863159838"></path><path class="edge section-edge-1 edge-depth-1" d="M 267.91074630962106,290.30022313924485 L 309.2871754882133,314.3221458881742 L350.6636046668055,338.34406863710353"></path><path class="edge section-edge-1 edge-depth-1" d="M 239.9392781507422,282.92268298877434 L 171.4392633875412,283.62491626768343 L102.93924862434017,284.3271495465925"></path><path class="edge section-edge-1 edge-depth-0" d="M 306.0791903413412,214.8793537394541 L 285.02145350281353,242.83361631219037 L263.96371666428587,270.78787888492667"></path><path class="edge section-edge-2 edge-depth-1" d="M 246.47017991261438,120.22559566059294 L 192.22582958003443,118.82450282620042 L137.98147924745447,117.42340999180789"></path><path class="edge section-edge-2 edge-depth-1" d="M 256.5090207266358,106.45534604737216 L 246.1136523713334,76.76035913680184 L235.71828401603096,47.0653722262315"></path><path class="edge section-edge-2 edge-depth-1" d="M 274.2963598735714,112.84368498834934 L 314.25903444451956,88.64647044352316 L354.2217090154677,64.44925589869698"></path><path class="edge section-edge-2 edge-depth-0" d="M 306.9130960710239,190.33239857884286 L 288.28479788950335,161.7556105035019 L269.6564997079828,133.17882242816097"></path></g><g class="mindmap-nodes"><g transform="translate(267.1903545042263, 184.99050273340015)" class="mindmap-node section--1 section-root"><g transform="translate(47.9140625, 17.9078125)"><circle r="47.9140625" class="node-bkg node-circle" id="node-0"></circle></g><g transform="translate(47.9140625, 5)" text-anchor="middle" dominant-baseline="middle" alignment-baseline="middle" dy="1em"><g><rect style="stroke: none" class="background"></rect><text style="" y="-10.1"><tspan dy="1.1em" y="-0.1em" x="0" class="text-outer-tspan"><tspan font-weight="normal" class="text-inner-tspan" font-style="normal">Restrições</tspan></tspan></text></g></g></g><g transform="translate(419.43592942198904, 190.59089363450687)" class="mindmap-node section-0"><g><path d="M0 30.815624999999997 v-25.815624999999997 q0,-5 5,-5 h90.40406799316406 q5,0 5,5 v30.815624999999997 H0 Z" class="node-bkg node-no-border" id="node-1"></path><line y2="35.815625" x2="100.40406799316406" y1="35.815625" x1="0" class="node-line-0"></line></g><g transform="translate(50.20203399658203, 5)" text-anchor="middle" dominant-baseline="middle" alignment-baseline="middle" dy="1em"><g><rect style="stroke: none" class="background"></rect><text style="" y="-10.1"><tspan dy="1.1em" y="-0.1em" x="0" class="text-outer-tspan"><tspan font-weight="normal" class="text-inner-tspan" font-style="normal">Integridade</tspan></tspan></text></g></g></g><g transform="translate(215.4641457478607, 264.86110489098064)" class="mindmap-node section-1"><g><path d="M0 30.815624999999997 v-25.815624999999997 q0,-5 5,-5 h68.94868850708008 q5,0 5,5 v30.815624999999997 H0 Z" class="node-bkg node-no-border" id="node-5"></path><line y2="35.815625" x2="78.94868850708008" y1="35.815625" x1="0" class="node-line-1"></line></g><g transform="translate(39.47434425354004, 5)" text-anchor="middle" dominant-baseline="middle" alignment-baseline="middle" dy="1em"><g><rect style="stroke: none" class="background"></rect><text style="" y="-10.1"><tspan dy="1.1em" y="-0.1em" x="0" class="text-outer-tspan"><tspan font-weight="normal" class="text-inner-tspan" font-style="normal">Negócio</tspan></tspan></text></g></g></g><g transform="translate(213.09799127478038, 102.70509327360367)" class="mindmap-node section-2"><g><path d="M0 30.815624999999997 v-25.815624999999997 q0,-5 5,-5 h86.734375 q5,0 5,5 v30.815624999999997 H0 Z" class="node-bkg node-no-border" id="node-9"></path><line y2="35.815625" x2="96.734375" y1="35.815625" x1="0" class="node-line-2"></line></g><g transform="translate(48.3671875, 5)" text-anchor="middle" dominant-baseline="middle" alignment-baseline="middle" dy="1em"><g><rect style="stroke: none" class="background"></rect><text style="" y="-10.1"><tspan dy="1.1em" y="-0.1em" x="0" class="text-outer-tspan"><tspan font-weight="normal" class="text-inner-tspan" font-style="normal">Estruturais</tspan></tspan></text></g></g></g><g transform="translate(457.2677037834593, 103.95861515344632)" class="mindmap-node section-0"><g><path d="M0 30.815624999999997 v-25.815624999999997 q0,-5 5,-5 h73.43363189697266 q5,0 5,5 v30.815624999999997 H0 Z" class="node-bkg node-no-border" id="node-2"></path><line y2="35.815625" x2="83.43363189697266" y1="35.815625" x1="0" class="node-line-0"></line></g><g transform="translate(41.71681594848633, 5)" text-anchor="middle" dominant-baseline="middle" alignment-baseline="middle" dy="1em"><g><rect style="stroke: none" class="background"></rect><text style="" y="-10.1"><tspan dy="1.1em" y="-0.1em" x="0" class="text-outer-tspan"><tspan font-weight="normal" class="text-inner-tspan" font-style="normal">Entidade</tspan></tspan></text></g></g></g><g transform="translate(575.2839186633195, 171.5757358195026)" class="mindmap-node section-0"><g><path d="M0 30.815624999999997 v-25.815624999999997 q0,-5 5,-5 h91.203125 q5,0 5,5 v30.815624999999997 H0 Z" class="node-bkg node-no-border" id="node-3"></path><line y2="35.815625" x2="101.203125" y1="35.815625" x1="0" class="node-line-0"></line></g><g transform="translate(50.6015625, 5)" text-anchor="middle" dominant-baseline="middle" alignment-baseline="middle" dy="1em"><g><rect style="stroke: none" class="background"></rect><text style="" y="-10.1"><tspan dy="1.1em" y="-0.1em" x="0" class="text-outer-tspan"><tspan font-weight="normal" class="text-inner-tspan" font-style="normal">Referencial</tspan></tspan></text></g></g></g><g transform="translate(492.9582790381022, 268.543578093879)" class="mindmap-node section-0"><g><path d="M0 30.815624999999997 v-25.815624999999997 q0,-5 5,-5 h69.82368850708008 q5,0 5,5 v30.815624999999997 H0 Z" class="node-bkg node-no-border" id="node-4"></path><line y2="35.815625" x2="79.82368850708008" y1="35.815625" x1="0" class="node-line-0"></line></g><g transform="translate(39.91184425354004, 5)" text-anchor="middle" dominant-baseline="middle" alignment-baseline="middle" dy="1em"><g><rect style="stroke: none" class="background"></rect><text style="" y="-10.1"><tspan dy="1.1em" y="-0.1em" x="0" class="text-outer-tspan"><tspan font-weight="normal" class="text-inner-tspan" font-style="normal">Domínio</tspan></tspan></text></g></g></g><g transform="translate(183.71567699477202, 350.5679579910203)" class="mindmap-node section-1"><g><path d="M0 30.815624999999997 v-25.815624999999997 q0,-5 5,-5 h56.44756317138672 q5,0 5,5 v30.815624999999997 H0 Z" class="node-bkg node-no-border" id="node-6"></path><line y2="35.815625" x2="66.44756317138672" y1="35.815625" x1="0" class="node-line-1"></line></g><g transform="translate(33.22378158569336, 5)" text-anchor="middle" dominant-baseline="middle" alignment-baseline="middle" dy="1em"><g><rect style="stroke: none" class="background"></rect><text style="" y="-10.1"><tspan dy="1.1em" y="-0.1em" x="0" class="text-outer-tspan"><tspan font-weight="normal" class="text-inner-tspan" font-style="normal">Check</tspan></tspan></text></g></g></g><g transform="translate(328.18495231413715, 327.9675618853678)" class="mindmap-node section-1"><g><path d="M0 30.815624999999997 v-25.815624999999997 q0,-5 5,-5 h60.901817321777344 q5,0 5,5 v30.815624999999997 H0 Z" class="node-bkg node-no-border" id="node-7"></path><line y2="35.815625" x2="70.90181732177734" y1="35.815625" x1="0" class="node-line-1"></line></g><g transform="translate(35.45090866088867, 5)" text-anchor="middle" dominant-baseline="middle" alignment-baseline="middle" dy="1em"><g><rect style="stroke: none" class="background"></rect><text style="" y="-10.1"><tspan dy="1.1em" y="-0.1em" x="0" class="text-outer-tspan"><tspan font-weight="normal" class="text-inner-tspan" font-style="normal">Trigger</tspan></tspan></text></g></g></g><g transform="translate(15, 266.57310264438627)" class="mindmap-node section-1"><g><path d="M0 30.815624999999997 v-25.815624999999997 q0,-5 5,-5 h135.88007354736328 q5,0 5,5 v30.815624999999997 H0 Z" class="node-bkg node-no-border" id="node-8"></path><line y2="35.815625" x2="145.88007354736328" y1="35.815625" x1="0" class="node-line-1"></line></g><g transform="translate(72.94003677368164, 5)" text-anchor="middle" dominant-baseline="middle" alignment-baseline="middle" dy="1em"><g><rect style="stroke: none" class="background"></rect><text style="" y="-10.1"><tspan dy="1.1em" y="-0.1em" x="0" class="text-outer-tspan"><tspan font-weight="normal" class="text-inner-tspan" font-style="normal">Stored</tspan><tspan font-weight="normal" class="text-inner-tspan" font-style="normal"> Procedure</tspan></tspan></text></g></g></g><g transform="translate(87.52413526199746, 99.12828737879715)" class="mindmap-node section-2"><g><path d="M0 30.815624999999997 v-25.815624999999997 q0,-5 5,-5 h60.92469024658203 q5,0 5,5 v30.815624999999997 H0 Z" class="node-bkg node-no-border" id="node-10"></path><line y2="35.815625" x2="70.92469024658203" y1="35.815625" x1="0" class="node-line-2"></line></g><g transform="translate(35.462345123291016, 5)" text-anchor="middle" dominant-baseline="middle" alignment-baseline="middle" dy="1em"><g><rect style="stroke: none" class="background"></rect><text style="" y="-10.1"><tspan dy="1.1em" y="-0.1em" x="0" class="text-outer-tspan"><tspan font-weight="normal" class="text-inner-tspan" font-style="normal">Unique</tspan></tspan></text></g></g></g><g transform="translate(192.1996259678864, 15)" class="mindmap-node section-2"><g><path d="M0 30.815624999999997 v-25.815624999999997 q0,-5 5,-5 h67.125 q5,0 5,5 v30.815624999999997 H0 Z" class="node-bkg node-no-border" id="node-11"></path><line y2="35.815625" x2="77.125" y1="35.815625" x1="0" class="node-line-2"></line></g><g transform="translate(38.5625, 5)" text-anchor="middle" dominant-baseline="middle" alignment-baseline="middle" dy="1em"><g><rect style="stroke: none" class="background"></rect><text style="" y="-10.1"><tspan dy="1.1em" y="-0.1em" x="0" class="text-outer-tspan"><tspan font-weight="normal" class="text-inner-tspan" font-style="normal">Not</tspan><tspan font-weight="normal" class="text-inner-tspan" font-style="normal"> Null</tspan></tspan></text></g></g></g><g transform="translate(331.3558896107187, 38.772222613442636)" class="mindmap-node section-2"><g><path d="M0 30.815624999999997 v-25.815624999999997 q0,-5 5,-5 h61.39400100708008 q5,0 5,5 v30.815624999999997 H0 Z" class="node-bkg node-no-border" id="node-12"></path><line y2="35.815625" x2="71.39400100708008" y1="35.815625" x1="0" class="node-line-2"></line></g><g transform="translate(35.69700050354004, 5)" text-anchor="middle" dominant-baseline="middle" alignment-baseline="middle" dy="1em"><g><rect style="stroke: none" class="background"></rect><text style="" y="-10.1"><tspan dy="1.1em" y="-0.1em" x="0" class="text-outer-tspan"><tspan font-weight="normal" class="text-inner-tspan" font-style="normal">Default</tspan></tspan></text></g></g></g></g></svg></section><section class="chapter"><h2 id="tipos-de-restri-es" data-toc="tipos-de-restri-es">Tipos de Restri&ccedil;&otilde;es</h2><section class="chapter"><h3 id="1-restri-es-de-chave" data-toc="1-restri-es-de-chave">1. Restri&ccedil;&otilde;es de Chave</h3><svg aria-roledescription="er" role="graphics-document document" viewBox="0 0 150.13683319091797 148" style="max-width: 150.13683319091797px;" xmlns="http://www.w3.org/2000/svg" width="100%" id="mermaid"><g></g><defs><marker orient="auto" markerHeight="240" markerWidth="190" refY="7" refX="0" id="MD_PARENT_START"><path d="M 18,7 L9,13 L1,7 L9,1 Z"></path></marker></defs><defs><marker orient="auto" markerHeight="28" markerWidth="20" refY="7" refX="19" id="MD_PARENT_END"><path d="M 18,7 L9,13 L1,7 L9,1 Z"></path></marker></defs><defs><marker orient="auto" markerHeight="18" markerWidth="18" refY="9" refX="0" id="ONLY_ONE_START"><path d="M9,0 L9,18 M15,0 L15,18" fill="none" stroke="gray"></path></marker></defs><defs><marker orient="auto" markerHeight="18" markerWidth="18" refY="9" refX="18" id="ONLY_ONE_END"><path d="M3,0 L3,18 M9,0 L9,18" fill="none" stroke="gray"></path></marker></defs><defs><marker orient="auto" markerHeight="18" markerWidth="30" refY="9" refX="0" id="ZERO_OR_ONE_START"><circle r="6" cy="9" cx="21" fill="white" stroke="gray"></circle><path d="M9,0 L9,18" fill="none" stroke="gray"></path></marker></defs><defs><marker orient="auto" markerHeight="18" markerWidth="30" refY="9" refX="30" id="ZERO_OR_ONE_END"><circle r="6" cy="9" cx="9" fill="white" stroke="gray"></circle><path d="M21,0 L21,18" fill="none" stroke="gray"></path></marker></defs><defs><marker orient="auto" markerHeight="36" markerWidth="45" refY="18" refX="18" id="ONE_OR_MORE_START"><path d="M0,18 Q 18,0 36,18 Q 18,36 0,18 M42,9 L42,27" fill="none" stroke="gray"></path></marker></defs><defs><marker orient="auto" markerHeight="36" markerWidth="45" refY="18" refX="27" id="ONE_OR_MORE_END"><path d="M3,9 L3,27 M9,18 Q27,0 45,18 Q27,36 9,18" fill="none" stroke="gray"></path></marker></defs><defs><marker orient="auto" markerHeight="36" markerWidth="57" refY="18" refX="18" id="ZERO_OR_MORE_START"><circle r="6" cy="18" cx="48" fill="white" stroke="gray"></circle><path d="M0,18 Q18,0 36,18 Q18,36 0,18" fill="none" stroke="gray"></path></marker></defs><defs><marker orient="auto" markerHeight="36" markerWidth="57" refY="18" refX="39" id="ZERO_OR_MORE_END"><circle r="6" cy="18" cx="9" fill="white" stroke="gray"></circle><path d="M21,18 Q39,0 57,18 Q39,36 21,18" fill="none" stroke="gray"></path></marker></defs><g transform="translate(20,20 )" id="entity-PRODUTO-70eb484a-58b0-5b48-bc22-e6fb8866a664"><rect height="108" width="110.1368293762207" y="0" x="0" class="er entityBox"></rect><text transform="translate(55.06841468811035,12)" style="dominant-baseline: middle; text-anchor: middle; font-size: 12px;" y="0" x="0" id="text-entity-PRODUTO-70eb484a-58b0-5b48-bc22-e6fb8866a664" class="er entityLabel">PRODUTO</text><rect height="21" width="45.28125" y="24" x="0" class="er attributeBoxOdd"></rect><text transform="translate(5,34.5)" style="dominant-baseline: middle; font-size: 10.2px;" y="0" x="0" id="text-entity-PRODUTO-70eb484a-58b0-5b48-bc22-e6fb8866a664-attr-1-type" class="er entityLabel">string</text><rect height="21" width="40.4744930267334" y="24" x="45.28125" class="er attributeBoxOdd"></rect><text transform="translate(50.28125,34.5)" style="dominant-baseline: middle; font-size: 10.2px;" y="0" x="0" id="text-entity-PRODUTO-70eb484a-58b0-5b48-bc22-e6fb8866a664-attr-1-name" class="er entityLabel">codigo</text><rect height="21" width="24.381086349487305" y="24" x="85.7557430267334" class="er attributeBoxOdd"></rect><text transform="translate(90.7557430267334,34.5)" style="dominant-baseline: middle; font-size: 10.2px;" y="0" x="0" id="text-entity-PRODUTO-70eb484a-58b0-5b48-bc22-e6fb8866a664-attr-1-key" class="er entityLabel">PK</text><rect height="21" width="45.28125" y="45" x="0" class="er attributeBoxEven"></rect><text transform="translate(5,55.5)" style="dominant-baseline: middle; font-size: 10.2px;" y="0" x="0" id="text-entity-PRODUTO-70eb484a-58b0-5b48-bc22-e6fb8866a664-attr-2-type" class="er entityLabel">string</text><rect height="21" width="40.4744930267334" y="45" x="45.28125" class="er attributeBoxEven"></rect><text transform="translate(50.28125,55.5)" style="dominant-baseline: middle; font-size: 10.2px;" y="0" x="0" id="text-entity-PRODUTO-70eb484a-58b0-5b48-bc22-e6fb8866a664-attr-2-name" class="er entityLabel">nome</text><rect height="21" width="24.381086349487305" y="45" x="85.7557430267334" class="er attributeBoxEven"></rect><text transform="translate(90.7557430267334,55.5)" style="dominant-baseline: middle; font-size: 10.2px;" y="0" x="0" id="text-entity-PRODUTO-70eb484a-58b0-5b48-bc22-e6fb8866a664-attr-2-key" class="er entityLabel">UK</text><rect height="21" width="45.28125" y="66" x="0" class="er attributeBoxOdd"></rect><text transform="translate(5,76.5)" style="dominant-baseline: middle; font-size: 10.2px;" y="0" x="0" id="text-entity-PRODUTO-70eb484a-58b0-5b48-bc22-e6fb8866a664-attr-3-type" class="er entityLabel">string</text><rect height="21" width="40.4744930267334" y="66" x="45.28125" class="er attributeBoxOdd"></rect><text transform="translate(50.28125,76.5)" style="dominant-baseline: middle; font-size: 10.2px;" y="0" x="0" id="text-entity-PRODUTO-70eb484a-58b0-5b48-bc22-e6fb8866a664-attr-3-name" class="er entityLabel">sku</text><rect height="21" width="24.381086349487305" y="66" x="85.7557430267334" class="er attributeBoxOdd"></rect><text transform="translate(90.7557430267334,76.5)" style="dominant-baseline: middle; font-size: 10.2px;" y="0" x="0" id="text-entity-PRODUTO-70eb484a-58b0-5b48-bc22-e6fb8866a664-attr-3-key" class="er entityLabel">UK</text><rect height="21" width="45.28125" y="87" x="0" class="er attributeBoxEven"></rect><text transform="translate(5,97.5)" style="dominant-baseline: middle; font-size: 10.2px;" y="0" x="0" id="text-entity-PRODUTO-70eb484a-58b0-5b48-bc22-e6fb8866a664-attr-4-type" class="er entityLabel">decimal</text><rect height="21" width="40.4744930267334" y="87" x="45.28125" class="er attributeBoxEven"></rect><text transform="translate(50.28125,97.5)" style="dominant-baseline: middle; font-size: 10.2px;" y="0" x="0" id="text-entity-PRODUTO-70eb484a-58b0-5b48-bc22-e6fb8866a664-attr-4-name" class="er entityLabel">preco</text><rect height="21" width="24.381086349487305" y="87" x="85.7557430267334" class="er attributeBoxEven"></rect><text transform="translate(90.7557430267334,97.5)" style="dominant-baseline: middle; font-size: 10.2px;" y="0" x="0" id="text-entity-PRODUTO-70eb484a-58b0-5b48-bc22-e6fb8866a664-attr-4-key" class="er entityLabel"></text></g></svg><section class="chapter"><h4 id="implementa-o" data-toc="implementa-o">Implementa&ccedil;&atilde;o</h4><div class="code-block" data-lang="sql">
CREATE TABLE Produto (
    codigo VARCHAR(20) PRIMARY KEY,
    nome VARCHAR(100) NOT NULL UNIQUE,
    sku VARCHAR(50) UNIQUE,
    preco DECIMAL(10,2),
    CONSTRAINT check_preco CHECK (preco &gt; 0)
);
</div></section></section><section class="chapter"><h3 id="2-restri-es-de-integridade-referencial" data-toc="2-restri-es-de-integridade-referencial">2. Restri&ccedil;&otilde;es de Integridade Referencial</h3><svg aria-roledescription="er" role="graphics-document document" viewBox="0 0 354.096435546875 335" style="max-width: 354.096435546875px;" xmlns="http://www.w3.org/2000/svg" width="100%" id="mermaid"><g></g><defs><marker orient="auto" markerHeight="240" markerWidth="190" refY="7" refX="0" id="MD_PARENT_START"><path d="M 18,7 L9,13 L1,7 L9,1 Z"></path></marker></defs><defs><marker orient="auto" markerHeight="28" markerWidth="20" refY="7" refX="19" id="MD_PARENT_END"><path d="M 18,7 L9,13 L1,7 L9,1 Z"></path></marker></defs><defs><marker orient="auto" markerHeight="18" markerWidth="18" refY="9" refX="0" id="ONLY_ONE_START"><path d="M9,0 L9,18 M15,0 L15,18" fill="none" stroke="gray"></path></marker></defs><defs><marker orient="auto" markerHeight="18" markerWidth="18" refY="9" refX="18" id="ONLY_ONE_END"><path d="M3,0 L3,18 M9,0 L9,18" fill="none" stroke="gray"></path></marker></defs><defs><marker orient="auto" markerHeight="18" markerWidth="30" refY="9" refX="0" id="ZERO_OR_ONE_START"><circle r="6" cy="9" cx="21" fill="white" stroke="gray"></circle><path d="M9,0 L9,18" fill="none" stroke="gray"></path></marker></defs><defs><marker orient="auto" markerHeight="18" markerWidth="30" refY="9" refX="30" id="ZERO_OR_ONE_END"><circle r="6" cy="9" cx="9" fill="white" stroke="gray"></circle><path d="M21,0 L21,18" fill="none" stroke="gray"></path></marker></defs><defs><marker orient="auto" markerHeight="36" markerWidth="45" refY="18" refX="18" id="ONE_OR_MORE_START"><path d="M0,18 Q 18,0 36,18 Q 18,36 0,18 M42,9 L42,27" fill="none" stroke="gray"></path></marker></defs><defs><marker orient="auto" markerHeight="36" markerWidth="45" refY="18" refX="27" id="ONE_OR_MORE_END"><path d="M3,9 L3,27 M9,18 Q27,0 45,18 Q27,36 9,18" fill="none" stroke="gray"></path></marker></defs><defs><marker orient="auto" markerHeight="36" markerWidth="57" refY="18" refX="18" id="ZERO_OR_MORE_START"><circle r="6" cy="18" cx="48" fill="white" stroke="gray"></circle><path d="M0,18 Q18,0 36,18 Q18,36 0,18" fill="none" stroke="gray"></path></marker></defs><defs><marker orient="auto" markerHeight="36" markerWidth="57" refY="18" refX="39" id="ZERO_OR_MORE_END"><circle r="6" cy="18" cx="9" fill="white" stroke="gray"></circle><path d="M21,18 Q39,0 57,18 Q39,36 21,18" fill="none" stroke="gray"></path></marker></defs><path style="stroke: gray; fill: none;" marker-start="url(#ONLY_ONE_START)" marker-end="url(#ONE_OR_MORE_END)" d="M77.048,107L77.048,115.333C77.048,123.667,77.048,140.333,85.343,157C93.639,173.667,110.229,190.333,118.524,198.667L126.819,207" class="er relationshipLine"></path><path style="stroke: gray; fill: none;" marker-start="url(#ONE_OR_MORE_START)" marker-end="url(#ONLY_ONE_END)" d="M284.096,101L284.096,110.333C284.096,119.667,284.096,138.333,275.801,156C267.506,173.667,250.916,190.333,242.62,198.667L234.325,207" class="er relationshipLine"></path><g transform="translate(20,20 )" id="entity-PEDIDO-79609d0a-2a15-5826-829f-bc409be443d0"><rect height="87" width="114.09642601013184" y="0" x="0" class="er entityBox"></rect><text transform="translate(57.04821300506592,12)" style="dominant-baseline: middle; text-anchor: middle; font-size: 12px;" y="0" x="0" id="text-entity-PEDIDO-79609d0a-2a15-5826-829f-bc409be443d0" class="er entityLabel">PEDIDO</text><rect height="21" width="45.28125" y="24" x="0" class="er attributeBoxOdd"></rect><text transform="translate(5,34.5)" style="dominant-baseline: middle; font-size: 10.2px;" y="0" x="0" id="text-entity-PEDIDO-79609d0a-2a15-5826-829f-bc409be443d0-attr-1-type" class="er entityLabel">string</text><rect height="21" width="44.996192932128906" y="24" x="45.28125" class="er attributeBoxOdd"></rect><text transform="translate(50.28125,34.5)" style="dominant-baseline: middle; font-size: 10.2px;" y="0" x="0" id="text-entity-PEDIDO-79609d0a-2a15-5826-829f-bc409be443d0-attr-1-name" class="er entityLabel">numero</text><rect height="21" width="23.81898307800293" y="24" x="90.2774429321289" class="er attributeBoxOdd"></rect><text transform="translate(95.2774429321289,34.5)" style="dominant-baseline: middle; font-size: 10.2px;" y="0" x="0" id="text-entity-PEDIDO-79609d0a-2a15-5826-829f-bc409be443d0-attr-1-key" class="er entityLabel">PK</text><rect height="21" width="45.28125" y="45" x="0" class="er attributeBoxEven"></rect><text transform="translate(5,55.5)" style="dominant-baseline: middle; font-size: 10.2px;" y="0" x="0" id="text-entity-PEDIDO-79609d0a-2a15-5826-829f-bc409be443d0-attr-2-type" class="er entityLabel">date</text><rect height="21" width="44.996192932128906" y="45" x="45.28125" class="er attributeBoxEven"></rect><text transform="translate(50.28125,55.5)" style="dominant-baseline: middle; font-size: 10.2px;" y="0" x="0" id="text-entity-PEDIDO-79609d0a-2a15-5826-829f-bc409be443d0-attr-2-name" class="er entityLabel">data</text><rect height="21" width="23.81898307800293" y="45" x="90.2774429321289" class="er attributeBoxEven"></rect><text transform="translate(95.2774429321289,55.5)" style="dominant-baseline: middle; font-size: 10.2px;" y="0" x="0" id="text-entity-PEDIDO-79609d0a-2a15-5826-829f-bc409be443d0-attr-2-key" class="er entityLabel"></text><rect height="21" width="45.28125" y="66" x="0" class="er attributeBoxOdd"></rect><text transform="translate(5,76.5)" style="dominant-baseline: middle; font-size: 10.2px;" y="0" x="0" id="text-entity-PEDIDO-79609d0a-2a15-5826-829f-bc409be443d0-attr-3-type" class="er entityLabel">decimal</text><rect height="21" width="44.996192932128906" y="66" x="45.28125" class="er attributeBoxOdd"></rect><text transform="translate(50.28125,76.5)" style="dominant-baseline: middle; font-size: 10.2px;" y="0" x="0" id="text-entity-PEDIDO-79609d0a-2a15-5826-829f-bc409be443d0-attr-3-name" class="er entityLabel">total</text><rect height="21" width="23.81898307800293" y="66" x="90.2774429321289" class="er attributeBoxOdd"></rect><text transform="translate(95.2774429321289,76.5)" style="dominant-baseline: middle; font-size: 10.2px;" y="0" x="0" id="text-entity-PEDIDO-79609d0a-2a15-5826-829f-bc409be443d0-attr-3-key" class="er entityLabel"></text></g><g transform="translate(112.6995792388916,207 )" id="entity-ITEMPEDIDO-2907c1d1-0d54-568d-a2bb-b3bec61edccd"><rect height="108" width="135.74548149108887" y="0" x="0" class="er entityBox"></rect><text transform="translate(67.87274074554443,12)" style="dominant-baseline: middle; text-anchor: middle; font-size: 12px;" y="0" x="0" id="text-entity-ITEMPEDIDO-2907c1d1-0d54-568d-a2bb-b3bec61edccd" class="er entityLabel">ITEM_PEDIDO</text><rect height="21" width="45.28125" y="24" x="0" class="er attributeBoxOdd"></rect><text transform="translate(5,34.5)" style="dominant-baseline: middle; font-size: 10.2px;" y="0" x="0" id="text-entity-ITEMPEDIDO-2907c1d1-0d54-568d-a2bb-b3bec61edccd-attr-1-type" class="er entityLabel">string</text><rect height="21" width="67.21730041503906" y="24" x="45.28125" class="er attributeBoxOdd"></rect><text transform="translate(50.28125,34.5)" style="dominant-baseline: middle; font-size: 10.2px;" y="0" x="0" id="text-entity-ITEMPEDIDO-2907c1d1-0d54-568d-a2bb-b3bec61edccd-attr-1-name" class="er entityLabel">pedido_num</text><rect height="21" width="23.246931076049805" y="24" x="112.49855041503906" class="er attributeBoxOdd"></rect><text transform="translate(117.49855041503906,34.5)" style="dominant-baseline: middle; font-size: 10.2px;" y="0" x="0" id="text-entity-ITEMPEDIDO-2907c1d1-0d54-568d-a2bb-b3bec61edccd-attr-1-key" class="er entityLabel">FK</text><rect height="21" width="45.28125" y="45" x="0" class="er attributeBoxEven"></rect><text transform="translate(5,55.5)" style="dominant-baseline: middle; font-size: 10.2px;" y="0" x="0" id="text-entity-ITEMPEDIDO-2907c1d1-0d54-568d-a2bb-b3bec61edccd-attr-2-type" class="er entityLabel">string</text><rect height="21" width="67.21730041503906" y="45" x="45.28125" class="er attributeBoxEven"></rect><text transform="translate(50.28125,55.5)" style="dominant-baseline: middle; font-size: 10.2px;" y="0" x="0" id="text-entity-ITEMPEDIDO-2907c1d1-0d54-568d-a2bb-b3bec61edccd-attr-2-name" class="er entityLabel">produto_cod</text><rect height="21" width="23.246931076049805" y="45" x="112.49855041503906" class="er attributeBoxEven"></rect><text transform="translate(117.49855041503906,55.5)" style="dominant-baseline: middle; font-size: 10.2px;" y="0" x="0" id="text-entity-ITEMPEDIDO-2907c1d1-0d54-568d-a2bb-b3bec61edccd-attr-2-key" class="er entityLabel">FK</text><rect height="21" width="45.28125" y="66" x="0" class="er attributeBoxOdd"></rect><text transform="translate(5,76.5)" style="dominant-baseline: middle; font-size: 10.2px;" y="0" x="0" id="text-entity-ITEMPEDIDO-2907c1d1-0d54-568d-a2bb-b3bec61edccd-attr-3-type" class="er entityLabel">int</text><rect height="21" width="67.21730041503906" y="66" x="45.28125" class="er attributeBoxOdd"></rect><text transform="translate(50.28125,76.5)" style="dominant-baseline: middle; font-size: 10.2px;" y="0" x="0" id="text-entity-ITEMPEDIDO-2907c1d1-0d54-568d-a2bb-b3bec61edccd-attr-3-name" class="er entityLabel">quantidade</text><rect height="21" width="23.246931076049805" y="66" x="112.49855041503906" class="er attributeBoxOdd"></rect><text transform="translate(117.49855041503906,76.5)" style="dominant-baseline: middle; font-size: 10.2px;" y="0" x="0" id="text-entity-ITEMPEDIDO-2907c1d1-0d54-568d-a2bb-b3bec61edccd-attr-3-key" class="er entityLabel"></text><rect height="21" width="45.28125" y="87" x="0" class="er attributeBoxEven"></rect><text transform="translate(5,97.5)" style="dominant-baseline: middle; font-size: 10.2px;" y="0" x="0" id="text-entity-ITEMPEDIDO-2907c1d1-0d54-568d-a2bb-b3bec61edccd-attr-4-type" class="er entityLabel">decimal</text><rect height="21" width="67.21730041503906" y="87" x="45.28125" class="er attributeBoxEven"></rect><text transform="translate(50.28125,97.5)" style="dominant-baseline: middle; font-size: 10.2px;" y="0" x="0" id="text-entity-ITEMPEDIDO-2907c1d1-0d54-568d-a2bb-b3bec61edccd-attr-4-name" class="er entityLabel">preco_unit</text><rect height="21" width="23.246931076049805" y="87" x="112.49855041503906" class="er attributeBoxEven"></rect><text transform="translate(117.49855041503906,97.5)" style="dominant-baseline: middle; font-size: 10.2px;" y="0" x="0" id="text-entity-ITEMPEDIDO-2907c1d1-0d54-568d-a2bb-b3bec61edccd-attr-4-key" class="er entityLabel"></text></g><g transform="translate(234.09642791748047,26 )" id="entity-PRODUTO-70eb484a-58b0-5b48-bc22-e6fb8866a664"><rect height="75" width="100" y="0" x="0" class="er entityBox"></rect><text transform="translate(50,37.5)" style="dominant-baseline: middle; text-anchor: middle; font-size: 12px;" y="0" x="0" id="text-entity-PRODUTO-70eb484a-58b0-5b48-bc22-e6fb8866a664" class="er entityLabel">PRODUTO</text></g><rect height="14" width="39.5" y="156.12307739257812" x="68.99304962158203" class="er relationshipLabelBox"></rect><text style="text-anchor: middle; dominant-baseline: middle; font-size: 12px;" y="163.12307739257812" x="88.74304962158203" id="rel496" class="er relationshipLabel">contem</text><rect height="14" width="27.5" y="153.41970825195312" x="259.79833984375" class="er relationshipLabelBox"></rect><text style="text-anchor: middle; dominant-baseline: middle; font-size: 12px;" y="160.41970825195312" x="273.54833984375" id="rel497" class="er relationshipLabel">inclui</text></svg><section class="chapter"><h4 id="implementa-o" data-toc="implementa-o">Implementa&ccedil;&atilde;o</h4><div class="code-block" data-lang="sql">
CREATE TABLE Pedido (
    numero VARCHAR(20) PRIMARY KEY,
    data DATE NOT NULL,
    total DECIMAL(10,2)
);

CREATE TABLE Item_Pedido (
    pedido_num VARCHAR(20),
    produto_cod VARCHAR(20),
    quantidade INTEGER NOT NULL,
    preco_unit DECIMAL(10,2) NOT NULL,
    PRIMARY KEY (pedido_num, produto_cod),
    FOREIGN KEY (pedido_num) 
        REFERENCES Pedido(numero)
        ON DELETE CASCADE
        ON UPDATE CASCADE,
    FOREIGN KEY (produto_cod) 
        REFERENCES Produto(codigo)
        ON DELETE RESTRICT
        ON UPDATE CASCADE
);
</div></section></section><section class="chapter"><h3 id="3-restri-es-de-dom-nio" data-toc="3-restri-es-de-dom-nio">3. Restri&ccedil;&otilde;es de Dom&iacute;nio</h3><svg aria-roledescription="er" role="graphics-document document" viewBox="0 0 154.265625 169" style="max-width: 154.265625px;" xmlns="http://www.w3.org/2000/svg" width="100%" id="mermaid"><g></g><defs><marker orient="auto" markerHeight="240" markerWidth="190" refY="7" refX="0" id="MD_PARENT_START"><path d="M 18,7 L9,13 L1,7 L9,1 Z"></path></marker></defs><defs><marker orient="auto" markerHeight="28" markerWidth="20" refY="7" refX="19" id="MD_PARENT_END"><path d="M 18,7 L9,13 L1,7 L9,1 Z"></path></marker></defs><defs><marker orient="auto" markerHeight="18" markerWidth="18" refY="9" refX="0" id="ONLY_ONE_START"><path d="M9,0 L9,18 M15,0 L15,18" fill="none" stroke="gray"></path></marker></defs><defs><marker orient="auto" markerHeight="18" markerWidth="18" refY="9" refX="18" id="ONLY_ONE_END"><path d="M3,0 L3,18 M9,0 L9,18" fill="none" stroke="gray"></path></marker></defs><defs><marker orient="auto" markerHeight="18" markerWidth="30" refY="9" refX="0" id="ZERO_OR_ONE_START"><circle r="6" cy="9" cx="21" fill="white" stroke="gray"></circle><path d="M9,0 L9,18" fill="none" stroke="gray"></path></marker></defs><defs><marker orient="auto" markerHeight="18" markerWidth="30" refY="9" refX="30" id="ZERO_OR_ONE_END"><circle r="6" cy="9" cx="9" fill="white" stroke="gray"></circle><path d="M21,0 L21,18" fill="none" stroke="gray"></path></marker></defs><defs><marker orient="auto" markerHeight="36" markerWidth="45" refY="18" refX="18" id="ONE_OR_MORE_START"><path d="M0,18 Q 18,0 36,18 Q 18,36 0,18 M42,9 L42,27" fill="none" stroke="gray"></path></marker></defs><defs><marker orient="auto" markerHeight="36" markerWidth="45" refY="18" refX="27" id="ONE_OR_MORE_END"><path d="M3,9 L3,27 M9,18 Q27,0 45,18 Q27,36 9,18" fill="none" stroke="gray"></path></marker></defs><defs><marker orient="auto" markerHeight="36" markerWidth="57" refY="18" refX="18" id="ZERO_OR_MORE_START"><circle r="6" cy="18" cx="48" fill="white" stroke="gray"></circle><path d="M0,18 Q18,0 36,18 Q18,36 0,18" fill="none" stroke="gray"></path></marker></defs><defs><marker orient="auto" markerHeight="36" markerWidth="57" refY="18" refX="39" id="ZERO_OR_MORE_END"><circle r="6" cy="18" cx="9" fill="white" stroke="gray"></circle><path d="M21,18 Q39,0 57,18 Q39,36 21,18" fill="none" stroke="gray"></path></marker></defs><g transform="translate(20,20 )" id="entity-FUNCIONARIO-7a22ad77-f12b-571d-a83b-148fa4755f06"><rect height="129" width="114.265625" y="0" x="0" class="er entityBox"></rect><text transform="translate(57.1328125,12)" style="dominant-baseline: middle; text-anchor: middle; font-size: 12px;" y="0" x="0" id="text-entity-FUNCIONARIO-7a22ad77-f12b-571d-a83b-148fa4755f06" class="er entityLabel">FUNCIONARIO</text><rect height="21" width="46.84019915262858" y="24" x="0" class="er attributeBoxOdd"></rect><text transform="translate(5,34.5)" style="dominant-baseline: middle; font-size: 10.2px;" y="0" x="0" id="text-entity-FUNCIONARIO-7a22ad77-f12b-571d-a83b-148fa4755f06-attr-1-type" class="er entityLabel">string</text><rect height="21" width="42.04749361673991" y="24" x="46.84019915262858" class="er attributeBoxOdd"></rect><text transform="translate(51.84019915262858,34.5)" style="dominant-baseline: middle; font-size: 10.2px;" y="0" x="0" id="text-entity-FUNCIONARIO-7a22ad77-f12b-571d-a83b-148fa4755f06-attr-1-name" class="er entityLabel">id</text><rect height="21" width="25.37793223063151" y="24" x="88.88769276936848" class="er attributeBoxOdd"></rect><text transform="translate(93.88769276936848,34.5)" style="dominant-baseline: middle; font-size: 10.2px;" y="0" x="0" id="text-entity-FUNCIONARIO-7a22ad77-f12b-571d-a83b-148fa4755f06-attr-1-key" class="er entityLabel">PK</text><rect height="21" width="46.84019915262858" y="45" x="0" class="er attributeBoxEven"></rect><text transform="translate(5,55.5)" style="dominant-baseline: middle; font-size: 10.2px;" y="0" x="0" id="text-entity-FUNCIONARIO-7a22ad77-f12b-571d-a83b-148fa4755f06-attr-2-type" class="er entityLabel">string</text><rect height="21" width="42.04749361673991" y="45" x="46.84019915262858" class="er attributeBoxEven"></rect><text transform="translate(51.84019915262858,55.5)" style="dominant-baseline: middle; font-size: 10.2px;" y="0" x="0" id="text-entity-FUNCIONARIO-7a22ad77-f12b-571d-a83b-148fa4755f06-attr-2-name" class="er entityLabel">nome</text><rect height="21" width="25.37793223063151" y="45" x="88.88769276936848" class="er attributeBoxEven"></rect><text transform="translate(93.88769276936848,55.5)" style="dominant-baseline: middle; font-size: 10.2px;" y="0" x="0" id="text-entity-FUNCIONARIO-7a22ad77-f12b-571d-a83b-148fa4755f06-attr-2-key" class="er entityLabel"></text><rect height="21" width="46.84019915262858" y="66" x="0" class="er attributeBoxOdd"></rect><text transform="translate(5,76.5)" style="dominant-baseline: middle; font-size: 10.2px;" y="0" x="0" id="text-entity-FUNCIONARIO-7a22ad77-f12b-571d-a83b-148fa4755f06-attr-3-type" class="er entityLabel">string</text><rect height="21" width="42.04749361673991" y="66" x="46.84019915262858" class="er attributeBoxOdd"></rect><text transform="translate(51.84019915262858,76.5)" style="dominant-baseline: middle; font-size: 10.2px;" y="0" x="0" id="text-entity-FUNCIONARIO-7a22ad77-f12b-571d-a83b-148fa4755f06-attr-3-name" class="er entityLabel">email</text><rect height="21" width="25.37793223063151" y="66" x="88.88769276936848" class="er attributeBoxOdd"></rect><text transform="translate(93.88769276936848,76.5)" style="dominant-baseline: middle; font-size: 10.2px;" y="0" x="0" id="text-entity-FUNCIONARIO-7a22ad77-f12b-571d-a83b-148fa4755f06-attr-3-key" class="er entityLabel"></text><rect height="21" width="46.84019915262858" y="87" x="0" class="er attributeBoxEven"></rect><text transform="translate(5,97.5)" style="dominant-baseline: middle; font-size: 10.2px;" y="0" x="0" id="text-entity-FUNCIONARIO-7a22ad77-f12b-571d-a83b-148fa4755f06-attr-4-type" class="er entityLabel">string</text><rect height="21" width="42.04749361673991" y="87" x="46.84019915262858" class="er attributeBoxEven"></rect><text transform="translate(51.84019915262858,97.5)" style="dominant-baseline: middle; font-size: 10.2px;" y="0" x="0" id="text-entity-FUNCIONARIO-7a22ad77-f12b-571d-a83b-148fa4755f06-attr-4-name" class="er entityLabel">status</text><rect height="21" width="25.37793223063151" y="87" x="88.88769276936848" class="er attributeBoxEven"></rect><text transform="translate(93.88769276936848,97.5)" style="dominant-baseline: middle; font-size: 10.2px;" y="0" x="0" id="text-entity-FUNCIONARIO-7a22ad77-f12b-571d-a83b-148fa4755f06-attr-4-key" class="er entityLabel"></text><rect height="21" width="46.84019915262858" y="108" x="0" class="er attributeBoxOdd"></rect><text transform="translate(5,118.5)" style="dominant-baseline: middle; font-size: 10.2px;" y="0" x="0" id="text-entity-FUNCIONARIO-7a22ad77-f12b-571d-a83b-148fa4755f06-attr-5-type" class="er entityLabel">decimal</text><rect height="21" width="42.04749361673991" y="108" x="46.84019915262858" class="er attributeBoxOdd"></rect><text transform="translate(51.84019915262858,118.5)" style="dominant-baseline: middle; font-size: 10.2px;" y="0" x="0" id="text-entity-FUNCIONARIO-7a22ad77-f12b-571d-a83b-148fa4755f06-attr-5-name" class="er entityLabel">salario</text><rect height="21" width="25.37793223063151" y="108" x="88.88769276936848" class="er attributeBoxOdd"></rect><text transform="translate(93.88769276936848,118.5)" style="dominant-baseline: middle; font-size: 10.2px;" y="0" x="0" id="text-entity-FUNCIONARIO-7a22ad77-f12b-571d-a83b-148fa4755f06-attr-5-key" class="er entityLabel"></text></g></svg><section class="chapter"><h4 id="implementa-o" data-toc="implementa-o">Implementa&ccedil;&atilde;o</h4><div class="code-block" data-lang="sql">
CREATE TABLE Funcionario (
    id VARCHAR(20) PRIMARY KEY,
    nome VARCHAR(100) NOT NULL,
    email VARCHAR(100) CHECK (email LIKE '%@%'),
    status VARCHAR(20) CHECK (status IN ('ATIVO', 'INATIVO', 'FERIAS')),
    salario DECIMAL(10,2) CHECK (salario &gt;= 0)
);
</div></section></section></section><section class="chapter"><h2 id="restri-es-de-neg-cio" data-toc="restri-es-de-neg-cio">Restri&ccedil;&otilde;es de Neg&oacute;cio</h2><section class="chapter"><h3 id="1-valida-es-complexas" data-toc="1-valida-es-complexas">1. Valida&ccedil;&otilde;es Complexas</h3><div class="code-block" data-lang="sql">
-- Trigger para validar datas
CREATE TRIGGER check_datas
BEFORE INSERT OR UPDATE ON Pedido
FOR EACH ROW
BEGIN
    IF NEW.data_entrega &lt;= NEW.data_pedido THEN
        RAISE EXCEPTION 'Data de entrega deve ser posterior à data do pedido';
    END IF;
END;

-- Stored Procedure para validação de estoque
CREATE PROCEDURE validar_estoque(
    p_produto_id VARCHAR,
    p_quantidade INTEGER
) AS $$
BEGIN
    IF NOT EXISTS (
        SELECT 1 FROM Estoque 
        WHERE produto_id = p_produto_id 
        AND quantidade_disponivel &gt;= p_quantidade
    ) THEN
        RAISE EXCEPTION 'Estoque insuficiente';
    END IF;
END;
$$ LANGUAGE plpgsql;
</div></section><section class="chapter"><h3 id="2-restri-es-temporais" data-toc="2-restri-es-temporais">2. Restri&ccedil;&otilde;es Temporais</h3><div class="code-block" data-lang="sql">
CREATE TABLE Contrato (
    id VARCHAR(20) PRIMARY KEY,
    data_inicio DATE NOT NULL,
    data_fim DATE,
    valor DECIMAL(10,2),
    CONSTRAINT check_datas 
        CHECK (data_fim IS NULL OR data_fim &gt; data_inicio),
    CONSTRAINT check_vigencia 
        CHECK (data_fim IS NULL OR data_fim &gt; CURRENT_DATE)
);
</div></section></section><section class="chapter"><h2 id="mapeamento-de-participa-o" data-toc="mapeamento-de-participa-o">Mapeamento de Participa&ccedil;&atilde;o</h2><section class="chapter"><h3 id="1-participa-o-total" data-toc="1-participa-o-total">1. Participa&ccedil;&atilde;o Total</h3><svg aria-roledescription="er" role="graphics-document document" viewBox="0 0 212.30426025390625 293" style="max-width: 212.30426025390625px;" xmlns="http://www.w3.org/2000/svg" width="100%" id="mermaid"><g></g><defs><marker orient="auto" markerHeight="240" markerWidth="190" refY="7" refX="0" id="MD_PARENT_START"><path d="M 18,7 L9,13 L1,7 L9,1 Z"></path></marker></defs><defs><marker orient="auto" markerHeight="28" markerWidth="20" refY="7" refX="19" id="MD_PARENT_END"><path d="M 18,7 L9,13 L1,7 L9,1 Z"></path></marker></defs><defs><marker orient="auto" markerHeight="18" markerWidth="18" refY="9" refX="0" id="ONLY_ONE_START"><path d="M9,0 L9,18 M15,0 L15,18" fill="none" stroke="gray"></path></marker></defs><defs><marker orient="auto" markerHeight="18" markerWidth="18" refY="9" refX="18" id="ONLY_ONE_END"><path d="M3,0 L3,18 M9,0 L9,18" fill="none" stroke="gray"></path></marker></defs><defs><marker orient="auto" markerHeight="18" markerWidth="30" refY="9" refX="0" id="ZERO_OR_ONE_START"><circle r="6" cy="9" cx="21" fill="white" stroke="gray"></circle><path d="M9,0 L9,18" fill="none" stroke="gray"></path></marker></defs><defs><marker orient="auto" markerHeight="18" markerWidth="30" refY="9" refX="30" id="ZERO_OR_ONE_END"><circle r="6" cy="9" cx="9" fill="white" stroke="gray"></circle><path d="M21,0 L21,18" fill="none" stroke="gray"></path></marker></defs><defs><marker orient="auto" markerHeight="36" markerWidth="45" refY="18" refX="18" id="ONE_OR_MORE_START"><path d="M0,18 Q 18,0 36,18 Q 18,36 0,18 M42,9 L42,27" fill="none" stroke="gray"></path></marker></defs><defs><marker orient="auto" markerHeight="36" markerWidth="45" refY="18" refX="27" id="ONE_OR_MORE_END"><path d="M3,9 L3,27 M9,18 Q27,0 45,18 Q27,36 9,18" fill="none" stroke="gray"></path></marker></defs><defs><marker orient="auto" markerHeight="36" markerWidth="57" refY="18" refX="18" id="ZERO_OR_MORE_START"><circle r="6" cy="18" cx="48" fill="white" stroke="gray"></circle><path d="M0,18 Q18,0 36,18 Q18,36 0,18" fill="none" stroke="gray"></path></marker></defs><defs><marker orient="auto" markerHeight="36" markerWidth="57" refY="18" refX="39" id="ZERO_OR_MORE_END"><circle r="6" cy="18" cx="9" fill="white" stroke="gray"></circle><path d="M21,18 Q39,0 57,18 Q39,36 21,18" fill="none" stroke="gray"></path></marker></defs><path style="stroke: gray; fill: none;" marker-start="url(#ONLY_ONE_START)" marker-end="url(#ONE_OR_MORE_END)" d="M106.152,86L106.152,94.333C106.152,102.667,106.152,119.333,106.152,136C106.152,152.667,106.152,169.333,106.152,177.667L106.152,186" class="er relationshipLine"></path><g transform="translate(42.105255126953125,20 )" id="entity-DEPARTAMENTO-14c3ef94-bc6e-5ac2-bd22-9535eac2d9d8"><rect height="66" width="128.09375" y="0" x="0" class="er entityBox"></rect><text transform="translate(64.046875,12)" style="dominant-baseline: middle; text-anchor: middle; font-size: 12px;" y="0" x="0" id="text-entity-DEPARTAMENTO-14c3ef94-bc6e-5ac2-bd22-9535eac2d9d8" class="er entityLabel">DEPARTAMENTO</text><rect height="21" width="44.843971252441406" y="24" x="0" class="er attributeBoxOdd"></rect><text transform="translate(5,34.5)" style="dominant-baseline: middle; font-size: 10.2px;" y="0" x="0" id="text-entity-DEPARTAMENTO-14c3ef94-bc6e-5ac2-bd22-9535eac2d9d8-attr-1-type" class="er entityLabel">string</text><rect height="21" width="49.95264434814453" y="24" x="44.843971252441406" class="er attributeBoxOdd"></rect><text transform="translate(49.843971252441406,34.5)" style="dominant-baseline: middle; font-size: 10.2px;" y="0" x="0" id="text-entity-DEPARTAMENTO-14c3ef94-bc6e-5ac2-bd22-9535eac2d9d8-attr-1-name" class="er entityLabel">codigo</text><rect height="21" width="33.29713439941406" y="24" x="94.79661560058594" class="er attributeBoxOdd"></rect><text transform="translate(99.79661560058594,34.5)" style="dominant-baseline: middle; font-size: 10.2px;" y="0" x="0" id="text-entity-DEPARTAMENTO-14c3ef94-bc6e-5ac2-bd22-9535eac2d9d8-attr-1-key" class="er entityLabel">PK</text><rect height="21" width="44.843971252441406" y="45" x="0" class="er attributeBoxEven"></rect><text transform="translate(5,55.5)" style="dominant-baseline: middle; font-size: 10.2px;" y="0" x="0" id="text-entity-DEPARTAMENTO-14c3ef94-bc6e-5ac2-bd22-9535eac2d9d8-attr-2-type" class="er entityLabel">string</text><rect height="21" width="49.95264434814453" y="45" x="44.843971252441406" class="er attributeBoxEven"></rect><text transform="translate(49.843971252441406,55.5)" style="dominant-baseline: middle; font-size: 10.2px;" y="0" x="0" id="text-entity-DEPARTAMENTO-14c3ef94-bc6e-5ac2-bd22-9535eac2d9d8-attr-2-name" class="er entityLabel">nome</text><rect height="21" width="33.29713439941406" y="45" x="94.79661560058594" class="er attributeBoxEven"></rect><text transform="translate(99.79661560058594,55.5)" style="dominant-baseline: middle; font-size: 10.2px;" y="0" x="0" id="text-entity-DEPARTAMENTO-14c3ef94-bc6e-5ac2-bd22-9535eac2d9d8-attr-2-key" class="er entityLabel"></text></g><g transform="translate(20,186 )" id="entity-FUNCIONARIO-7a22ad77-f12b-571d-a83b-148fa4755f06"><rect height="87" width="172.30426406860352" y="0" x="0" class="er entityBox"></rect><text transform="translate(86.15213203430176,12)" style="dominant-baseline: middle; text-anchor: middle; font-size: 12px;" y="0" x="0" id="text-entity-FUNCIONARIO-7a22ad77-f12b-571d-a83b-148fa4755f06" class="er entityLabel">FUNCIONARIO</text><rect height="21" width="35.36581993103027" y="24" x="0" class="er attributeBoxOdd"></rect><text transform="translate(5,34.5)" style="dominant-baseline: middle; font-size: 10.2px;" y="0" x="0" id="text-entity-FUNCIONARIO-7a22ad77-f12b-571d-a83b-148fa4755f06-attr-1-type" class="er entityLabel">string</text><rect height="21" width="52.421173095703125" y="24" x="35.36581993103027" class="er attributeBoxOdd"></rect><text transform="translate(40.36581993103027,34.5)" style="dominant-baseline: middle; font-size: 10.2px;" y="0" x="0" id="text-entity-FUNCIONARIO-7a22ad77-f12b-571d-a83b-148fa4755f06-attr-1-name" class="er entityLabel">id</text><rect height="21" width="23.81898307800293" y="24" x="87.7869930267334" class="er attributeBoxOdd"></rect><text transform="translate(92.7869930267334,34.5)" style="dominant-baseline: middle; font-size: 10.2px;" y="0" x="0" id="text-entity-FUNCIONARIO-7a22ad77-f12b-571d-a83b-148fa4755f06-attr-1-key" class="er entityLabel">PK</text><rect height="21" width="60.69828796386719" y="24" x="111.60597610473633" class="er attributeBoxOdd"></rect><text transform="translate(116.60597610473633,34.5)" style="dominant-baseline: middle; font-size: 10.2px;" y="0" x="0" id="text-entity-FUNCIONARIO-7a22ad77-f12b-571d-a83b-148fa4755f06-attr-1-comment" class="er entityLabel"></text><rect height="21" width="35.36581993103027" y="45" x="0" class="er attributeBoxEven"></rect><text transform="translate(5,55.5)" style="dominant-baseline: middle; font-size: 10.2px;" y="0" x="0" id="text-entity-FUNCIONARIO-7a22ad77-f12b-571d-a83b-148fa4755f06-attr-2-type" class="er entityLabel">string</text><rect height="21" width="52.421173095703125" y="45" x="35.36581993103027" class="er attributeBoxEven"></rect><text transform="translate(40.36581993103027,55.5)" style="dominant-baseline: middle; font-size: 10.2px;" y="0" x="0" id="text-entity-FUNCIONARIO-7a22ad77-f12b-571d-a83b-148fa4755f06-attr-2-name" class="er entityLabel">dept_cod</text><rect height="21" width="23.81898307800293" y="45" x="87.7869930267334" class="er attributeBoxEven"></rect><text transform="translate(92.7869930267334,55.5)" style="dominant-baseline: middle; font-size: 10.2px;" y="0" x="0" id="text-entity-FUNCIONARIO-7a22ad77-f12b-571d-a83b-148fa4755f06-attr-2-key" class="er entityLabel">FK</text><rect height="21" width="60.69828796386719" y="45" x="111.60597610473633" class="er attributeBoxEven"></rect><text transform="translate(116.60597610473633,55.5)" style="dominant-baseline: middle; font-size: 10.2px;" y="0" x="0" id="text-entity-FUNCIONARIO-7a22ad77-f12b-571d-a83b-148fa4755f06-attr-2-comment" class="er entityLabel">NOT NULL</text><rect height="21" width="35.36581993103027" y="66" x="0" class="er attributeBoxOdd"></rect><text transform="translate(5,76.5)" style="dominant-baseline: middle; font-size: 10.2px;" y="0" x="0" id="text-entity-FUNCIONARIO-7a22ad77-f12b-571d-a83b-148fa4755f06-attr-3-type" class="er entityLabel">string</text><rect height="21" width="52.421173095703125" y="66" x="35.36581993103027" class="er attributeBoxOdd"></rect><text transform="translate(40.36581993103027,76.5)" style="dominant-baseline: middle; font-size: 10.2px;" y="0" x="0" id="text-entity-FUNCIONARIO-7a22ad77-f12b-571d-a83b-148fa4755f06-attr-3-name" class="er entityLabel">nome</text><rect height="21" width="23.81898307800293" y="66" x="87.7869930267334" class="er attributeBoxOdd"></rect><text transform="translate(92.7869930267334,76.5)" style="dominant-baseline: middle; font-size: 10.2px;" y="0" x="0" id="text-entity-FUNCIONARIO-7a22ad77-f12b-571d-a83b-148fa4755f06-attr-3-key" class="er entityLabel"></text><rect height="21" width="60.69828796386719" y="66" x="111.60597610473633" class="er attributeBoxOdd"></rect><text transform="translate(116.60597610473633,76.5)" style="dominant-baseline: middle; font-size: 10.2px;" y="0" x="0" id="text-entity-FUNCIONARIO-7a22ad77-f12b-571d-a83b-148fa4755f06-attr-3-comment" class="er entityLabel"></text></g><rect height="14" width="47.83149719238281" y="129" x="82.23625183105469" class="er relationshipLabelBox"></rect><text style="text-anchor: middle; dominant-baseline: middle; font-size: 12px;" y="136" x="106.1520004272461" id="rel506" class="er relationshipLabel">emprega</text></svg><section class="chapter"><h4 id="implementa-o" data-toc="implementa-o">Implementa&ccedil;&atilde;o</h4><div class="code-block" data-lang="sql">
CREATE TABLE Funcionario (
    id VARCHAR(20) PRIMARY KEY,
    dept_cod VARCHAR(20) NOT NULL,
    nome VARCHAR(100) NOT NULL,
    FOREIGN KEY (dept_cod) 
        REFERENCES Departamento(codigo)
        ON DELETE RESTRICT
);
</div></section></section><section class="chapter"><h3 id="2-participa-o-parcial" data-toc="2-participa-o-parcial">2. Participa&ccedil;&atilde;o Parcial</h3><svg aria-roledescription="er" role="graphics-document document" viewBox="0 0 226.4210205078125 293" style="max-width: 226.4210205078125px;" xmlns="http://www.w3.org/2000/svg" width="100%" id="mermaid"><g></g><defs><marker orient="auto" markerHeight="240" markerWidth="190" refY="7" refX="0" id="MD_PARENT_START"><path d="M 18,7 L9,13 L1,7 L9,1 Z"></path></marker></defs><defs><marker orient="auto" markerHeight="28" markerWidth="20" refY="7" refX="19" id="MD_PARENT_END"><path d="M 18,7 L9,13 L1,7 L9,1 Z"></path></marker></defs><defs><marker orient="auto" markerHeight="18" markerWidth="18" refY="9" refX="0" id="ONLY_ONE_START"><path d="M9,0 L9,18 M15,0 L15,18" fill="none" stroke="gray"></path></marker></defs><defs><marker orient="auto" markerHeight="18" markerWidth="18" refY="9" refX="18" id="ONLY_ONE_END"><path d="M3,0 L3,18 M9,0 L9,18" fill="none" stroke="gray"></path></marker></defs><defs><marker orient="auto" markerHeight="18" markerWidth="30" refY="9" refX="0" id="ZERO_OR_ONE_START"><circle r="6" cy="9" cx="21" fill="white" stroke="gray"></circle><path d="M9,0 L9,18" fill="none" stroke="gray"></path></marker></defs><defs><marker orient="auto" markerHeight="18" markerWidth="30" refY="9" refX="30" id="ZERO_OR_ONE_END"><circle r="6" cy="9" cx="9" fill="white" stroke="gray"></circle><path d="M21,0 L21,18" fill="none" stroke="gray"></path></marker></defs><defs><marker orient="auto" markerHeight="36" markerWidth="45" refY="18" refX="18" id="ONE_OR_MORE_START"><path d="M0,18 Q 18,0 36,18 Q 18,36 0,18 M42,9 L42,27" fill="none" stroke="gray"></path></marker></defs><defs><marker orient="auto" markerHeight="36" markerWidth="45" refY="18" refX="27" id="ONE_OR_MORE_END"><path d="M3,9 L3,27 M9,18 Q27,0 45,18 Q27,36 9,18" fill="none" stroke="gray"></path></marker></defs><defs><marker orient="auto" markerHeight="36" markerWidth="57" refY="18" refX="18" id="ZERO_OR_MORE_START"><circle r="6" cy="18" cx="48" fill="white" stroke="gray"></circle><path d="M0,18 Q18,0 36,18 Q18,36 0,18" fill="none" stroke="gray"></path></marker></defs><defs><marker orient="auto" markerHeight="36" markerWidth="57" refY="18" refX="39" id="ZERO_OR_MORE_END"><circle r="6" cy="18" cx="9" fill="white" stroke="gray"></circle><path d="M21,18 Q39,0 57,18 Q39,36 21,18" fill="none" stroke="gray"></path></marker></defs><path style="stroke: gray; fill: none;" marker-start="url(#ONLY_ONE_START)" marker-end="url(#ZERO_OR_MORE_END)" d="M113.211,86L113.211,94.333C113.211,102.667,113.211,119.333,113.211,136C113.211,152.667,113.211,169.333,113.211,177.667L113.211,186" class="er relationshipLine"></path><g transform="translate(63.21051025390625,20 )" id="entity-CLIENTE-8b97428f-cd26-5bb8-b585-f77366c59df3"><rect height="66" width="100" y="0" x="0" class="er entityBox"></rect><text transform="translate(50,12)" style="dominant-baseline: middle; text-anchor: middle; font-size: 12px;" y="0" x="0" id="text-entity-CLIENTE-8b97428f-cd26-5bb8-b585-f77366c59df3" class="er entityLabel">CLIENTE</text><rect height="21" width="37.00759506225586" y="24" x="0" class="er attributeBoxOdd"></rect><text transform="translate(5,34.5)" style="dominant-baseline: middle; font-size: 10.2px;" y="0" x="0" id="text-entity-CLIENTE-8b97428f-cd26-5bb8-b585-f77366c59df3-attr-1-type" class="er entityLabel">string</text><rect height="21" width="37.531646728515625" y="24" x="37.00759506225586" class="er attributeBoxOdd"></rect><text transform="translate(42.00759506225586,34.5)" style="dominant-baseline: middle; font-size: 10.2px;" y="0" x="0" id="text-entity-CLIENTE-8b97428f-cd26-5bb8-b585-f77366c59df3-attr-1-name" class="er entityLabel">id</text><rect height="21" width="25.460758209228516" y="24" x="74.53924179077148" class="er attributeBoxOdd"></rect><text transform="translate(79.53924179077148,34.5)" style="dominant-baseline: middle; font-size: 10.2px;" y="0" x="0" id="text-entity-CLIENTE-8b97428f-cd26-5bb8-b585-f77366c59df3-attr-1-key" class="er entityLabel">PK</text><rect height="21" width="37.00759506225586" y="45" x="0" class="er attributeBoxEven"></rect><text transform="translate(5,55.5)" style="dominant-baseline: middle; font-size: 10.2px;" y="0" x="0" id="text-entity-CLIENTE-8b97428f-cd26-5bb8-b585-f77366c59df3-attr-2-type" class="er entityLabel">string</text><rect height="21" width="37.531646728515625" y="45" x="37.00759506225586" class="er attributeBoxEven"></rect><text transform="translate(42.00759506225586,55.5)" style="dominant-baseline: middle; font-size: 10.2px;" y="0" x="0" id="text-entity-CLIENTE-8b97428f-cd26-5bb8-b585-f77366c59df3-attr-2-name" class="er entityLabel">nome</text><rect height="21" width="25.460758209228516" y="45" x="74.53924179077148" class="er attributeBoxEven"></rect><text transform="translate(79.53924179077148,55.5)" style="dominant-baseline: middle; font-size: 10.2px;" y="0" x="0" id="text-entity-CLIENTE-8b97428f-cd26-5bb8-b585-f77366c59df3-attr-2-key" class="er entityLabel"></text></g><g transform="translate(20,186 )" id="entity-PEDIDO-79609d0a-2a15-5826-829f-bc409be443d0"><rect height="87" width="186.42102813720703" y="0" x="0" class="er entityBox"></rect><text transform="translate(93.21051406860352,12)" style="dominant-baseline: middle; text-anchor: middle; font-size: 12px;" y="0" x="0" id="text-entity-PEDIDO-79609d0a-2a15-5826-829f-bc409be443d0" class="er entityLabel">PEDIDO</text><rect height="21" width="35.36581993103027" y="24" x="0" class="er attributeBoxOdd"></rect><text transform="translate(5,34.5)" style="dominant-baseline: middle; font-size: 10.2px;" y="0" x="0" id="text-entity-PEDIDO-79609d0a-2a15-5826-829f-bc409be443d0-attr-1-type" class="er entityLabel">string</text><rect height="21" width="53.593379974365234" y="24" x="35.36581993103027" class="er attributeBoxOdd"></rect><text transform="translate(40.36581993103027,34.5)" style="dominant-baseline: middle; font-size: 10.2px;" y="0" x="0" id="text-entity-PEDIDO-79609d0a-2a15-5826-829f-bc409be443d0-attr-1-name" class="er entityLabel">numero</text><rect height="21" width="23.81898307800293" y="24" x="88.95919990539551" class="er attributeBoxOdd"></rect><text transform="translate(93.95919990539551,34.5)" style="dominant-baseline: middle; font-size: 10.2px;" y="0" x="0" id="text-entity-PEDIDO-79609d0a-2a15-5826-829f-bc409be443d0-attr-1-key" class="er entityLabel">PK</text><rect height="21" width="73.6428451538086" y="24" x="112.77818298339844" class="er attributeBoxOdd"></rect><text transform="translate(117.77818298339844,34.5)" style="dominant-baseline: middle; font-size: 10.2px;" y="0" x="0" id="text-entity-PEDIDO-79609d0a-2a15-5826-829f-bc409be443d0-attr-1-comment" class="er entityLabel"></text><rect height="21" width="35.36581993103027" y="45" x="0" class="er attributeBoxEven"></rect><text transform="translate(5,55.5)" style="dominant-baseline: middle; font-size: 10.2px;" y="0" x="0" id="text-entity-PEDIDO-79609d0a-2a15-5826-829f-bc409be443d0-attr-2-type" class="er entityLabel">string</text><rect height="21" width="53.593379974365234" y="45" x="35.36581993103027" class="er attributeBoxEven"></rect><text transform="translate(40.36581993103027,55.5)" style="dominant-baseline: middle; font-size: 10.2px;" y="0" x="0" id="text-entity-PEDIDO-79609d0a-2a15-5826-829f-bc409be443d0-attr-2-name" class="er entityLabel">cliente_id</text><rect height="21" width="23.81898307800293" y="45" x="88.95919990539551" class="er attributeBoxEven"></rect><text transform="translate(93.95919990539551,55.5)" style="dominant-baseline: middle; font-size: 10.2px;" y="0" x="0" id="text-entity-PEDIDO-79609d0a-2a15-5826-829f-bc409be443d0-attr-2-key" class="er entityLabel">FK</text><rect height="21" width="73.6428451538086" y="45" x="112.77818298339844" class="er attributeBoxEven"></rect><text transform="translate(117.77818298339844,55.5)" style="dominant-baseline: middle; font-size: 10.2px;" y="0" x="0" id="text-entity-PEDIDO-79609d0a-2a15-5826-829f-bc409be443d0-attr-2-comment" class="er entityLabel">NULL allowed</text><rect height="21" width="35.36581993103027" y="66" x="0" class="er attributeBoxOdd"></rect><text transform="translate(5,76.5)" style="dominant-baseline: middle; font-size: 10.2px;" y="0" x="0" id="text-entity-PEDIDO-79609d0a-2a15-5826-829f-bc409be443d0-attr-3-type" class="er entityLabel">date</text><rect height="21" width="53.593379974365234" y="66" x="35.36581993103027" class="er attributeBoxOdd"></rect><text transform="translate(40.36581993103027,76.5)" style="dominant-baseline: middle; font-size: 10.2px;" y="0" x="0" id="text-entity-PEDIDO-79609d0a-2a15-5826-829f-bc409be443d0-attr-3-name" class="er entityLabel">data</text><rect height="21" width="23.81898307800293" y="66" x="88.95919990539551" class="er attributeBoxOdd"></rect><text transform="translate(93.95919990539551,76.5)" style="dominant-baseline: middle; font-size: 10.2px;" y="0" x="0" id="text-entity-PEDIDO-79609d0a-2a15-5826-829f-bc409be443d0-attr-3-key" class="er entityLabel"></text><rect height="21" width="73.6428451538086" y="66" x="112.77818298339844" class="er attributeBoxOdd"></rect><text transform="translate(117.77818298339844,76.5)" style="dominant-baseline: middle; font-size: 10.2px;" y="0" x="0" id="text-entity-PEDIDO-79609d0a-2a15-5826-829f-bc409be443d0-attr-3-comment" class="er entityLabel"></text></g><rect height="14" width="35.81977844238281" y="129" x="95.30110931396484" class="er relationshipLabelBox"></rect><text style="text-anchor: middle; dominant-baseline: middle; font-size: 12px;" y="136" x="113.21099853515625" id="rel513" class="er relationshipLabel">realiza</text></svg><section class="chapter"><h4 id="implementa-o" data-toc="implementa-o">Implementa&ccedil;&atilde;o</h4><div class="code-block" data-lang="sql">
CREATE TABLE Pedido (
    numero VARCHAR(20) PRIMARY KEY,
    cliente_id VARCHAR(20),
    data DATE NOT NULL,
    FOREIGN KEY (cliente_id) 
        REFERENCES Cliente(id)
        ON DELETE SET NULL
);
</div></section></section></section><section class="chapter"><h2 id="otimiza-es" data-toc="otimiza-es">Otimiza&ccedil;&otilde;es</h2><section class="chapter"><h3 id="1-ndices-para-restri-es" data-toc="1-ndices-para-restri-es">1. &Iacute;ndices para Restri&ccedil;&otilde;es</h3><div class="code-block" data-lang="sql">
-- Índices para chaves estrangeiras
CREATE INDEX idx_item_pedido_num ON Item_Pedido(pedido_num);
CREATE INDEX idx_item_produto_cod ON Item_Pedido(produto_cod);

-- Índices para validações frequentes
CREATE INDEX idx_funcionario_status ON Funcionario(status);
CREATE INDEX idx_contrato_datas ON Contrato(data_inicio, data_fim);
</div></section><section class="chapter"><h3 id="2-particionamento" data-toc="2-particionamento">2. Particionamento</h3><div class="code-block" data-lang="sql">
-- Particionamento por status
CREATE TABLE Pedido (
    numero VARCHAR(20),
    status VARCHAR(20),
    data DATE,
    total DECIMAL(10,2)
) PARTITION BY LIST (status);

CREATE TABLE pedido_pendente 
    PARTITION OF Pedido FOR VALUES IN ('PENDENTE');
CREATE TABLE pedido_aprovado 
    PARTITION OF Pedido FOR VALUES IN ('APROVADO');
CREATE TABLE pedido_cancelado 
    PARTITION OF Pedido FOR VALUES IN ('CANCELADO');
</div></section></section><section class="chapter"><h2 id="boas-pr-ticas" data-toc="boas-pr-ticas">Boas Pr&aacute;ticas</h2><section class="chapter"><h3 id="1-nomenclatura" data-toc="1-nomenclatura">1. Nomenclatura</h3><ul class="list _bullet" id="-gd6r3v_43"><li class="list__item" id="-gd6r3v_44"><p id="-gd6r3v_47">Prefixos consistentes para constraints</p></li><li class="list__item" id="-gd6r3v_45"><p id="-gd6r3v_48">Nomes descritivos para regras de neg&oacute;cio</p></li><li class="list__item" id="-gd6r3v_46"><p id="-gd6r3v_49">Padr&atilde;o para &iacute;ndices e triggers</p></li></ul></section><section class="chapter"><h3 id="2-documenta-o" data-toc="2-documenta-o">2. Documenta&ccedil;&atilde;o</h3><div class="code-block" data-lang="sql">
COMMENT ON TABLE Produto IS 'Cadastro de produtos comercializados';
COMMENT ON COLUMN Produto.codigo IS 'Código único do produto';
COMMENT ON CONSTRAINT check_preco ON Produto 
    IS 'Garante que o preço seja sempre positivo';
</div></section><section class="chapter"><h3 id="3-manuten-o" data-toc="3-manuten-o">3. Manuten&ccedil;&atilde;o</h3><ul class="list _bullet" id="-gd6r3v_51"><li class="list__item" id="-gd6r3v_52"><p id="-gd6r3v_55">Monitoramento de viola&ccedil;&otilde;es</p></li><li class="list__item" id="-gd6r3v_53"><p id="-gd6r3v_56">Logs de altera&ccedil;&otilde;es</p></li><li class="list__item" id="-gd6r3v_54"><p id="-gd6r3v_57">Revis&atilde;o peri&oacute;dica</p></li></ul></section></section><section class="chapter"><h2 id="considera-es-de-performance" data-toc="considera-es-de-performance">Considera&ccedil;&otilde;es de Performance</h2><section class="chapter"><h3 id="1-an-lise-de-impacto" data-toc="1-an-lise-de-impacto">1. An&aacute;lise de Impacto</h3><ul class="list _bullet" id="-gd6r3v_60"><li class="list__item" id="-gd6r3v_61"><p id="-gd6r3v_64">Custo de verifica&ccedil;&otilde;es</p></li><li class="list__item" id="-gd6r3v_62"><p id="-gd6r3v_65">Frequ&ecirc;ncia de valida&ccedil;&otilde;es</p></li><li class="list__item" id="-gd6r3v_63"><p id="-gd6r3v_66">Complexidade das regras</p></li></ul></section><section class="chapter"><h3 id="2-estrat-gias-de-otimiza-o" data-toc="2-estrat-gias-de-otimiza-o">2. Estrat&eacute;gias de Otimiza&ccedil;&atilde;o</h3><ul class="list _bullet" id="-gd6r3v_67"><li class="list__item" id="-gd6r3v_68"><p id="-gd6r3v_71">Uso adequado de &iacute;ndices</p></li><li class="list__item" id="-gd6r3v_69"><p id="-gd6r3v_72">Particionamento eficiente</p></li><li class="list__item" id="-gd6r3v_70"><p id="-gd6r3v_73">Cache de valida&ccedil;&otilde;es</p></li></ul></section></section><section class="chapter"><h2 id="conclus-o" data-toc="conclus-o">Conclus&atilde;o</h2><p id="-gd6r3v_74">O mapeamento eficiente de restri&ccedil;&otilde;es:</p><ul class="list _bullet" id="-gd6r3v_75"><li class="list__item" id="-gd6r3v_76"><p id="-gd6r3v_80">Garante integridade dos dados</p></li><li class="list__item" id="-gd6r3v_77"><p id="-gd6r3v_81">Implementa regras de neg&oacute;cio</p></li><li class="list__item" id="-gd6r3v_78"><p id="-gd6r3v_82">Otimiza performance</p></li><li class="list__item" id="-gd6r3v_79"><p id="-gd6r3v_83">Facilita manuten&ccedil;&atilde;o</p></li></ul></section><div class="last-modified">25 abril 2025</div><div data-feedback-placeholder="true"></div><div class="navigation-links _bottom"><a href="er-mapping-inheritance.html" class="navigation-links__prev">Mapeamento de Heran&ccedil;a ER para Relacional</a><a href="relational-design.html" class="navigation-links__next">Design Relacional</a></div></article><div id="disqus_thread"></div></div></section></main></div><script src="https://resources.jetbrains.com/writerside/apidoc/6.22.0-b776/app.js"></script></body></html>