<!DOCTYPE html SYSTEM "about:legacy-compat">
<html lang="en-US" data-preset="contrast" data-primary-color="#E8488B"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="UTF-8"><meta name="built-on" content="2025-04-25T23:35:24.125157113"><title>REVOKE: Revogando Privil&eacute;gios | Database Management Systems: A Complete Guide</title><script type="application/json" id="virtual-toc-data">[{"id":"sintaxe-b-sica","level":0,"title":"Sintaxe Básica","anchor":"#sintaxe-b-sica"},{"id":"tipos-de-revoga-o","level":0,"title":"Tipos de Revogação","anchor":"#tipos-de-revoga-o"},{"id":"cen-rios-comuns","level":0,"title":"Cenários Comuns","anchor":"#cen-rios-comuns"},{"id":"boas-pr-ticas","level":0,"title":"Boas Práticas","anchor":"#boas-pr-ticas"},{"id":"troubleshooting","level":0,"title":"Troubleshooting","anchor":"#troubleshooting"},{"id":"conclus-o","level":0,"title":"Conclusão","anchor":"#conclus-o"}]</script><script type="application/json" id="topic-shortcuts"></script><link href="https://resources.jetbrains.com/writerside/apidoc/6.22.0-b776/app.css" rel="stylesheet"><link href="static/custom.css" rel="stylesheet"><link rel="icon" type="image/svg" sizes="16x16" href="images/logo-primary.svg"><meta name="image" content=""><!-- Open Graph --><meta property="og:title" content="REVOKE: Revogando Privil&eacute;gios | Database Management Systems: A Complete Guide"><meta property="og:description" content=""><meta property="og:image" content=""><meta property="og:site_name" content="Database Management Systems: A Complete Guide Help"><meta property="og:type" content="website"><meta property="og:locale" content="en_US"><meta property="og:url" content="writerside-documentation/revoke-statements.html"><!-- End Open Graph --><!-- Twitter Card --><meta name="twitter:card" content="summary_large_image"><meta name="twitter:site" content=""><meta name="twitter:title" content="REVOKE: Revogando Privil&eacute;gios | Database Management Systems: A Complete Guide"><meta name="twitter:description" content=""><meta name="twitter:creator" content=""><meta name="twitter:image:src" content=""><!-- End Twitter Card --><!-- Schema.org WebPage --><script type="application/ld+json">{
    "@context": "http://schema.org",
    "@type": "WebPage",
    "@id": "writerside-documentation/revoke-statements.html#webpage",
    "url": "writerside-documentation/revoke-statements.html",
    "name": "REVOKE: Revogando Privil&eacute;gios | Database Management Systems: A Complete Guide",
    "description": "",
    "image": "",
    "inLanguage":"en-US"
}</script><!-- End Schema.org --><!-- Schema.org WebSite --><script type="application/ld+json">{
    "@type": "WebSite",
    "@id": "writerside-documentation/#website",
    "url": "writerside-documentation/",
    "name": "Database Management Systems: A Complete Guide Help"
}</script><!-- End Schema.org --></head><body data-id="revoke-statements" data-main-title="REVOKE: Revogando Privilégios" data-article-props="{&quot;seeAlsoStyle&quot;:&quot;links&quot;}" data-template="article" data-breadcrumbs="sql-fundamentals.md|Fundamentos SQL///sql-dcl.md|DCL - Linguagem de Controle de Dados"><div class="wrapper"><main class="panel _main"><header class="panel__header"><div class="container"><h3>Database Management Systems: A Complete Guide  Help</h3><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="inactive"><h1 data-toc="revoke-statements" id="revoke-statements.md">REVOKE: Revogando Privilégios</h1><div class="code-block" data-lang="none">
╔══════════════════════════════════════════════════════════════╗
║  SECURITY_MASTER &gt;&gt; Gerenciamento de Revogações            ║
║  INSTRUTOR: REVOKE_SPECIALIST                              ║
╚══════════════════════════════════════════════════════════════╝
</div><section class="chapter"><h2 id="sintaxe-b-sica" data-toc="sintaxe-b-sica">Sintaxe B&aacute;sica</h2><p id="-fe91ck_10">REVOKE_SPECIALIST explica: &quot;O comando REVOKE &eacute; essencial para manter a seguran&ccedil;a e controle de acesso!&quot;</p><div class="code-block" data-lang="sql">
-- Sintaxe básica
REVOKE privilégio ON objeto FROM destinatário;

-- Múltiplos privilégios
REVOKE SELECT, INSERT, UPDATE ON tabela FROM usuario;

-- Todos os privilégios
REVOKE ALL PRIVILEGES ON tabela FROM usuario;
</div></section><section class="chapter"><h2 id="tipos-de-revoga-o" data-toc="tipos-de-revoga-o">Tipos de Revoga&ccedil;&atilde;o</h2><p id="-fe91ck_12">SECURITY_MASTER apresenta os principais cen&aacute;rios:</p><section class="chapter"><h3 id="1-revoga-o-de-tabela" data-toc="1-revoga-o-de-tabela">1. Revoga&ccedil;&atilde;o de Tabela</h3><div class="code-block" data-lang="sql">
-- Privilégios básicos
REVOKE SELECT ON clientes FROM analista;
REVOKE INSERT, UPDATE ON produtos FROM vendedor;
REVOKE DELETE ON temp_dados FROM usuario;

-- Privilégios em colunas específicas
REVOKE SELECT (senha, dados_sensíveis) ON usuarios FROM suporte;
REVOKE UPDATE (salario) ON funcionarios FROM gerente;
</div></section><section class="chapter"><h3 id="2-revoga-o-de-schema" data-toc="2-revoga-o-de-schema">2. Revoga&ccedil;&atilde;o de Schema</h3><div class="code-block" data-lang="sql">
-- Acesso ao schema
REVOKE USAGE ON SCHEMA confidencial FROM usuario;
REVOKE CREATE ON SCHEMA public FROM dev_team;

-- Todos os objetos do schema
REVOKE SELECT ON ALL TABLES IN SCHEMA dados_sensiveis FROM grupo;
</div></section><section class="chapter"><h3 id="3-revoga-o-de-database" data-toc="3-revoga-o-de-database">3. Revoga&ccedil;&atilde;o de Database</h3><div class="code-block" data-lang="sql">
-- Privilégios de banco
REVOKE CONNECT ON DATABASE prod_db FROM test_user;
REVOKE ALL PRIVILEGES ON DATABASE analytics FROM old_user;
REVOKE TEMPORARY ON DATABASE temp_db FROM temp_user;
</div></section></section><section class="chapter"><h2 id="cen-rios-comuns" data-toc="cen-rios-comuns">Cen&aacute;rios Comuns</h2><p id="-fe91ck_19">IMPLEMENTATION_EXPERT demonstra casos pr&aacute;ticos:</p><section class="chapter"><h3 id="1-desativa-o-de-usu-rio" data-toc="1-desativa-o-de-usu-rio">1. Desativa&ccedil;&atilde;o de Usu&aacute;rio</h3><div class="code-block" data-lang="sql">
-- Remoção completa de acessos
REVOKE ALL PRIVILEGES ON ALL TABLES IN SCHEMA public FROM usuario_desativado;
REVOKE ALL PRIVILEGES ON ALL SEQUENCES IN SCHEMA public FROM usuario_desativado;
REVOKE ALL PRIVILEGES ON ALL FUNCTIONS IN SCHEMA public FROM usuario_desativado;
REVOKE USAGE ON SCHEMA public FROM usuario_desativado;
</div></section><section class="chapter"><h3 id="2-ajuste-de-permiss-es" data-toc="2-ajuste-de-permiss-es">2. Ajuste de Permiss&otilde;es</h3><div class="code-block" data-lang="sql">
-- Refinamento de acesso
REVOKE INSERT, UPDATE, DELETE ON dados_financeiros FROM analista;
GRANT SELECT ON dados_financeiros TO analista;
</div></section></section><section class="chapter"><h2 id="boas-pr-ticas" data-toc="boas-pr-ticas">Boas Pr&aacute;ticas</h2><p id="-fe91ck_24">SECURITY_GUARDIAN compartilha diretrizes:</p><section class="chapter"><h3 id="1-revoga-o-segura" data-toc="1-revoga-o-segura">1. Revoga&ccedil;&atilde;o Segura</h3><div class="code-block" data-lang="sql">
-- Verificar antes de revogar
SELECT * FROM information_schema.role_table_grants
WHERE grantee = 'usuario_alvo';

-- Revogar com cautela
BEGIN;
    REVOKE critical_role FROM usuario;
    -- Verificar impacto
    SELECT current_user, session_user;
COMMIT;
</div></section><section class="chapter"><h3 id="2-auditoria-de-revoga-es" data-toc="2-auditoria-de-revoga-es">2. Auditoria de Revoga&ccedil;&otilde;es</h3><div class="code-block" data-lang="sql">
-- Logging de revogações
CREATE TABLE revoke_audit_log (
    id SERIAL PRIMARY KEY,
    revoked_from VARCHAR(100),
    revoked_privilege VARCHAR(50),
    revoked_object VARCHAR(100),
    revoked_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    revoked_by VARCHAR(100)
);

-- Trigger para auditoria
CREATE TRIGGER log_revokes
AFTER REVOKE ON *.* 
FOR EACH STATEMENT 
EXECUTE FUNCTION log_revoke_changes();
</div><div class="code-block" data-lang="none">
╔════════════════════════════════════════════╗
║  CHECKLIST DE REVOGAÇÃO:                  ║
║  □ Impacto analisado?                     ║
║  □ Backup de permissões feito?            ║
║  □ Usuários afetados notificados?         ║
║  □ Auditoria configurada?                 ║
║  □ Plano de contingência pronto?          ║
╚════════════════════════════════════════════╝
</div></section></section><section class="chapter"><h2 id="troubleshooting" data-toc="troubleshooting">Troubleshooting</h2><p id="-fe91ck_30">PROBLEM_SOLVER apresenta solu&ccedil;&otilde;es:</p><section class="chapter"><h3 id="1-verifica-o-de-impacto" data-toc="1-verifica-o-de-impacto">1. Verifica&ccedil;&atilde;o de Impacto</h3><div class="code-block" data-lang="sql">
-- Analisar dependências
SELECT r.rolname, m.member
FROM pg_roles r
JOIN pg_auth_members m ON r.oid = m.roleid
WHERE r.rolname = 'role_a_revogar';

-- Verificar sessões ativas
SELECT pid, usename, application_name
FROM pg_stat_activity
WHERE usename = 'usuario_alvo';
</div></section><section class="chapter"><h3 id="2-recupera-o-de-acesso" data-toc="2-recupera-o-de-acesso">2. Recupera&ccedil;&atilde;o de Acesso</h3><div class="code-block" data-lang="sql">
-- Backup de privilégios
CREATE TABLE privilege_backup AS
SELECT * FROM information_schema.role_table_grants
WHERE grantee = 'usuario_alvo';

-- Restauração de privilégios
-- (Gerar scripts de GRANT baseados no backup)
</div></section></section><section class="chapter"><h2 id="conclus-o" data-toc="conclus-o">Conclus&atilde;o</h2><p id="-fe91ck_35">REVOKE_SPECIALIST conclui: &quot;REVOKE &eacute; uma opera&ccedil;&atilde;o cr&iacute;tica para seguran&ccedil;a - use com planejamento e cautela.&quot;</p><aside class="prompt" data-type="tip" data-title="" id="-fe91ck_36"><p id="-fe91ck_37"><span class="control" id="-fe91ck_38">Dica Final</span>: Sempre documente as revoga&ccedil;&otilde;es realizadas e mantenha um hist&oacute;rico das altera&ccedil;&otilde;es de permiss&otilde;es para refer&ecirc;ncia futura.</p></aside></section><div class="last-modified">26 abril 2025</div><div data-feedback-placeholder="true"></div><div class="navigation-links _bottom"><a href="grant-statements.html" class="navigation-links__prev">GRANT: Concedendo Privil&eacute;gios</a><a href="role-management.html" class="navigation-links__next">Gerenciamento de Roles</a></div></article><div id="disqus_thread"></div></div></section></main></div><script src="https://resources.jetbrains.com/writerside/apidoc/6.22.0-b776/app.js"></script></body></html>