<!DOCTYPE html SYSTEM "about:legacy-compat">
<html lang="en-US" data-preset="contrast" data-primary-color="#E8488B"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="UTF-8"><meta name="built-on" content="2025-05-03T19:41:07.065984767"><title>Mapeamento de Entidades ER para Relacional | Database Management Systems: A Complete Guide</title><script type="application/json" id="virtual-toc-data">[{"id":"regras-fundamentais","level":0,"title":"Regras Fundamentais","anchor":"#regras-fundamentais"},{"id":"mapeamento-de-atributos","level":0,"title":"Mapeamento de Atributos","anchor":"#mapeamento-de-atributos"},{"id":"estrat-gias-de-identifica-o","level":0,"title":"Estratégias de Identificação","anchor":"#estrat-gias-de-identifica-o"},{"id":"restri-es-e-integridade","level":0,"title":"Restrições e Integridade","anchor":"#restri-es-e-integridade"},{"id":"padr-es-de-implementa-o","level":0,"title":"Padrões de Implementação","anchor":"#padr-es-de-implementa-o"},{"id":"considera-es-de-performance","level":0,"title":"Considerações de Performance","anchor":"#considera-es-de-performance"},{"id":"exemplos-pr-ticos","level":0,"title":"Exemplos Práticos","anchor":"#exemplos-pr-ticos"}]</script><script type="application/json" id="topic-shortcuts"></script><link href="https://resources.jetbrains.com/writerside/apidoc/6.22.0-b776/app.css" rel="stylesheet"><link href="static/custom.css" rel="stylesheet"><link rel="icon" type="image/svg" sizes="16x16" href="images/logo-primary.svg"><meta name="image" content=""><!-- Open Graph --><meta property="og:title" content="Mapeamento de Entidades ER para Relacional | Database Management Systems: A Complete Guide"><meta property="og:description" content=""><meta property="og:image" content=""><meta property="og:site_name" content="Database Management Systems: A Complete Guide Help"><meta property="og:type" content="website"><meta property="og:locale" content="en_US"><meta property="og:url" content="writerside-documentation/er-mapping-entities.html"><!-- End Open Graph --><!-- Twitter Card --><meta name="twitter:card" content="summary_large_image"><meta name="twitter:site" content=""><meta name="twitter:title" content="Mapeamento de Entidades ER para Relacional | Database Management Systems: A Complete Guide"><meta name="twitter:description" content=""><meta name="twitter:creator" content=""><meta name="twitter:image:src" content=""><!-- End Twitter Card --><!-- Schema.org WebPage --><script type="application/ld+json">{
    "@context": "http://schema.org",
    "@type": "WebPage",
    "@id": "writerside-documentation/er-mapping-entities.html#webpage",
    "url": "writerside-documentation/er-mapping-entities.html",
    "name": "Mapeamento de Entidades ER para Relacional | Database Management Systems: A Complete Guide",
    "description": "",
    "image": "",
    "inLanguage":"en-US"
}</script><!-- End Schema.org --><!-- Schema.org WebSite --><script type="application/ld+json">{
    "@type": "WebSite",
    "@id": "writerside-documentation/#website",
    "url": "writerside-documentation/",
    "name": "Database Management Systems: A Complete Guide Help"
}</script><!-- End Schema.org --></head><body data-id="er-mapping-entities" data-main-title="Mapeamento de Entidades ER para Relacional" data-article-props="{&quot;seeAlsoStyle&quot;:&quot;links&quot;}" data-template="article" data-breadcrumbs="data-modeling.md|Modelagem de Dados///logical-modeling.md|Modelagem Lógica///relational-model.md|Modelo Relacional///er-to-relational.md|Transformação ER para Relacional"><div class="wrapper"><main class="panel _main"><header class="panel__header"><div class="container"><h3>Database Management Systems: A Complete Guide  Help</h3><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="inactive"><h1 data-toc="er-mapping-entities" id="er-mapping-entities.md">Mapeamento de Entidades ER para Relacional</h1><section class="chapter"><h2 id="regras-fundamentais" data-toc="regras-fundamentais">Regras Fundamentais</h2><section class="chapter"><h3 id="1-entidades-fortes" data-toc="1-entidades-fortes">1. Entidades Fortes</h3><svg aria-roledescription="er" role="graphics-document document" viewBox="0 0 174.374267578125 148" style="max-width: 174.374267578125px;" xmlns="http://www.w3.org/2000/svg" width="100%" id="mermaid"><g></g><defs><marker orient="auto" markerHeight="240" markerWidth="190" refY="7" refX="0" id="MD_PARENT_START"><path d="M 18,7 L9,13 L1,7 L9,1 Z"></path></marker></defs><defs><marker orient="auto" markerHeight="28" markerWidth="20" refY="7" refX="19" id="MD_PARENT_END"><path d="M 18,7 L9,13 L1,7 L9,1 Z"></path></marker></defs><defs><marker orient="auto" markerHeight="18" markerWidth="18" refY="9" refX="0" id="ONLY_ONE_START"><path d="M9,0 L9,18 M15,0 L15,18" fill="none" stroke="gray"></path></marker></defs><defs><marker orient="auto" markerHeight="18" markerWidth="18" refY="9" refX="18" id="ONLY_ONE_END"><path d="M3,0 L3,18 M9,0 L9,18" fill="none" stroke="gray"></path></marker></defs><defs><marker orient="auto" markerHeight="18" markerWidth="30" refY="9" refX="0" id="ZERO_OR_ONE_START"><circle r="6" cy="9" cx="21" fill="white" stroke="gray"></circle><path d="M9,0 L9,18" fill="none" stroke="gray"></path></marker></defs><defs><marker orient="auto" markerHeight="18" markerWidth="30" refY="9" refX="30" id="ZERO_OR_ONE_END"><circle r="6" cy="9" cx="9" fill="white" stroke="gray"></circle><path d="M21,0 L21,18" fill="none" stroke="gray"></path></marker></defs><defs><marker orient="auto" markerHeight="36" markerWidth="45" refY="18" refX="18" id="ONE_OR_MORE_START"><path d="M0,18 Q 18,0 36,18 Q 18,36 0,18 M42,9 L42,27" fill="none" stroke="gray"></path></marker></defs><defs><marker orient="auto" markerHeight="36" markerWidth="45" refY="18" refX="27" id="ONE_OR_MORE_END"><path d="M3,9 L3,27 M9,18 Q27,0 45,18 Q27,36 9,18" fill="none" stroke="gray"></path></marker></defs><defs><marker orient="auto" markerHeight="36" markerWidth="57" refY="18" refX="18" id="ZERO_OR_MORE_START"><circle r="6" cy="18" cx="48" fill="white" stroke="gray"></circle><path d="M0,18 Q18,0 36,18 Q18,36 0,18" fill="none" stroke="gray"></path></marker></defs><defs><marker orient="auto" markerHeight="36" markerWidth="57" refY="18" refX="39" id="ZERO_OR_MORE_END"><circle r="6" cy="18" cx="9" fill="white" stroke="gray"></circle><path d="M21,18 Q39,0 57,18 Q39,36 21,18" fill="none" stroke="gray"></path></marker></defs><g transform="translate(20,20 )" id="entity-CLIENTE-8b97428f-cd26-5bb8-b585-f77366c59df3"><rect height="108" width="134.37426376342773" y="0" x="0" class="er entityBox"></rect><text transform="translate(67.18713188171387,12)" style="dominant-baseline: middle; text-anchor: middle; font-size: 12px;" y="0" x="0" id="text-entity-CLIENTE-8b97428f-cd26-5bb8-b585-f77366c59df3" class="er entityLabel">CLIENTE</text><rect height="21" width="35.36581993103027" y="24" x="0" class="er attributeBoxOdd"></rect><text transform="translate(5,34.5)" style="dominant-baseline: middle; font-size: 10.2px;" y="0" x="0" id="text-entity-CLIENTE-8b97428f-cd26-5bb8-b585-f77366c59df3-attr-1-type" class="er entityLabel">string</text><rect height="21" width="75.18946075439453" y="24" x="35.36581993103027" class="er attributeBoxOdd"></rect><text transform="translate(40.36581993103027,34.5)" style="dominant-baseline: middle; font-size: 10.2px;" y="0" x="0" id="text-entity-CLIENTE-8b97428f-cd26-5bb8-b585-f77366c59df3-attr-1-name" class="er entityLabel">id</text><rect height="21" width="23.81898307800293" y="24" x="110.5552806854248" class="er attributeBoxOdd"></rect><text transform="translate(115.5552806854248,34.5)" style="dominant-baseline: middle; font-size: 10.2px;" y="0" x="0" id="text-entity-CLIENTE-8b97428f-cd26-5bb8-b585-f77366c59df3-attr-1-key" class="er entityLabel">PK</text><rect height="21" width="35.36581993103027" y="45" x="0" class="er attributeBoxEven"></rect><text transform="translate(5,55.5)" style="dominant-baseline: middle; font-size: 10.2px;" y="0" x="0" id="text-entity-CLIENTE-8b97428f-cd26-5bb8-b585-f77366c59df3-attr-2-type" class="er entityLabel">string</text><rect height="21" width="75.18946075439453" y="45" x="35.36581993103027" class="er attributeBoxEven"></rect><text transform="translate(40.36581993103027,55.5)" style="dominant-baseline: middle; font-size: 10.2px;" y="0" x="0" id="text-entity-CLIENTE-8b97428f-cd26-5bb8-b585-f77366c59df3-attr-2-name" class="er entityLabel">nome</text><rect height="21" width="23.81898307800293" y="45" x="110.5552806854248" class="er attributeBoxEven"></rect><text transform="translate(115.5552806854248,55.5)" style="dominant-baseline: middle; font-size: 10.2px;" y="0" x="0" id="text-entity-CLIENTE-8b97428f-cd26-5bb8-b585-f77366c59df3-attr-2-key" class="er entityLabel"></text><rect height="21" width="35.36581993103027" y="66" x="0" class="er attributeBoxOdd"></rect><text transform="translate(5,76.5)" style="dominant-baseline: middle; font-size: 10.2px;" y="0" x="0" id="text-entity-CLIENTE-8b97428f-cd26-5bb8-b585-f77366c59df3-attr-3-type" class="er entityLabel">string</text><rect height="21" width="75.18946075439453" y="66" x="35.36581993103027" class="er attributeBoxOdd"></rect><text transform="translate(40.36581993103027,76.5)" style="dominant-baseline: middle; font-size: 10.2px;" y="0" x="0" id="text-entity-CLIENTE-8b97428f-cd26-5bb8-b585-f77366c59df3-attr-3-name" class="er entityLabel">email</text><rect height="21" width="23.81898307800293" y="66" x="110.5552806854248" class="er attributeBoxOdd"></rect><text transform="translate(115.5552806854248,76.5)" style="dominant-baseline: middle; font-size: 10.2px;" y="0" x="0" id="text-entity-CLIENTE-8b97428f-cd26-5bb8-b585-f77366c59df3-attr-3-key" class="er entityLabel"></text><rect height="21" width="35.36581993103027" y="87" x="0" class="er attributeBoxEven"></rect><text transform="translate(5,97.5)" style="dominant-baseline: middle; font-size: 10.2px;" y="0" x="0" id="text-entity-CLIENTE-8b97428f-cd26-5bb8-b585-f77366c59df3-attr-4-type" class="er entityLabel">date</text><rect height="21" width="75.18946075439453" y="87" x="35.36581993103027" class="er attributeBoxEven"></rect><text transform="translate(40.36581993103027,97.5)" style="dominant-baseline: middle; font-size: 10.2px;" y="0" x="0" id="text-entity-CLIENTE-8b97428f-cd26-5bb8-b585-f77366c59df3-attr-4-name" class="er entityLabel">data_cadastro</text><rect height="21" width="23.81898307800293" y="87" x="110.5552806854248" class="er attributeBoxEven"></rect><text transform="translate(115.5552806854248,97.5)" style="dominant-baseline: middle; font-size: 10.2px;" y="0" x="0" id="text-entity-CLIENTE-8b97428f-cd26-5bb8-b585-f77366c59df3-attr-4-key" class="er entityLabel"></text></g></svg><p id="-4mxemu_13">&darr; Transforma&ccedil;&atilde;o &darr;</p><div class="code-block" data-lang="sql">
CREATE TABLE Cliente (
    id VARCHAR(50) PRIMARY KEY,
    nome VARCHAR(100) NOT NULL,
    email VARCHAR(100) UNIQUE,
    data_cadastro DATE NOT NULL
);
</div></section><section class="chapter"><h3 id="2-entidades-fracas" data-toc="2-entidades-fracas">2. Entidades Fracas</h3><svg aria-roledescription="er" role="graphics-document document" viewBox="0 0 185.99093627929688 344" style="max-width: 185.99093627929688px;" xmlns="http://www.w3.org/2000/svg" width="100%" id="mermaid"><g></g><defs><marker orient="auto" markerHeight="240" markerWidth="190" refY="7" refX="0" id="MD_PARENT_START"><path d="M 18,7 L9,13 L1,7 L9,1 Z"></path></marker></defs><defs><marker orient="auto" markerHeight="28" markerWidth="20" refY="7" refX="19" id="MD_PARENT_END"><path d="M 18,7 L9,13 L1,7 L9,1 Z"></path></marker></defs><defs><marker orient="auto" markerHeight="18" markerWidth="18" refY="9" refX="0" id="ONLY_ONE_START"><path d="M9,0 L9,18 M15,0 L15,18" fill="none" stroke="gray"></path></marker></defs><defs><marker orient="auto" markerHeight="18" markerWidth="18" refY="9" refX="18" id="ONLY_ONE_END"><path d="M3,0 L3,18 M9,0 L9,18" fill="none" stroke="gray"></path></marker></defs><defs><marker orient="auto" markerHeight="18" markerWidth="30" refY="9" refX="0" id="ZERO_OR_ONE_START"><circle r="6" cy="9" cx="21" fill="white" stroke="gray"></circle><path d="M9,0 L9,18" fill="none" stroke="gray"></path></marker></defs><defs><marker orient="auto" markerHeight="18" markerWidth="30" refY="9" refX="30" id="ZERO_OR_ONE_END"><circle r="6" cy="9" cx="9" fill="white" stroke="gray"></circle><path d="M21,0 L21,18" fill="none" stroke="gray"></path></marker></defs><defs><marker orient="auto" markerHeight="36" markerWidth="45" refY="18" refX="18" id="ONE_OR_MORE_START"><path d="M0,18 Q 18,0 36,18 Q 18,36 0,18 M42,9 L42,27" fill="none" stroke="gray"></path></marker></defs><defs><marker orient="auto" markerHeight="36" markerWidth="45" refY="18" refX="27" id="ONE_OR_MORE_END"><path d="M3,9 L3,27 M9,18 Q27,0 45,18 Q27,36 9,18" fill="none" stroke="gray"></path></marker></defs><defs><marker orient="auto" markerHeight="36" markerWidth="57" refY="18" refX="18" id="ZERO_OR_MORE_START"><circle r="6" cy="18" cx="48" fill="white" stroke="gray"></circle><path d="M0,18 Q18,0 36,18 Q18,36 0,18" fill="none" stroke="gray"></path></marker></defs><defs><marker orient="auto" markerHeight="36" markerWidth="57" refY="18" refX="39" id="ZERO_OR_MORE_END"><circle r="6" cy="18" cx="9" fill="white" stroke="gray"></circle><path d="M21,18 Q39,0 57,18 Q39,36 21,18" fill="none" stroke="gray"></path></marker></defs><path style="stroke: gray; fill: none;" marker-start="url(#ONLY_ONE_START)" marker-end="url(#ONE_OR_MORE_END)" d="M92.995,95L92.995,103.333C92.995,111.667,92.995,128.333,92.995,145C92.995,161.667,92.995,178.333,92.995,186.667L92.995,195" class="er relationshipLine"></path><g transform="translate(42.995460510253906,20 )" id="entity-PEDIDO-79609d0a-2a15-5826-829f-bc409be443d0"><rect height="75" width="100" y="0" x="0" class="er entityBox"></rect><text transform="translate(50,37.5)" style="dominant-baseline: middle; text-anchor: middle; font-size: 12px;" y="0" x="0" id="text-entity-PEDIDO-79609d0a-2a15-5826-829f-bc409be443d0" class="er entityLabel">PEDIDO</text></g><g transform="translate(20,195 )" id="entity-ITEMPEDIDO-2907c1d1-0d54-568d-a2bb-b3bec61edccd"><rect height="129" width="145.99092864990234" y="0" x="0" class="er entityBox"></rect><text transform="translate(72.99546432495117,12)" style="dominant-baseline: middle; text-anchor: middle; font-size: 12px;" y="0" x="0" id="text-entity-ITEMPEDIDO-2907c1d1-0d54-568d-a2bb-b3bec61edccd" class="er entityLabel">ITEM_PEDIDO</text><rect height="21" width="45.28125" y="24" x="0" class="er attributeBoxOdd"></rect><text transform="translate(5,34.5)" style="dominant-baseline: middle; font-size: 10.2px;" y="0" x="0" id="text-entity-ITEMPEDIDO-2907c1d1-0d54-568d-a2bb-b3bec61edccd-attr-1-type" class="er entityLabel">string</text><rect height="21" width="60.970367431640625" y="24" x="45.28125" class="er attributeBoxOdd"></rect><text transform="translate(50.28125,34.5)" style="dominant-baseline: middle; font-size: 10.2px;" y="0" x="0" id="text-entity-ITEMPEDIDO-2907c1d1-0d54-568d-a2bb-b3bec61edccd-attr-1-name" class="er entityLabel">pedido_id</text><rect height="21" width="39.73931121826172" y="24" x="106.25161743164062" class="er attributeBoxOdd"></rect><text transform="translate(111.25161743164062,34.5)" style="dominant-baseline: middle; font-size: 10.2px;" y="0" x="0" id="text-entity-ITEMPEDIDO-2907c1d1-0d54-568d-a2bb-b3bec61edccd-attr-1-key" class="er entityLabel">PK,FK</text><rect height="21" width="45.28125" y="45" x="0" class="er attributeBoxEven"></rect><text transform="translate(5,55.5)" style="dominant-baseline: middle; font-size: 10.2px;" y="0" x="0" id="text-entity-ITEMPEDIDO-2907c1d1-0d54-568d-a2bb-b3bec61edccd-attr-2-type" class="er entityLabel">int</text><rect height="21" width="60.970367431640625" y="45" x="45.28125" class="er attributeBoxEven"></rect><text transform="translate(50.28125,55.5)" style="dominant-baseline: middle; font-size: 10.2px;" y="0" x="0" id="text-entity-ITEMPEDIDO-2907c1d1-0d54-568d-a2bb-b3bec61edccd-attr-2-name" class="er entityLabel">sequencia</text><rect height="21" width="39.73931121826172" y="45" x="106.25161743164062" class="er attributeBoxEven"></rect><text transform="translate(111.25161743164062,55.5)" style="dominant-baseline: middle; font-size: 10.2px;" y="0" x="0" id="text-entity-ITEMPEDIDO-2907c1d1-0d54-568d-a2bb-b3bec61edccd-attr-2-key" class="er entityLabel">PK</text><rect height="21" width="45.28125" y="66" x="0" class="er attributeBoxOdd"></rect><text transform="translate(5,76.5)" style="dominant-baseline: middle; font-size: 10.2px;" y="0" x="0" id="text-entity-ITEMPEDIDO-2907c1d1-0d54-568d-a2bb-b3bec61edccd-attr-3-type" class="er entityLabel">string</text><rect height="21" width="60.970367431640625" y="66" x="45.28125" class="er attributeBoxOdd"></rect><text transform="translate(50.28125,76.5)" style="dominant-baseline: middle; font-size: 10.2px;" y="0" x="0" id="text-entity-ITEMPEDIDO-2907c1d1-0d54-568d-a2bb-b3bec61edccd-attr-3-name" class="er entityLabel">produto</text><rect height="21" width="39.73931121826172" y="66" x="106.25161743164062" class="er attributeBoxOdd"></rect><text transform="translate(111.25161743164062,76.5)" style="dominant-baseline: middle; font-size: 10.2px;" y="0" x="0" id="text-entity-ITEMPEDIDO-2907c1d1-0d54-568d-a2bb-b3bec61edccd-attr-3-key" class="er entityLabel"></text><rect height="21" width="45.28125" y="87" x="0" class="er attributeBoxEven"></rect><text transform="translate(5,97.5)" style="dominant-baseline: middle; font-size: 10.2px;" y="0" x="0" id="text-entity-ITEMPEDIDO-2907c1d1-0d54-568d-a2bb-b3bec61edccd-attr-4-type" class="er entityLabel">int</text><rect height="21" width="60.970367431640625" y="87" x="45.28125" class="er attributeBoxEven"></rect><text transform="translate(50.28125,97.5)" style="dominant-baseline: middle; font-size: 10.2px;" y="0" x="0" id="text-entity-ITEMPEDIDO-2907c1d1-0d54-568d-a2bb-b3bec61edccd-attr-4-name" class="er entityLabel">quantidade</text><rect height="21" width="39.73931121826172" y="87" x="106.25161743164062" class="er attributeBoxEven"></rect><text transform="translate(111.25161743164062,97.5)" style="dominant-baseline: middle; font-size: 10.2px;" y="0" x="0" id="text-entity-ITEMPEDIDO-2907c1d1-0d54-568d-a2bb-b3bec61edccd-attr-4-key" class="er entityLabel"></text><rect height="21" width="45.28125" y="108" x="0" class="er attributeBoxOdd"></rect><text transform="translate(5,118.5)" style="dominant-baseline: middle; font-size: 10.2px;" y="0" x="0" id="text-entity-ITEMPEDIDO-2907c1d1-0d54-568d-a2bb-b3bec61edccd-attr-5-type" class="er entityLabel">decimal</text><rect height="21" width="60.970367431640625" y="108" x="45.28125" class="er attributeBoxOdd"></rect><text transform="translate(50.28125,118.5)" style="dominant-baseline: middle; font-size: 10.2px;" y="0" x="0" id="text-entity-ITEMPEDIDO-2907c1d1-0d54-568d-a2bb-b3bec61edccd-attr-5-name" class="er entityLabel">valor</text><rect height="21" width="39.73931121826172" y="108" x="106.25161743164062" class="er attributeBoxOdd"></rect><text transform="translate(111.25161743164062,118.5)" style="dominant-baseline: middle; font-size: 10.2px;" y="0" x="0" id="text-entity-ITEMPEDIDO-2907c1d1-0d54-568d-a2bb-b3bec61edccd-attr-5-key" class="er entityLabel"></text></g><rect height="14" width="39.5" y="138" x="73.24500274658203" class="er relationshipLabelBox"></rect><text style="text-anchor: middle; dominant-baseline: middle; font-size: 12px;" y="145" x="92.99500274658203" id="rel325" class="er relationshipLabel">contem</text></svg><p id="-4mxemu_16">&darr; Transforma&ccedil;&atilde;o &darr;</p><div class="code-block" data-lang="sql">
CREATE TABLE Item_Pedido (
    pedido_id VARCHAR(50),
    sequencia INTEGER,
    produto VARCHAR(100) NOT NULL,
    quantidade INTEGER NOT NULL,
    valor DECIMAL(10,2) NOT NULL,
    PRIMARY KEY (pedido_id, sequencia),
    FOREIGN KEY (pedido_id) REFERENCES Pedido(id)
);
</div></section></section><section class="chapter"><h2 id="mapeamento-de-atributos" data-toc="mapeamento-de-atributos">Mapeamento de Atributos</h2><section class="chapter"><h3 id="1-atributos-simples" data-toc="1-atributos-simples">1. Atributos Simples</h3><ul class="list _bullet" id="-4mxemu_21"><li class="list__item" id="-4mxemu_22"><p id="-4mxemu_25">Mapeamento direto para colunas</p></li><li class="list__item" id="-4mxemu_23"><p id="-4mxemu_26">Tipo de dados apropriado</p></li><li class="list__item" id="-4mxemu_24"><p id="-4mxemu_27">Restri&ccedil;&otilde;es b&aacute;sicas (NOT NULL, etc.)</p></li></ul></section><section class="chapter"><h3 id="2-atributos-compostos" data-toc="2-atributos-compostos">2. Atributos Compostos</h3><svg aria-roledescription="er" role="graphics-document document" viewBox="0 0 170.91384887695312 232" style="max-width: 170.91384887695312px;" xmlns="http://www.w3.org/2000/svg" width="100%" id="mermaid"><g></g><defs><marker orient="auto" markerHeight="240" markerWidth="190" refY="7" refX="0" id="MD_PARENT_START"><path d="M 18,7 L9,13 L1,7 L9,1 Z"></path></marker></defs><defs><marker orient="auto" markerHeight="28" markerWidth="20" refY="7" refX="19" id="MD_PARENT_END"><path d="M 18,7 L9,13 L1,7 L9,1 Z"></path></marker></defs><defs><marker orient="auto" markerHeight="18" markerWidth="18" refY="9" refX="0" id="ONLY_ONE_START"><path d="M9,0 L9,18 M15,0 L15,18" fill="none" stroke="gray"></path></marker></defs><defs><marker orient="auto" markerHeight="18" markerWidth="18" refY="9" refX="18" id="ONLY_ONE_END"><path d="M3,0 L3,18 M9,0 L9,18" fill="none" stroke="gray"></path></marker></defs><defs><marker orient="auto" markerHeight="18" markerWidth="30" refY="9" refX="0" id="ZERO_OR_ONE_START"><circle r="6" cy="9" cx="21" fill="white" stroke="gray"></circle><path d="M9,0 L9,18" fill="none" stroke="gray"></path></marker></defs><defs><marker orient="auto" markerHeight="18" markerWidth="30" refY="9" refX="30" id="ZERO_OR_ONE_END"><circle r="6" cy="9" cx="9" fill="white" stroke="gray"></circle><path d="M21,0 L21,18" fill="none" stroke="gray"></path></marker></defs><defs><marker orient="auto" markerHeight="36" markerWidth="45" refY="18" refX="18" id="ONE_OR_MORE_START"><path d="M0,18 Q 18,0 36,18 Q 18,36 0,18 M42,9 L42,27" fill="none" stroke="gray"></path></marker></defs><defs><marker orient="auto" markerHeight="36" markerWidth="45" refY="18" refX="27" id="ONE_OR_MORE_END"><path d="M3,9 L3,27 M9,18 Q27,0 45,18 Q27,36 9,18" fill="none" stroke="gray"></path></marker></defs><defs><marker orient="auto" markerHeight="36" markerWidth="57" refY="18" refX="18" id="ZERO_OR_MORE_START"><circle r="6" cy="18" cx="48" fill="white" stroke="gray"></circle><path d="M0,18 Q18,0 36,18 Q18,36 0,18" fill="none" stroke="gray"></path></marker></defs><defs><marker orient="auto" markerHeight="36" markerWidth="57" refY="18" refX="39" id="ZERO_OR_MORE_END"><circle r="6" cy="18" cx="9" fill="white" stroke="gray"></circle><path d="M21,18 Q39,0 57,18 Q39,36 21,18" fill="none" stroke="gray"></path></marker></defs><g transform="translate(20,20 )" id="entity-ENDERECO-572cc701-1e32-5f62-8074-7f7e2c884018"><rect height="192" width="130.91384887695312" y="0" x="0" class="er entityBox"></rect><text transform="translate(65.45692443847656,12)" style="dominant-baseline: middle; text-anchor: middle; font-size: 12px;" y="0" x="0" id="text-entity-ENDERECO-572cc701-1e32-5f62-8074-7f7e2c884018" class="er entityLabel">ENDERECO</text><rect height="21" width="35.36581993103027" y="24" x="0" class="er attributeBoxOdd"></rect><text transform="translate(5,34.5)" style="dominant-baseline: middle; font-size: 10.2px;" y="0" x="0" id="text-entity-ENDERECO-572cc701-1e32-5f62-8074-7f7e2c884018-attr-1-type" class="er entityLabel">string</text><rect height="21" width="71.72904586791992" y="24" x="35.36581993103027" class="er attributeBoxOdd"></rect><text transform="translate(40.36581993103027,34.5)" style="dominant-baseline: middle; font-size: 10.2px;" y="0" x="0" id="text-entity-ENDERECO-572cc701-1e32-5f62-8074-7f7e2c884018-attr-1-name" class="er entityLabel">id</text><rect height="21" width="23.81898307800293" y="24" x="107.0948657989502" class="er attributeBoxOdd"></rect><text transform="translate(112.0948657989502,34.5)" style="dominant-baseline: middle; font-size: 10.2px;" y="0" x="0" id="text-entity-ENDERECO-572cc701-1e32-5f62-8074-7f7e2c884018-attr-1-key" class="er entityLabel">PK</text><rect height="21" width="35.36581993103027" y="45" x="0" class="er attributeBoxEven"></rect><text transform="translate(5,55.5)" style="dominant-baseline: middle; font-size: 10.2px;" y="0" x="0" id="text-entity-ENDERECO-572cc701-1e32-5f62-8074-7f7e2c884018-attr-2-type" class="er entityLabel">string</text><rect height="21" width="71.72904586791992" y="45" x="35.36581993103027" class="er attributeBoxEven"></rect><text transform="translate(40.36581993103027,55.5)" style="dominant-baseline: middle; font-size: 10.2px;" y="0" x="0" id="text-entity-ENDERECO-572cc701-1e32-5f62-8074-7f7e2c884018-attr-2-name" class="er entityLabel">rua</text><rect height="21" width="23.81898307800293" y="45" x="107.0948657989502" class="er attributeBoxEven"></rect><text transform="translate(112.0948657989502,55.5)" style="dominant-baseline: middle; font-size: 10.2px;" y="0" x="0" id="text-entity-ENDERECO-572cc701-1e32-5f62-8074-7f7e2c884018-attr-2-key" class="er entityLabel"></text><rect height="21" width="35.36581993103027" y="66" x="0" class="er attributeBoxOdd"></rect><text transform="translate(5,76.5)" style="dominant-baseline: middle; font-size: 10.2px;" y="0" x="0" id="text-entity-ENDERECO-572cc701-1e32-5f62-8074-7f7e2c884018-attr-3-type" class="er entityLabel">string</text><rect height="21" width="71.72904586791992" y="66" x="35.36581993103027" class="er attributeBoxOdd"></rect><text transform="translate(40.36581993103027,76.5)" style="dominant-baseline: middle; font-size: 10.2px;" y="0" x="0" id="text-entity-ENDERECO-572cc701-1e32-5f62-8074-7f7e2c884018-attr-3-name" class="er entityLabel">numero</text><rect height="21" width="23.81898307800293" y="66" x="107.0948657989502" class="er attributeBoxOdd"></rect><text transform="translate(112.0948657989502,76.5)" style="dominant-baseline: middle; font-size: 10.2px;" y="0" x="0" id="text-entity-ENDERECO-572cc701-1e32-5f62-8074-7f7e2c884018-attr-3-key" class="er entityLabel"></text><rect height="21" width="35.36581993103027" y="87" x="0" class="er attributeBoxEven"></rect><text transform="translate(5,97.5)" style="dominant-baseline: middle; font-size: 10.2px;" y="0" x="0" id="text-entity-ENDERECO-572cc701-1e32-5f62-8074-7f7e2c884018-attr-4-type" class="er entityLabel">string</text><rect height="21" width="71.72904586791992" y="87" x="35.36581993103027" class="er attributeBoxEven"></rect><text transform="translate(40.36581993103027,97.5)" style="dominant-baseline: middle; font-size: 10.2px;" y="0" x="0" id="text-entity-ENDERECO-572cc701-1e32-5f62-8074-7f7e2c884018-attr-4-name" class="er entityLabel">complemento</text><rect height="21" width="23.81898307800293" y="87" x="107.0948657989502" class="er attributeBoxEven"></rect><text transform="translate(112.0948657989502,97.5)" style="dominant-baseline: middle; font-size: 10.2px;" y="0" x="0" id="text-entity-ENDERECO-572cc701-1e32-5f62-8074-7f7e2c884018-attr-4-key" class="er entityLabel"></text><rect height="21" width="35.36581993103027" y="108" x="0" class="er attributeBoxOdd"></rect><text transform="translate(5,118.5)" style="dominant-baseline: middle; font-size: 10.2px;" y="0" x="0" id="text-entity-ENDERECO-572cc701-1e32-5f62-8074-7f7e2c884018-attr-5-type" class="er entityLabel">string</text><rect height="21" width="71.72904586791992" y="108" x="35.36581993103027" class="er attributeBoxOdd"></rect><text transform="translate(40.36581993103027,118.5)" style="dominant-baseline: middle; font-size: 10.2px;" y="0" x="0" id="text-entity-ENDERECO-572cc701-1e32-5f62-8074-7f7e2c884018-attr-5-name" class="er entityLabel">bairro</text><rect height="21" width="23.81898307800293" y="108" x="107.0948657989502" class="er attributeBoxOdd"></rect><text transform="translate(112.0948657989502,118.5)" style="dominant-baseline: middle; font-size: 10.2px;" y="0" x="0" id="text-entity-ENDERECO-572cc701-1e32-5f62-8074-7f7e2c884018-attr-5-key" class="er entityLabel"></text><rect height="21" width="35.36581993103027" y="129" x="0" class="er attributeBoxEven"></rect><text transform="translate(5,139.5)" style="dominant-baseline: middle; font-size: 10.2px;" y="0" x="0" id="text-entity-ENDERECO-572cc701-1e32-5f62-8074-7f7e2c884018-attr-6-type" class="er entityLabel">string</text><rect height="21" width="71.72904586791992" y="129" x="35.36581993103027" class="er attributeBoxEven"></rect><text transform="translate(40.36581993103027,139.5)" style="dominant-baseline: middle; font-size: 10.2px;" y="0" x="0" id="text-entity-ENDERECO-572cc701-1e32-5f62-8074-7f7e2c884018-attr-6-name" class="er entityLabel">cidade</text><rect height="21" width="23.81898307800293" y="129" x="107.0948657989502" class="er attributeBoxEven"></rect><text transform="translate(112.0948657989502,139.5)" style="dominant-baseline: middle; font-size: 10.2px;" y="0" x="0" id="text-entity-ENDERECO-572cc701-1e32-5f62-8074-7f7e2c884018-attr-6-key" class="er entityLabel"></text><rect height="21" width="35.36581993103027" y="150" x="0" class="er attributeBoxOdd"></rect><text transform="translate(5,160.5)" style="dominant-baseline: middle; font-size: 10.2px;" y="0" x="0" id="text-entity-ENDERECO-572cc701-1e32-5f62-8074-7f7e2c884018-attr-7-type" class="er entityLabel">string</text><rect height="21" width="71.72904586791992" y="150" x="35.36581993103027" class="er attributeBoxOdd"></rect><text transform="translate(40.36581993103027,160.5)" style="dominant-baseline: middle; font-size: 10.2px;" y="0" x="0" id="text-entity-ENDERECO-572cc701-1e32-5f62-8074-7f7e2c884018-attr-7-name" class="er entityLabel">estado</text><rect height="21" width="23.81898307800293" y="150" x="107.0948657989502" class="er attributeBoxOdd"></rect><text transform="translate(112.0948657989502,160.5)" style="dominant-baseline: middle; font-size: 10.2px;" y="0" x="0" id="text-entity-ENDERECO-572cc701-1e32-5f62-8074-7f7e2c884018-attr-7-key" class="er entityLabel"></text><rect height="21" width="35.36581993103027" y="171" x="0" class="er attributeBoxEven"></rect><text transform="translate(5,181.5)" style="dominant-baseline: middle; font-size: 10.2px;" y="0" x="0" id="text-entity-ENDERECO-572cc701-1e32-5f62-8074-7f7e2c884018-attr-8-type" class="er entityLabel">string</text><rect height="21" width="71.72904586791992" y="171" x="35.36581993103027" class="er attributeBoxEven"></rect><text transform="translate(40.36581993103027,181.5)" style="dominant-baseline: middle; font-size: 10.2px;" y="0" x="0" id="text-entity-ENDERECO-572cc701-1e32-5f62-8074-7f7e2c884018-attr-8-name" class="er entityLabel">cep</text><rect height="21" width="23.81898307800293" y="171" x="107.0948657989502" class="er attributeBoxEven"></rect><text transform="translate(112.0948657989502,181.5)" style="dominant-baseline: middle; font-size: 10.2px;" y="0" x="0" id="text-entity-ENDERECO-572cc701-1e32-5f62-8074-7f7e2c884018-attr-8-key" class="er entityLabel"></text></g></svg><section class="chapter"><h4 id="op-o-1-decomposi-o" data-toc="op-o-1-decomposi-o">Op&ccedil;&atilde;o 1: Decomposi&ccedil;&atilde;o</h4><div class="code-block" data-lang="sql">
CREATE TABLE Endereco (
    id VARCHAR(50) PRIMARY KEY,
    rua VARCHAR(100),
    numero VARCHAR(10),
    complemento VARCHAR(50),
    bairro VARCHAR(50),
    cidade VARCHAR(50),
    estado CHAR(2),
    cep VARCHAR(8)
);
</div></section><section class="chapter"><h4 id="op-o-2-agrega-o" data-toc="op-o-2-agrega-o">Op&ccedil;&atilde;o 2: Agrega&ccedil;&atilde;o</h4><div class="code-block" data-lang="sql">
CREATE TABLE Endereco (
    id VARCHAR(50) PRIMARY KEY,
    endereco_completo VARCHAR(300)
);
</div></section></section><section class="chapter"><h3 id="3-atributos-multivalorados" data-toc="3-atributos-multivalorados">3. Atributos Multivalorados</h3><svg aria-roledescription="er" role="graphics-document document" viewBox="0 0 154.265625 293" style="max-width: 154.265625px;" xmlns="http://www.w3.org/2000/svg" width="100%" id="mermaid"><g></g><defs><marker orient="auto" markerHeight="240" markerWidth="190" refY="7" refX="0" id="MD_PARENT_START"><path d="M 18,7 L9,13 L1,7 L9,1 Z"></path></marker></defs><defs><marker orient="auto" markerHeight="28" markerWidth="20" refY="7" refX="19" id="MD_PARENT_END"><path d="M 18,7 L9,13 L1,7 L9,1 Z"></path></marker></defs><defs><marker orient="auto" markerHeight="18" markerWidth="18" refY="9" refX="0" id="ONLY_ONE_START"><path d="M9,0 L9,18 M15,0 L15,18" fill="none" stroke="gray"></path></marker></defs><defs><marker orient="auto" markerHeight="18" markerWidth="18" refY="9" refX="18" id="ONLY_ONE_END"><path d="M3,0 L3,18 M9,0 L9,18" fill="none" stroke="gray"></path></marker></defs><defs><marker orient="auto" markerHeight="18" markerWidth="30" refY="9" refX="0" id="ZERO_OR_ONE_START"><circle r="6" cy="9" cx="21" fill="white" stroke="gray"></circle><path d="M9,0 L9,18" fill="none" stroke="gray"></path></marker></defs><defs><marker orient="auto" markerHeight="18" markerWidth="30" refY="9" refX="30" id="ZERO_OR_ONE_END"><circle r="6" cy="9" cx="9" fill="white" stroke="gray"></circle><path d="M21,0 L21,18" fill="none" stroke="gray"></path></marker></defs><defs><marker orient="auto" markerHeight="36" markerWidth="45" refY="18" refX="18" id="ONE_OR_MORE_START"><path d="M0,18 Q 18,0 36,18 Q 18,36 0,18 M42,9 L42,27" fill="none" stroke="gray"></path></marker></defs><defs><marker orient="auto" markerHeight="36" markerWidth="45" refY="18" refX="27" id="ONE_OR_MORE_END"><path d="M3,9 L3,27 M9,18 Q27,0 45,18 Q27,36 9,18" fill="none" stroke="gray"></path></marker></defs><defs><marker orient="auto" markerHeight="36" markerWidth="57" refY="18" refX="18" id="ZERO_OR_MORE_START"><circle r="6" cy="18" cx="48" fill="white" stroke="gray"></circle><path d="M0,18 Q18,0 36,18 Q18,36 0,18" fill="none" stroke="gray"></path></marker></defs><defs><marker orient="auto" markerHeight="36" markerWidth="57" refY="18" refX="39" id="ZERO_OR_MORE_END"><circle r="6" cy="18" cx="9" fill="white" stroke="gray"></circle><path d="M21,18 Q39,0 57,18 Q39,36 21,18" fill="none" stroke="gray"></path></marker></defs><path style="stroke: gray; fill: none;" marker-start="url(#ONLY_ONE_START)" marker-end="url(#ZERO_OR_MORE_END)" d="M77.133,86L77.133,94.333C77.133,102.667,77.133,119.333,77.133,136C77.133,152.667,77.133,169.333,77.133,177.667L77.133,186" class="er relationshipLine"></path><g transform="translate(20,20 )" id="entity-FUNCIONARIO-7a22ad77-f12b-571d-a83b-148fa4755f06"><rect height="66" width="114.265625" y="0" x="0" class="er entityBox"></rect><text transform="translate(57.1328125,12)" style="dominant-baseline: middle; text-anchor: middle; font-size: 12px;" y="0" x="0" id="text-entity-FUNCIONARIO-7a22ad77-f12b-571d-a83b-148fa4755f06" class="er entityLabel">FUNCIONARIO</text><rect height="21" width="41.762803395589195" y="24" x="0" class="er attributeBoxOdd"></rect><text transform="translate(5,34.5)" style="dominant-baseline: middle; font-size: 10.2px;" y="0" x="0" id="text-entity-FUNCIONARIO-7a22ad77-f12b-571d-a83b-148fa4755f06-attr-1-type" class="er entityLabel">string</text><rect height="21" width="42.28685506184896" y="24" x="41.762803395589195" class="er attributeBoxOdd"></rect><text transform="translate(46.762803395589195,34.5)" style="dominant-baseline: middle; font-size: 10.2px;" y="0" x="0" id="text-entity-FUNCIONARIO-7a22ad77-f12b-571d-a83b-148fa4755f06-attr-1-name" class="er entityLabel">id</text><rect height="21" width="30.215966542561848" y="24" x="84.04965845743816" class="er attributeBoxOdd"></rect><text transform="translate(89.04965845743816,34.5)" style="dominant-baseline: middle; font-size: 10.2px;" y="0" x="0" id="text-entity-FUNCIONARIO-7a22ad77-f12b-571d-a83b-148fa4755f06-attr-1-key" class="er entityLabel">PK</text><rect height="21" width="41.762803395589195" y="45" x="0" class="er attributeBoxEven"></rect><text transform="translate(5,55.5)" style="dominant-baseline: middle; font-size: 10.2px;" y="0" x="0" id="text-entity-FUNCIONARIO-7a22ad77-f12b-571d-a83b-148fa4755f06-attr-2-type" class="er entityLabel">string</text><rect height="21" width="42.28685506184896" y="45" x="41.762803395589195" class="er attributeBoxEven"></rect><text transform="translate(46.762803395589195,55.5)" style="dominant-baseline: middle; font-size: 10.2px;" y="0" x="0" id="text-entity-FUNCIONARIO-7a22ad77-f12b-571d-a83b-148fa4755f06-attr-2-name" class="er entityLabel">nome</text><rect height="21" width="30.215966542561848" y="45" x="84.04965845743816" class="er attributeBoxEven"></rect><text transform="translate(89.04965845743816,55.5)" style="dominant-baseline: middle; font-size: 10.2px;" y="0" x="0" id="text-entity-FUNCIONARIO-7a22ad77-f12b-571d-a83b-148fa4755f06-attr-2-key" class="er entityLabel"></text></g><g transform="translate(25.32834243774414,186 )" id="entity-TELEFONE-dbe900d3-4e80-5414-aa24-1f18e8f40cc9"><rect height="87" width="103.60894393920898" y="0" x="0" class="er entityBox"></rect><text transform="translate(51.80447196960449,12)" style="dominant-baseline: middle; text-anchor: middle; font-size: 12px;" y="0" x="0" id="text-entity-TELEFONE-dbe900d3-4e80-5414-aa24-1f18e8f40cc9" class="er entityLabel">TELEFONE</text><rect height="21" width="35.36581993103027" y="24" x="0" class="er attributeBoxOdd"></rect><text transform="translate(5,34.5)" style="dominant-baseline: middle; font-size: 10.2px;" y="0" x="0" id="text-entity-TELEFONE-dbe900d3-4e80-5414-aa24-1f18e8f40cc9-attr-1-type" class="er entityLabel">string</text><rect height="21" width="44.996192932128906" y="24" x="35.36581993103027" class="er attributeBoxOdd"></rect><text transform="translate(40.36581993103027,34.5)" style="dominant-baseline: middle; font-size: 10.2px;" y="0" x="0" id="text-entity-TELEFONE-dbe900d3-4e80-5414-aa24-1f18e8f40cc9-attr-1-name" class="er entityLabel">func_id</text><rect height="21" width="23.246931076049805" y="24" x="80.36201286315918" class="er attributeBoxOdd"></rect><text transform="translate(85.36201286315918,34.5)" style="dominant-baseline: middle; font-size: 10.2px;" y="0" x="0" id="text-entity-TELEFONE-dbe900d3-4e80-5414-aa24-1f18e8f40cc9-attr-1-key" class="er entityLabel">FK</text><rect height="21" width="35.36581993103027" y="45" x="0" class="er attributeBoxEven"></rect><text transform="translate(5,55.5)" style="dominant-baseline: middle; font-size: 10.2px;" y="0" x="0" id="text-entity-TELEFONE-dbe900d3-4e80-5414-aa24-1f18e8f40cc9-attr-2-type" class="er entityLabel">string</text><rect height="21" width="44.996192932128906" y="45" x="35.36581993103027" class="er attributeBoxEven"></rect><text transform="translate(40.36581993103027,55.5)" style="dominant-baseline: middle; font-size: 10.2px;" y="0" x="0" id="text-entity-TELEFONE-dbe900d3-4e80-5414-aa24-1f18e8f40cc9-attr-2-name" class="er entityLabel">numero</text><rect height="21" width="23.246931076049805" y="45" x="80.36201286315918" class="er attributeBoxEven"></rect><text transform="translate(85.36201286315918,55.5)" style="dominant-baseline: middle; font-size: 10.2px;" y="0" x="0" id="text-entity-TELEFONE-dbe900d3-4e80-5414-aa24-1f18e8f40cc9-attr-2-key" class="er entityLabel"></text><rect height="21" width="35.36581993103027" y="66" x="0" class="er attributeBoxOdd"></rect><text transform="translate(5,76.5)" style="dominant-baseline: middle; font-size: 10.2px;" y="0" x="0" id="text-entity-TELEFONE-dbe900d3-4e80-5414-aa24-1f18e8f40cc9-attr-3-type" class="er entityLabel">string</text><rect height="21" width="44.996192932128906" y="66" x="35.36581993103027" class="er attributeBoxOdd"></rect><text transform="translate(40.36581993103027,76.5)" style="dominant-baseline: middle; font-size: 10.2px;" y="0" x="0" id="text-entity-TELEFONE-dbe900d3-4e80-5414-aa24-1f18e8f40cc9-attr-3-name" class="er entityLabel">tipo</text><rect height="21" width="23.246931076049805" y="66" x="80.36201286315918" class="er attributeBoxOdd"></rect><text transform="translate(85.36201286315918,76.5)" style="dominant-baseline: middle; font-size: 10.2px;" y="0" x="0" id="text-entity-TELEFONE-dbe900d3-4e80-5414-aa24-1f18e8f40cc9-attr-3-key" class="er entityLabel"></text></g><rect height="14" width="34.84375" y="129" x="59.71112823486328" class="er relationshipLabelBox"></rect><text style="text-anchor: middle; dominant-baseline: middle; font-size: 12px;" y="136" x="77.13300323486328" id="rel332" class="er relationshipLabel">possui</text></svg><div class="code-block" data-lang="sql">
CREATE TABLE Telefone (
    func_id VARCHAR(50),
    numero VARCHAR(20),
    tipo VARCHAR(20),
    PRIMARY KEY (func_id, numero),
    FOREIGN KEY (func_id) REFERENCES Funcionario(id)
);
</div></section></section><section class="chapter"><h2 id="estrat-gias-de-identifica-o" data-toc="estrat-gias-de-identifica-o">Estrat&eacute;gias de Identifica&ccedil;&atilde;o</h2><section class="chapter"><h3 id="1-chaves-naturais" data-toc="1-chaves-naturais">1. Chaves Naturais</h3><div class="code-block" data-lang="sql">
CREATE TABLE Produto (
    codigo_barras VARCHAR(13) PRIMARY KEY,
    descricao VARCHAR(200),
    preco DECIMAL(10,2)
);
</div></section><section class="chapter"><h3 id="2-chaves-surrogate" data-toc="2-chaves-surrogate">2. Chaves Surrogate</h3><div class="code-block" data-lang="sql">
CREATE TABLE Produto (
    id SERIAL PRIMARY KEY,
    codigo_barras VARCHAR(13) UNIQUE,
    descricao VARCHAR(200),
    preco DECIMAL(10,2)
);
</div></section></section><section class="chapter"><h2 id="restri-es-e-integridade" data-toc="restri-es-e-integridade">Restri&ccedil;&otilde;es e Integridade</h2><section class="chapter"><h3 id="1-dom-nios" data-toc="1-dom-nios">1. Dom&iacute;nios</h3><div class="code-block" data-lang="sql">
CREATE DOMAIN Email AS VARCHAR(100)
    CHECK (VALUE ~ '^[A-Za-z0-9._%+-]+@[A-Za-z0-9.-]+\.[A-Za-z]{2,}$');

CREATE TABLE Usuario (
    id SERIAL PRIMARY KEY,
    email Email NOT NULL UNIQUE
);
</div></section><section class="chapter"><h3 id="2-checks" data-toc="2-checks">2. Checks</h3><div class="code-block" data-lang="sql">
CREATE TABLE Produto (
    id SERIAL PRIMARY KEY,
    nome VARCHAR(100),
    preco DECIMAL(10,2),
    estoque INTEGER,
    CONSTRAINT check_preco_positivo CHECK (preco &gt; 0),
    CONSTRAINT check_estoque_positivo CHECK (estoque &gt;= 0)
);
</div></section></section><section class="chapter"><h2 id="padr-es-de-implementa-o" data-toc="padr-es-de-implementa-o">Padr&otilde;es de Implementa&ccedil;&atilde;o</h2><section class="chapter"><h3 id="1-auditoria" data-toc="1-auditoria">1. Auditoria</h3><div class="code-block" data-lang="sql">
CREATE TABLE Cliente (
    id SERIAL PRIMARY KEY,
    nome VARCHAR(100),
    criado_em TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    atualizado_em TIMESTAMP,
    criado_por VARCHAR(50),
    atualizado_por VARCHAR(50)
);
</div></section><section class="chapter"><h3 id="2-soft-delete" data-toc="2-soft-delete">2. Soft Delete</h3><div class="code-block" data-lang="sql">
CREATE TABLE Produto (
    id SERIAL PRIMARY KEY,
    nome VARCHAR(100),
    ativo BOOLEAN DEFAULT true,
    deletado_em TIMESTAMP,
    deletado_por VARCHAR(50)
);
</div></section></section><section class="chapter"><h2 id="considera-es-de-performance" data-toc="considera-es-de-performance">Considera&ccedil;&otilde;es de Performance</h2><section class="chapter"><h3 id="1-ndices" data-toc="1-ndices">1. &Iacute;ndices</h3><div class="code-block" data-lang="sql">
CREATE TABLE Pedido (
    id SERIAL PRIMARY KEY,
    cliente_id INTEGER,
    data DATE,
    status VARCHAR(20)
);

CREATE INDEX idx_pedido_cliente ON Pedido(cliente_id);
CREATE INDEX idx_pedido_data ON Pedido(data);
CREATE INDEX idx_pedido_status ON Pedido(status);
</div></section><section class="chapter"><h3 id="2-particionamento" data-toc="2-particionamento">2. Particionamento</h3><div class="code-block" data-lang="sql">
CREATE TABLE Vendas (
    id SERIAL,
    data DATE,
    valor DECIMAL(10,2)
) PARTITION BY RANGE (data);

CREATE TABLE vendas_2023 PARTITION OF Vendas
    FOR VALUES FROM ('2023-01-01') TO ('2024-01-01');
</div></section></section><section class="chapter"><h2 id="exemplos-pr-ticos" data-toc="exemplos-pr-ticos">Exemplos Pr&aacute;ticos</h2><section class="chapter"><h3 id="1-sistema-de-e-commerce" data-toc="1-sistema-de-e-commerce">1. Sistema de E-commerce</h3><div class="code-block" data-lang="sql">
CREATE TABLE Produto (
    id SERIAL PRIMARY KEY,
    sku VARCHAR(50) UNIQUE,
    nome VARCHAR(100),
    descricao TEXT,
    preco DECIMAL(10,2),
    estoque INTEGER,
    categoria_id INTEGER REFERENCES Categoria(id)
);

CREATE TABLE Pedido (
    id SERIAL PRIMARY KEY,
    cliente_id INTEGER REFERENCES Cliente(id),
    data TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    status VARCHAR(20),
    valor_total DECIMAL(10,2)
);

CREATE TABLE Item_Pedido (
    pedido_id INTEGER,
    produto_id INTEGER,
    quantidade INTEGER,
    preco_unitario DECIMAL(10,2),
    PRIMARY KEY (pedido_id, produto_id),
    FOREIGN KEY (pedido_id) REFERENCES Pedido(id),
    FOREIGN KEY (produto_id) REFERENCES Produto(id)
);
</div></section><section class="chapter"><h3 id="2-sistema-acad-mico" data-toc="2-sistema-acad-mico">2. Sistema Acad&ecirc;mico</h3><div class="code-block" data-lang="sql">
CREATE TABLE Aluno (
    matricula VARCHAR(20) PRIMARY KEY,
    nome VARCHAR(100),
    data_nascimento DATE,
    curso_id INTEGER REFERENCES Curso(id)
);

CREATE TABLE Disciplina (
    codigo VARCHAR(10) PRIMARY KEY,
    nome VARCHAR(100),
    carga_horaria INTEGER,
    departamento_id INTEGER REFERENCES Departamento(id)
);

CREATE TABLE Matricula (
    aluno_id VARCHAR(20),
    disciplina_id VARCHAR(10),
    semestre VARCHAR(6),
    nota DECIMAL(4,2),
    frequencia INTEGER,
    PRIMARY KEY (aluno_id, disciplina_id, semestre),
    FOREIGN KEY (aluno_id) REFERENCES Aluno(matricula),
    FOREIGN KEY (disciplina_id) REFERENCES Disciplina(codigo)
);
</div></section></section><div class="last-modified">25 abril 2025</div><div data-feedback-placeholder="true"></div><div class="navigation-links _bottom"><a href="er-to-relational.html" class="navigation-links__prev">Transforma&ccedil;&atilde;o ER para Relacional</a><a href="er-mapping-relationships.html" class="navigation-links__next">Mapeamento de Relacionamentos ER para Relacional</a></div></article><div id="disqus_thread"></div></div></section></main></div><script src="https://resources.jetbrains.com/writerside/apidoc/6.22.0-b776/app.js"></script></body></html>