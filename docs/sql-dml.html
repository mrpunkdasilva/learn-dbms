<!DOCTYPE html SYSTEM "about:legacy-compat">
<html lang="en-US" data-preset="contrast" data-primary-color="#E8488B"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="UTF-8"><meta name="built-on" content="2025-06-08T20:10:15.49996769"><title>DML - Linguagem de Manipula&ccedil;&atilde;o de Dados | Database Management Systems: A Complete Guide</title><script type="application/json" id="virtual-toc-data">[{"id":"vis-o-geral","level":0,"title":"Visão Geral","anchor":"#vis-o-geral"},{"id":"comandos-principais","level":0,"title":"Comandos Principais","anchor":"#comandos-principais"},{"id":"boas-pr-ticas","level":0,"title":"Boas Práticas","anchor":"#boas-pr-ticas"},{"id":"padr-es-comuns","level":0,"title":"Padrões Comuns","anchor":"#padr-es-comuns"},{"id":"troubleshooting","level":0,"title":"Troubleshooting","anchor":"#troubleshooting"},{"id":"conclus-o","level":0,"title":"Conclusão","anchor":"#conclus-o"}]</script><script type="application/json" id="topic-shortcuts"></script><link href="https://resources.jetbrains.com/writerside/apidoc/6.22.0-b776/app.css" rel="stylesheet"><link href="static/custom.css" rel="stylesheet"><link rel="icon" type="image/svg" sizes="16x16" href="images/logo-primary.svg"><meta name="image" content=""><!-- Open Graph --><meta property="og:title" content="DML - Linguagem de Manipula&ccedil;&atilde;o de Dados | Database Management Systems: A Complete Guide"><meta property="og:description" content=""><meta property="og:image" content=""><meta property="og:site_name" content="Database Management Systems: A Complete Guide Help"><meta property="og:type" content="website"><meta property="og:locale" content="en_US"><meta property="og:url" content="writerside-documentation/sql-dml.html"><!-- End Open Graph --><!-- Twitter Card --><meta name="twitter:card" content="summary_large_image"><meta name="twitter:site" content=""><meta name="twitter:title" content="DML - Linguagem de Manipula&ccedil;&atilde;o de Dados | Database Management Systems: A Complete Guide"><meta name="twitter:description" content=""><meta name="twitter:creator" content=""><meta name="twitter:image:src" content=""><!-- End Twitter Card --><!-- Schema.org WebPage --><script type="application/ld+json">{
    "@context": "http://schema.org",
    "@type": "WebPage",
    "@id": "writerside-documentation/sql-dml.html#webpage",
    "url": "writerside-documentation/sql-dml.html",
    "name": "DML - Linguagem de Manipula&ccedil;&atilde;o de Dados | Database Management Systems: A Complete Guide",
    "description": "",
    "image": "",
    "inLanguage":"en-US"
}</script><!-- End Schema.org --><!-- Schema.org WebSite --><script type="application/ld+json">{
    "@type": "WebSite",
    "@id": "writerside-documentation/#website",
    "url": "writerside-documentation/",
    "name": "Database Management Systems: A Complete Guide Help"
}</script><!-- End Schema.org --></head><body data-id="sql-dml" data-main-title="DML - Linguagem de Manipulação de Dados" data-article-props="{&quot;seeAlsoStyle&quot;:&quot;links&quot;}" data-template="article" data-breadcrumbs="sql-fundamentals.md|Fundamentos SQL"><div class="wrapper"><main class="panel _main"><header class="panel__header"><div class="container"><h3>Database Management Systems: A Complete Guide  Help</h3><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="inactive"><h1 data-toc="sql-dml" id="sql-dml.md">DML - Linguagem de Manipulação de Dados</h1><div class="code-block" data-lang="none">
╔══════════════════════════════════════════════════════════════╗
║  DATA_MANIPULATOR &gt;&gt; Operações com Dados                   ║
║  INSTRUTOR: DML_MASTER                                     ║
╚══════════════════════════════════════════════════════════════╝
</div><section class="chapter"><h2 id="vis-o-geral" data-toc="vis-o-geral">Vis&atilde;o Geral</h2><p id="-p4h7fa_10">DML_MASTER apresenta: &quot;A Linguagem de Manipula&ccedil;&atilde;o de Dados (DML) &eacute; o conjunto de comandos SQL usado para gerenciar dados em um banco de dados.&quot;</p></section><section class="chapter"><h2 id="comandos-principais" data-toc="comandos-principais">Comandos Principais</h2><section class="chapter"><h3 id="1-select" data-toc="1-select">1. SELECT</h3><p id="-p4h7fa_17">DATA_READER explica: &quot;Recupera dados do banco&quot;</p><div class="code-block" data-lang="sql">
-- Consulta básica
SELECT nome, preco 
FROM produtos 
WHERE categoria = 'Eletrônicos';

-- Com joins
SELECT c.nome, p.descricao
FROM clientes c
JOIN pedidos p ON c.id = p.cliente_id;
</div></section><section class="chapter"><h3 id="2-insert" data-toc="2-insert">2. INSERT</h3><p id="-p4h7fa_19">DATA_WRITER demonstra: &quot;Adiciona novos registros&quot;</p><div class="code-block" data-lang="sql">
-- Inserção simples
INSERT INTO produtos (nome, preco)
VALUES ('Smartphone', 999.99);

-- Inserção múltipla
INSERT INTO produtos (nome, preco)
VALUES 
    ('Tablet', 499.99),
    ('Notebook', 1499.99);
</div></section><section class="chapter"><h3 id="3-update" data-toc="3-update">3. UPDATE</h3><p id="-p4h7fa_21">DATA_MODIFIER apresenta: &quot;Modifica registros existentes&quot;</p><div class="code-block" data-lang="sql">
-- Atualização simples
UPDATE produtos 
SET preco = preco * 1.1
WHERE categoria = 'Eletrônicos';

-- Atualização com join
UPDATE pedidos p
SET status = 'Aprovado'
FROM clientes c
WHERE p.cliente_id = c.id
AND c.vip = true;
</div></section><section class="chapter"><h3 id="4-delete" data-toc="4-delete">4. DELETE</h3><p id="-p4h7fa_23">DATA_REMOVER alerta: &quot;Remove registros do banco&quot;</p><div class="code-block" data-lang="sql">
-- Remoção simples
DELETE FROM logs 
WHERE data &lt; CURRENT_DATE - INTERVAL '30 days';

-- Remoção com subquery
DELETE FROM produtos
WHERE id IN (
    SELECT produto_id 
    FROM estoque 
    WHERE quantidade = 0
);
</div></section><section class="chapter"><h3 id="5-merge" data-toc="5-merge">5. MERGE</h3><p id="-p4h7fa_25">DATA_SYNC_MASTER explica: &quot;Sincroniza dados entre tabelas&quot;</p><div class="code-block" data-lang="sql">
-- Merge básico
MERGE INTO produtos_destino d
USING produtos_origem o
ON (d.id = o.id)
WHEN MATCHED THEN
    UPDATE SET preco = o.preco
WHEN NOT MATCHED THEN
    INSERT (id, nome, preco)
    VALUES (o.id, o.nome, o.preco);
</div></section></section><section class="chapter"><h2 id="boas-pr-ticas" data-toc="boas-pr-ticas">Boas Pr&aacute;ticas</h2><p id="-p4h7fa_27">BEST_PRACTICE_GURU compartilha:</p><section class="chapter"><h3 id="1-performance" data-toc="1-performance">1. Performance</h3><ul class="list _bullet" id="-p4h7fa_31"><li class="list__item" id="-p4h7fa_32"><p id="-p4h7fa_36">Use &iacute;ndices apropriados</p></li><li class="list__item" id="-p4h7fa_33"><p id="-p4h7fa_37">Evite SELECT *</p></li><li class="list__item" id="-p4h7fa_34"><p id="-p4h7fa_38">Otimize JOINs</p></li><li class="list__item" id="-p4h7fa_35"><p id="-p4h7fa_39">Limite resultados quando poss&iacute;vel</p></li></ul></section><section class="chapter"><h3 id="2-seguran-a" data-toc="2-seguran-a">2. Seguran&ccedil;a</h3><ul class="list _bullet" id="-p4h7fa_40"><li class="list__item" id="-p4h7fa_41"><p id="-p4h7fa_45">Use transa&ccedil;&otilde;es</p></li><li class="list__item" id="-p4h7fa_42"><p id="-p4h7fa_46">Valide dados de entrada</p></li><li class="list__item" id="-p4h7fa_43"><p id="-p4h7fa_47">Fa&ccedil;a backup antes de opera&ccedil;&otilde;es grandes</p></li><li class="list__item" id="-p4h7fa_44"><p id="-p4h7fa_48">Use WHERE em UPDATE/DELETE</p></li></ul></section><section class="chapter"><h3 id="3-manuten-o" data-toc="3-manuten-o">3. Manuten&ccedil;&atilde;o</h3><ul class="list _bullet" id="-p4h7fa_49"><li class="list__item" id="-p4h7fa_51"><p id="-p4h7fa_55">Documente queries complexas</p></li><li class="list__item" id="-p4h7fa_52"><p id="-p4h7fa_56">Use aliases descritivos</p></li><li class="list__item" id="-p4h7fa_53"><p id="-p4h7fa_57">Mantenha consist&ecirc;ncia no estilo</p></li><li class="list__item" id="-p4h7fa_54"><p id="-p4h7fa_58">Implemente logging quando necess&aacute;rio</p></li></ul><div class="code-block" data-lang="none">
╔════════════════════════════════════════════╗
║  CHECKLIST DML:                           ║
║  □ Índices verificados?                   ║
║  □ Transação necessária?                  ║
║  □ WHERE clause adequada?                 ║
║  □ Performance otimizada?                 ║
║  □ Backup realizado?                      ║
╚════════════════════════════════════════════╝
</div></section></section><section class="chapter"><h2 id="padr-es-comuns" data-toc="padr-es-comuns">Padr&otilde;es Comuns</h2><p id="-p4h7fa_59">PATTERN_MASTER apresenta padr&otilde;es &uacute;teis:</p><section class="chapter"><h3 id="1-upsert" data-toc="1-upsert">1. Upsert</h3><div class="code-block" data-lang="sql">
INSERT INTO produtos (id, nome, preco)
VALUES (1, 'Smartphone', 999.99)
ON CONFLICT (id) 
DO UPDATE SET preco = EXCLUDED.preco;
</div></section><section class="chapter"><h3 id="2-soft-delete" data-toc="2-soft-delete">2. Soft Delete</h3><div class="code-block" data-lang="sql">
-- Em vez de DELETE
UPDATE usuarios
SET ativo = false,
    data_inativacao = CURRENT_TIMESTAMP
WHERE id = 123;
</div></section><section class="chapter"><h3 id="3-batch-processing" data-toc="3-batch-processing">3. Batch Processing</h3><div class="code-block" data-lang="sql">
-- Processamento em lotes
WITH batch AS (
    SELECT id 
    FROM pedidos 
    WHERE status = 'Pendente' 
    LIMIT 1000
    FOR UPDATE SKIP LOCKED
)
UPDATE pedidos p
SET status = 'Processando'
FROM batch b
WHERE p.id = b.id;
</div></section></section><section class="chapter"><h2 id="troubleshooting" data-toc="troubleshooting">Troubleshooting</h2><p id="-p4h7fa_66">ERROR_HANDLER apresenta solu&ccedil;&otilde;es para problemas comuns:</p><section class="chapter"><h3 id="1-deadlocks" data-toc="1-deadlocks">1. Deadlocks</h3><div class="code-block" data-lang="sql">
-- Verificando bloqueios
SELECT blocked_locks.pid AS blocked_pid,
       blocking_locks.pid AS blocking_pid
FROM pg_catalog.pg_locks blocked_locks
JOIN pg_catalog.pg_locks blocking_locks 
    ON blocking_locks.locktype = blocked_locks.locktype;
</div></section><section class="chapter"><h3 id="2-performance-issues" data-toc="2-performance-issues">2. Performance Issues</h3><div class="code-block" data-lang="sql">
-- Analisando query
EXPLAIN ANALYZE
SELECT * FROM produtos p
JOIN categorias c ON p.categoria_id = c.id
WHERE p.preco &gt; 100;
</div></section></section><section class="chapter"><h2 id="conclus-o" data-toc="conclus-o">Conclus&atilde;o</h2><p id="-p4h7fa_71">DML_MASTER conclui: &quot;O dom&iacute;nio dos comandos DML &eacute; essencial para qualquer desenvolvedor de banco de dados. Use-os com sabedoria e sempre considere performance e seguran&ccedil;a.&quot;</p><aside class="prompt" data-type="tip" data-title="" id="-p4h7fa_72"><p id="-p4h7fa_73"><span class="control" id="-p4h7fa_74">Dica Final</span>: Mantenha um ambiente de testes para praticar opera&ccedil;&otilde;es DML complexas antes de execut&aacute;-las em produ&ccedil;&atilde;o.</p></aside></section><div class="last-modified">03 maio 2025</div><div data-feedback-placeholder="true"></div><div class="navigation-links _bottom"><a href="lab-table-maintenance.html" class="navigation-links__prev">Laborat&oacute;rio: Manuten&ccedil;&atilde;o de Tabelas</a><a href="select-statements.html" class="navigation-links__next">SELECT: Recuperando Dados</a></div></article><div id="disqus_thread"></div></div></section></main></div><script src="https://resources.jetbrains.com/writerside/apidoc/6.22.0-b776/app.js"></script></body></html>