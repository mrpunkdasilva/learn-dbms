<!DOCTYPE html SYSTEM "about:legacy-compat">
<html lang="en-US" data-preset="contrast" data-primary-color="#E8488B"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="UTF-8"><meta name="built-on" content="2025-05-13T23:07:39.785193393"><title>Laborat&oacute;rio: Manipula&ccedil;&atilde;o de Dados | Database Management Systems: A Complete Guide</title><script type="application/json" id="virtual-toc-data">[{"id":"objetivo","level":0,"title":"Objetivo","anchor":"#objetivo"},{"id":"cen-rio","level":0,"title":"Cenário","anchor":"#cen-rio"},{"id":"setup-inicial","level":0,"title":"Setup Inicial","anchor":"#setup-inicial"},{"id":"parte-1-opera-es-crud-b-sicas","level":0,"title":"Parte 1: Operações CRUD Básicas","anchor":"#parte-1-opera-es-crud-b-sicas"},{"id":"parte-2-manipula-o-em-lote","level":0,"title":"Parte 2: Manipulação em Lote","anchor":"#parte-2-manipula-o-em-lote"},{"id":"conclus-o","level":0,"title":"Conclusão","anchor":"#conclus-o"}]</script><script type="application/json" id="topic-shortcuts"></script><link href="https://resources.jetbrains.com/writerside/apidoc/6.22.0-b776/app.css" rel="stylesheet"><link href="static/custom.css" rel="stylesheet"><link rel="icon" type="image/svg" sizes="16x16" href="images/logo-primary.svg"><meta name="image" content=""><!-- Open Graph --><meta property="og:title" content="Laborat&oacute;rio: Manipula&ccedil;&atilde;o de Dados | Database Management Systems: A Complete Guide"><meta property="og:description" content=""><meta property="og:image" content=""><meta property="og:site_name" content="Database Management Systems: A Complete Guide Help"><meta property="og:type" content="website"><meta property="og:locale" content="en_US"><meta property="og:url" content="writerside-documentation/lab-data-manipulation.html"><!-- End Open Graph --><!-- Twitter Card --><meta name="twitter:card" content="summary_large_image"><meta name="twitter:site" content=""><meta name="twitter:title" content="Laborat&oacute;rio: Manipula&ccedil;&atilde;o de Dados | Database Management Systems: A Complete Guide"><meta name="twitter:description" content=""><meta name="twitter:creator" content=""><meta name="twitter:image:src" content=""><!-- End Twitter Card --><!-- Schema.org WebPage --><script type="application/ld+json">{
    "@context": "http://schema.org",
    "@type": "WebPage",
    "@id": "writerside-documentation/lab-data-manipulation.html#webpage",
    "url": "writerside-documentation/lab-data-manipulation.html",
    "name": "Laborat&oacute;rio: Manipula&ccedil;&atilde;o de Dados | Database Management Systems: A Complete Guide",
    "description": "",
    "image": "",
    "inLanguage":"en-US"
}</script><!-- End Schema.org --><!-- Schema.org WebSite --><script type="application/ld+json">{
    "@type": "WebSite",
    "@id": "writerside-documentation/#website",
    "url": "writerside-documentation/",
    "name": "Database Management Systems: A Complete Guide Help"
}</script><!-- End Schema.org --></head><body data-id="lab-data-manipulation" data-main-title="Laboratório: Manipulação de Dados" data-article-props="{&quot;seeAlsoStyle&quot;:&quot;links&quot;}" data-template="article" data-breadcrumbs="sql-fundamentals.md|Fundamentos SQL///sql-dml.md|DML - Linguagem de Manipulação de Dados///dml-labs.md|Laboratórios de DML"><div class="wrapper"><main class="panel _main"><header class="panel__header"><div class="container"><h3>Database Management Systems: A Complete Guide  Help</h3><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="inactive"><h1 data-toc="lab-data-manipulation" id="lab-data-manipulation.md">Laboratório: Manipulação de Dados</h1><section class="chapter"><h2 id="objetivo" data-toc="objetivo">Objetivo</h2><p id="-wwf76j_9">Praticar opera&ccedil;&otilde;es DML (Data Manipulation Language) b&aacute;sicas em um banco de dados relacional, aplicando boas pr&aacute;ticas de manipula&ccedil;&atilde;o de dados.</p></section><section class="chapter"><h2 id="cen-rio" data-toc="cen-rio">Cen&aacute;rio</h2><p id="-wwf76j_10">Voc&ecirc; &eacute; um desenvolvedor de banco de dados em uma empresa de e-commerce que precisa implementar opera&ccedil;&otilde;es de manipula&ccedil;&atilde;o de dados para o sistema de gerenciamento de pedidos.</p></section><section class="chapter"><h2 id="setup-inicial" data-toc="setup-inicial">Setup Inicial</h2><div class="code-block" data-lang="sql">
-- Carregar dados de exemplo
INSERT INTO lab_workspace.clientes (nome, email, segmento, limite_credito)
VALUES 
    ('Ana Silva', 'ana.silva@email.com', 'Varejo', 2000.00),
    ('Bruno Costa', 'bruno@email.com', 'Atacado', 5000.00),
    ('Carla Mendes', 'carla@email.com', 'Varejo', 1500.00),
    ('Daniel Oliveira', 'daniel@email.com', 'Corporativo', 10000.00),
    ('Elena Santos', 'elena@email.com', 'Varejo', 2500.00);

INSERT INTO lab_workspace.produtos (codigo, nome, descricao, preco, estoque, categoria)
VALUES 
    ('PROD001', 'Smartphone X', 'Smartphone avançado com câmera de alta resolução', 1299.99, 50, 'Eletrônicos'),
    ('PROD002', 'Notebook Pro', 'Notebook para uso profissional', 3499.99, 20, 'Informática'),
    ('PROD003', 'Fones Bluetooth', 'Fones de ouvido sem fio', 199.99, 100, 'Acessórios'),
    ('PROD004', 'Monitor 24&quot;', 'Monitor LED Full HD', 799.99, 30, 'Informática'),
    ('PROD005', 'Teclado Mecânico', 'Teclado para gamers', 249.99, 45, 'Periféricos');

-- Registrar início do laboratório
INSERT INTO lab_workspace.lab_progress (lab_name)
VALUES ('Manipulação de Dados');
</div></section><section class="chapter"><h2 id="parte-1-opera-es-crud-b-sicas" data-toc="parte-1-opera-es-crud-b-sicas">Parte 1: Opera&ccedil;&otilde;es CRUD B&aacute;sicas</h2><section class="chapter"><h3 id="1-1-inser-o-de-dados" data-toc="1-1-inser-o-de-dados">1.1 Inser&ccedil;&atilde;o de Dados</h3><div class="code-block" data-lang="sql">
-- Inserir um novo cliente
INSERT INTO lab_workspace.clientes (nome, email, segmento, limite_credito)
VALUES ('Fernando Gomes', 'fernando@email.com', 'Varejo', 3000.00);

-- Inserir múltiplos produtos
INSERT INTO lab_workspace.produtos (codigo, nome, descricao, preco, estoque, categoria)
VALUES 
    ('PROD006', 'Mouse Sem Fio', 'Mouse ergonômico', 89.90, 60, 'Periféricos'),
    ('PROD007', 'Caixa de Som', 'Caixa de som bluetooth', 159.90, 25, 'Acessórios');

-- Inserir um pedido com seus itens
INSERT INTO lab_workspace.pedidos (cliente_id, observacoes)
VALUES (1, 'Entrega prioritária');

INSERT INTO lab_workspace.itens_pedido (pedido_id, produto_id, quantidade, preco_unitario)
VALUES 
    (1, 1, 1, 1299.99),
    (1, 3, 2, 199.99);

UPDATE lab_workspace.pedidos
SET valor_total = (
    SELECT SUM(quantidade * preco_unitario)
    FROM lab_workspace.itens_pedido
    WHERE pedido_id = 1
)
WHERE id = 1;
</div></section><section class="chapter"><h3 id="1-2-consulta-de-dados" data-toc="1-2-consulta-de-dados">1.2 Consulta de Dados</h3><div class="code-block" data-lang="sql">
-- Consulta simples
SELECT * FROM lab_workspace.clientes WHERE segmento = 'Varejo';

-- Consulta com JOIN
SELECT 
    p.id as pedido_id,
    c.nome as cliente,
    p.data_pedido,
    p.valor_total,
    p.status
FROM lab_workspace.pedidos p
JOIN lab_workspace.clientes c ON p.cliente_id = c.id;

-- Consulta detalhada de pedido
SELECT 
    p.id as pedido_id,
    c.nome as cliente,
    pr.nome as produto,
    ip.quantidade,
    ip.preco_unitario,
    (ip.quantidade * ip.preco_unitario) as subtotal
FROM lab_workspace.pedidos p
JOIN lab_workspace.clientes c ON p.cliente_id = c.id
JOIN lab_workspace.itens_pedido ip ON p.id = ip.pedido_id
JOIN lab_workspace.produtos pr ON ip.produto_id = pr.id
WHERE p.id = 1;
</div></section><section class="chapter"><h3 id="1-3-atualiza-o-de-dados" data-toc="1-3-atualiza-o-de-dados">1.3 Atualiza&ccedil;&atilde;o de Dados</h3><div class="code-block" data-lang="sql">
-- Atualização simples
UPDATE lab_workspace.clientes
SET email = 'ana.silva.nova@email.com'
WHERE id = 1;

-- Atualização com cálculo
UPDATE lab_workspace.produtos
SET preco = preco * 1.05
WHERE categoria = 'Eletrônicos';

-- Atualização com subconsulta
UPDATE lab_workspace.pedidos
SET status = 'Aprovado'
WHERE cliente_id IN (
    SELECT id FROM lab_workspace.clientes
    WHERE limite_credito &gt; 2000.00
);
</div></section><section class="chapter"><h3 id="1-4-exclus-o-de-dados" data-toc="1-4-exclus-o-de-dados">1.4 Exclus&atilde;o de Dados</h3><div class="code-block" data-lang="sql">
-- Exclusão simples
DELETE FROM lab_workspace.itens_pedido
WHERE pedido_id = 1 AND produto_id = 3;

-- Exclusão com subconsulta
DELETE FROM lab_workspace.produtos
WHERE estoque = 0 AND id NOT IN (
    SELECT produto_id FROM lab_workspace.itens_pedido
);

-- Exclusão em cascata
DELETE FROM lab_workspace.itens_pedido
WHERE pedido_id = 1;

DELETE FROM lab_workspace.pedidos
WHERE id = 1;
</div></section></section><section class="chapter"><h2 id="parte-2-manipula-o-em-lote" data-toc="parte-2-manipula-o-em-lote">Parte 2: Manipula&ccedil;&atilde;o em Lote</h2><section class="chapter"><h3 id="2-1-inser-o-em-lote" data-toc="2-1-inser-o-em-lote">2.1 Inser&ccedil;&atilde;o em Lote</h3><div class="code-block" data-lang="sql">
-- Inserir múltiplos clientes
INSERT INTO lab_workspace.clientes (nome, email, segmento, limite_credito)
SELECT 
    'Cliente ' || i,
    'cliente' || i || '@email.com',
    CASE WHEN i % 3 = 0 THEN 'Varejo' 
         WHEN i % 3 = 1 THEN 'Atacado' 
         ELSE 'Corporativo' END,
    1000 * (i % 10 + 1)
FROM generate_series(1, 10) i;

-- Verificar inserção
SELECT COUNT(*) FROM lab_workspace.clientes;
</div></section><section class="chapter"><h3 id="2-2-atualiza-o-em-lote" data-toc="2-2-atualiza-o-em-lote">2.2 Atualiza&ccedil;&atilde;o em Lote</h3><div class="code-block" data-lang="sql">
-- Atualizar status de múltiplos pedidos
UPDATE lab_workspace.pedidos
SET status = 'Processando'
WHERE status = 'Pendente';

-- Atualizar preços com base na categoria
UPDATE lab_workspace.produtos
SET preco = preco * 0.95  -- 5% desconto
WHERE categoria = 'Eletrônicos';
</div></section><section class="chapter"><h3 id="2-3-exclus-o-em-lote" data-toc="2-3-exclus-o-em-lote">2.3 Exclus&atilde;o em Lote</h3><div class="code-block" data-lang="sql">
-- Excluir pedidos antigos
DELETE FROM lab_workspace.itens_pedido
WHERE pedido_id IN (
    SELECT id FROM lab_workspace.pedidos
    WHERE status = 'Cancelado'
);

DELETE FROM lab_workspace.pedidos
WHERE status = 'Cancelado';
</div></section></section><section class="chapter"><h2 id="conclus-o" data-toc="conclus-o">Conclus&atilde;o</h2><p id="-wwf76j_26">Neste laborat&oacute;rio, voc&ecirc; praticou as opera&ccedil;&otilde;es DML b&aacute;sicas:</p><ul class="list _bullet" id="-wwf76j_27"><li class="list__item" id="-wwf76j_29"><p id="-wwf76j_33">Inser&ccedil;&atilde;o de dados (INSERT)</p></li><li class="list__item" id="-wwf76j_30"><p id="-wwf76j_34">Consulta de dados (SELECT)</p></li><li class="list__item" id="-wwf76j_31"><p id="-wwf76j_35">Atualiza&ccedil;&atilde;o de dados (UPDATE)</p></li><li class="list__item" id="-wwf76j_32"><p id="-wwf76j_36">Exclus&atilde;o de dados (DELETE)</p></li></ul><p id="-wwf76j_28">Estas opera&ccedil;&otilde;es s&atilde;o fundamentais para qualquer sistema de banco de dados e formam a base para manipula&ccedil;&atilde;o de dados em aplica&ccedil;&otilde;es.</p></section><div class="last-modified">09 maio 2025</div><div data-feedback-placeholder="true"></div><div class="navigation-links _bottom"><a href="dml-labs.html" class="navigation-links__prev">Laborat&oacute;rios de DML</a><a href="lab-data-analysis.html" class="navigation-links__next">Laborat&oacute;rio: An&aacute;lise de Dados</a></div></article><div id="disqus_thread"></div></div></section></main></div><script src="https://resources.jetbrains.com/writerside/apidoc/6.22.0-b776/app.js"></script></body></html>